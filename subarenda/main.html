<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <!-- PWA Meta Tags -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="–ê—Ä–µ–Ω–¥–∞ –∫–≤–∞—Ä—Ç–∏—Ä">
    <meta name="application-name" content="–ê—Ä–µ–Ω–¥–∞ –∫–≤–∞—Ä—Ç–∏—Ä">
    <meta name="theme-color" content="#2c3e50">
    <meta name="msapplication-TileColor" content="#2c3e50">
    <meta name="msapplication-tap-highlight" content="no">
    <title>–°—É–±–∞—Ä–µ–Ω–¥–∞ –∫–≤–∞—Ä—Ç–∏—Ä –≤ –ú–∏–Ω—Å–∫–µ | –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è</title>
    <meta name="description" content="–°—É–±–∞—Ä–µ–Ω–¥–∞ –∫–≤–∞—Ä—Ç–∏—Ä –≤ –ú–∏–Ω—Å–∫–µ. –£–¥–æ–±–Ω–æ–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å, –≤—ã–≥–æ–¥–Ω—ã–µ —Ü–µ–Ω—ã. –ó–∞–±—Ä–æ–Ω–∏—Ä—É–π—Ç–µ –∫–≤–∞—Ä—Ç–∏—Ä—É –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å!">
    <meta name="keywords" content="—Å—É–±–∞—Ä–µ–Ω–¥–∞, –∫–≤–∞—Ä—Ç–∏—Ä—ã, –ú–∏–Ω—Å–∫, –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ, –∞—Ä–µ–Ω–¥–∞, –ø–æ—Å—É—Ç–æ—á–Ω–æ">
    <meta name="author" content="–°—É–±–∞—Ä–µ–Ω–¥–∞ –ú–∏–Ω—Å–∫">
    <meta property="og:title" content="–°—É–±–∞—Ä–µ–Ω–¥–∞ –∫–≤–∞—Ä—Ç–∏—Ä –≤ –ú–∏–Ω—Å–∫–µ">
    <meta property="og:description" content="–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å—É–±–∞—Ä–µ–Ω–¥–∞ –∫–≤–∞—Ä—Ç–∏—Ä –≤ –ú–∏–Ω—Å–∫–µ. –£–¥–æ–±–Ω–æ–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–Ω–ª–∞–π–Ω.">
    <meta property="og:type" content="website">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üè†</text></svg>">
    
    <!-- Mobile Icons -->
    <link rel="apple-touch-icon" sizes="180x180" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üè†</text></svg>">
    <link rel="icon" type="image/png" sizes="32x32" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üè†</text></svg>">
    <link rel="icon" type="image/png" sizes="16x16" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üè†</text></svg>">
    <link rel="manifest" href="manifest.json">
    

    
    <!-- –Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç—ã API -->
    <script src="https://api-maps.yandex.ru/2.1/?apikey=bd5b2b64-e4ca-406c-ae14-f3829249eb8c&lang=ru_RU" type="text/javascript"></script>
    
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=GA_MEASUREMENT_ID"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'GA_MEASUREMENT_ID');
    </script>
    

    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #34495e;
            --accent-color: #3498db;
            --light-color: #ecf0f1;
            --dark-color: #2c3e50;
            --success-color: #27ae60;
            --warning-color: #e67e22;
            --danger-color: #e74c3c;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            color: #333;
            line-height: 1.6;
            min-height: 100vh;
        }
        
        header {
            background-color: var(--primary-color);
            color: white;
            padding: 1rem 0;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-size: 1.5rem;
            font-weight: bold;
        }
        
        .logo span {
            color: var(--accent-color);
        }
        
        .contact-info {
            text-align: right;
        }
        
        .contact-info a {
            color: white;
            text-decoration: none;
            display: block;
            margin-bottom: 0.3rem;
        }
        
        .contact-info a:hover {
            color: var(--accent-color);
        }
        
        .hero {
            background: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url('https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=1920&h=600&fit=crop') center/cover no-repeat;
            height: 500px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            color: white;
            margin-bottom: 2rem;
            position: relative;
            overflow: hidden;
        }
        
        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, rgba(52, 152, 219, 0.3), rgba(52, 73, 94, 0.3));
            z-index: 1;
        }
        
        .hero-content {
            position: relative;
            z-index: 2;
        }
        
        .hero-content h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }
        
        .hero-content p {
            font-size: 1.2rem;
            max-width: 700px;
            margin: 0 auto;
        }
        
        .filters {
            background: linear-gradient(135deg, white 0%, #f8f9fa 100%);
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 8px 30px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
            border: 1px solid rgba(0,0,0,0.05);
        }
        
        .filter-group {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin-bottom: 1rem;
        }
        
        .filter-item {
            flex: 1;
            min-width: 200px;
        }
        
        .filter-item label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
        }
        
        .filter-item select {
            width: 100%;
            padding: 0.8rem;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            background-color: white;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .filter-item select:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
        }
        
        .filter-item select:hover {
            border-color: var(--accent-color);
        }
        
        .filter-item input[type="date"] {
            width: 100%;
            padding: 0.8rem;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            background-color: white;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            cursor: pointer;
            font-family: inherit;
        }
        
        .filter-item input[type="date"]:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
        }
        
        .filter-item input[type="date"]:hover {
            border-color: var(--accent-color);
        }
        

        
        .apartments-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }
        
        .apartment-card {
            animation: fadeInUp 0.6s ease forwards;
            opacity: 0;
            transform: translateY(30px);
        }
        
        .apartment-card:nth-child(1) { animation-delay: 0.1s; }
        .apartment-card:nth-child(2) { animation-delay: 0.2s; }
        .apartment-card:nth-child(3) { animation-delay: 0.3s; }
        .apartment-card:nth-child(4) { animation-delay: 0.4s; }
        .apartment-card:nth-child(5) { animation-delay: 0.5s; }
        .apartment-card:nth-child(6) { animation-delay: 0.6s; }
        .apartment-card:nth-child(7) { animation-delay: 0.7s; }
        .apartment-card:nth-child(8) { animation-delay: 0.8s; }
        
        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        .notification-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .notification-content button {
            background: none;
            border: none;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            margin-left: 1rem;
        }
        
        /* –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .btn-loading {
            position: relative;
            pointer-events: none;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è —Å—Ç–∞—Ç—É—Å–∞ –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ */
        .status.available {
            color: #ffffff;
            background-color: #27ae60;
            padding: 6px 12px;
            border-radius: 12px;
            font-weight: 700;
            text-transform: uppercase;
            font-size: 0.85rem;
            box-shadow: 0 2px 4px rgba(39, 174, 96, 0.3);
        }
        
        .status.booked {
            color: #ffffff;
            background-color: #e67e22;
            padding: 6px 12px;
            border-radius: 12px;
            font-weight: 700;
            text-transform: uppercase;
            font-size: 0.85rem;
            box-shadow: 0 2px 4px rgba(230, 126, 34, 0.3);
        }
        
        .status.pending {
            color: #ffffff;
            background-color: #f39c12;
            padding: 6px 12px;
            border-radius: 12px;
            font-weight: 700;
            text-transform: uppercase;
            font-size: 0.85rem;
            box-shadow: 0 2px 4px rgba(243, 156, 18, 0.3);
        }
        
        .status.unknown {
            color: #ffffff;
            background-color: #95a5a6;
            padding: 6px 12px;
            border-radius: 12px;
            font-weight: 700;
            text-transform: uppercase;
            font-size: 0.85rem;
            box-shadow: 0 2px 4px rgba(149, 165, 166, 0.3);
        }
        
        .btn-loading::after {
            content: '';
            position: absolute;
            width: 16px;
            height: 16px;
            top: 50%;
            left: 50%;
            margin-left: -8px;
            margin-top: -8px;
            border: 2px solid transparent;
            border-top-color: #ffffff;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        .apartment-card {
            background-color: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            border: 1px solid rgba(0,0,0,0.05);
        }
        
        .apartment-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 8px 30px rgba(0,0,0,0.15);
        }
        
        .apartment-image {
            height: 220px;
            background-color: #ddd;
            background-size: cover;
            background-position: center;
            position: relative;
            transition: transform 0.3s ease;
        }
        
        .apartment-card:hover .apartment-image {
            transform: scale(1.05);
        }
        
        .status {
            position: absolute;
            top: 15px;
            right: 15px;
            padding: 0.4rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
            color: white;
            backdrop-filter: blur(10px);
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }
        
        .status.available {
            background: linear-gradient(45deg, #27ae60, #2ecc71);
            color: #ffffff;
            font-weight: 700;
            text-shadow: 0 1px 2px rgba(0,0,0,0.3);
        }
        
        .status.booked {
            background: linear-gradient(45deg, var(--warning-color), #f39c12);
        }
        
        .status.pending {
            background: linear-gradient(45deg, #f39c12, #e67e22);
            color: #ffffff;
            font-weight: 700;
            text-shadow: 0 1px 2px rgba(0,0,0,0.3);
        }
        
        .status.unknown {
            background: linear-gradient(45deg, #95a5a6, #7f8c8d);
            color: #ffffff;
            font-weight: 700;
            text-shadow: 0 1px 2px rgba(0,0,0,0.3);
        }
        
        .apartment-info {
            padding: 1.2rem;
        }
        
        .apartment-info h3 {
            margin-bottom: 0.5rem;
            color: var(--primary-color);
        }
        
        .apartment-location {
            display: flex;
            align-items: center;
            margin-bottom: 0.5rem;
            color: var(--secondary-color);
            font-size: 0.9rem;
        }
        
        .apartment-location i {
            margin-right: 0.5rem;
            color: var(--accent-color);
        }
        
        .apartment-details {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1rem;
            font-size: 0.9rem;
        }
        
        .apartment-price {
            font-weight: bold;
            color: var(--primary-color);
            font-size: 1.1rem;
        }
        
        .apartment-actions {
            display: flex;
            justify-content: space-between;
        }
        
        .btn {
            padding: 0.7rem 1.2rem;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            text-align: center;
            font-size: 0.9rem;
            position: relative;
            overflow: hidden;
        }
        
        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }
        
        .btn:hover::before {
            left: 100%;
        }
        
        .btn-primary {
            background: linear-gradient(45deg, var(--accent-color), #2980b9);
            color: white;
            box-shadow: 0 4px 15px rgba(52, 152, 219, 0.3);
        }
        
        .btn-primary:hover {
            background: linear-gradient(45deg, #2980b9, var(--accent-color));
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(52, 152, 219, 0.4);
        }
        
        .btn-secondary {
            background: linear-gradient(45deg, var(--secondary-color), #2c3e50);
            color: white;
            box-shadow: 0 4px 15px rgba(52, 73, 94, 0.3);
        }
        
        .btn-secondary:hover {
            background: linear-gradient(45deg, #2c3e50, var(--secondary-color));
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(52, 73, 94, 0.4);
        }
        
        .btn-danger {
            background: linear-gradient(45deg, var(--danger-color), #c0392b);
            color: white;
            box-shadow: 0 4px 15px rgba(231, 76, 60, 0.3);
        }
        
        .btn-danger:hover {
            background: linear-gradient(45deg, #c0392b, var(--danger-color));
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(231, 76, 60, 0.4);
        }

        .btn-success {
            background: linear-gradient(45deg, var(--success-color), #229954);
            color: white;
            box-shadow: 0 4px 15px rgba(39, 174, 96, 0.3);
        }

        .btn-success:hover {
            background: linear-gradient(45deg, #229954, var(--success-color));
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(39, 174, 96, 0.4);
        }
        
        .apartment-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.7);
            z-index: 1000;
            overflow-y: auto;
        }
        
        .modal-content {
            background-color: white;
            margin: 2rem auto;
            max-width: 900px;
            border-radius: 5px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        
        .modal-header {
            padding: 1.5rem;
            background-color: var(--primary-color);
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .close-modal {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
        }
        
        .modal-body {
            padding: 1.5rem;
        }
        
        .modal-gallery {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
        
        .modal-gallery img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 4px;
            cursor: pointer;
            transition: transform 0.3s ease;
        }
        
        .modal-gallery img:hover {
            transform: scale(1.03);
        }
        
        .modal-details {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1.5rem;
        }
        
        .modal-section h3 {
            margin-bottom: 1rem;
            color: var(--primary-color);
            border-bottom: 2px solid var(--accent-color);
            padding-bottom: 0.5rem;
        }
        
        .detail-item {
            margin-bottom: 0.8rem;
        }
        
        .detail-item strong {
            display: inline-block;
            min-width: 120px;
            color: var(--secondary-color);
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è —É–¥–æ–±—Å—Ç–≤ –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ */
        #modal-amenities {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 0.8rem;
            margin-top: 1rem;
        }
        
        #modal-amenities .detail-item {
            background-color: #f8f9fa;
            padding: 0.8rem;
            border-radius: 8px;
            border-left: 4px solid var(--primary-color);
            margin: 0;
            font-size: 0.9rem;
        }
        
        #modal-amenities .detail-item strong {
            color: var(--primary-color);
            font-weight: 600;
            min-width: auto;
        }
        
        .modal-footer {
            padding: 1.5rem;
            background-color: var(--light-color);
            text-align: center;
        }
        
        footer {
            background-color: var(--dark-color);
            color: white;
            padding: 2rem 0;
            text-align: center;
        }
        
        .footer-content {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
        }
        
        .footer-section {
            flex: 1;
            min-width: 250px;
            margin-bottom: 1.5rem;
        }
        
        .footer-section h3 {
            margin-bottom: 1rem;
            color: var(--accent-color);
        }
        
        .footer-section p, .footer-section a {
            color: #bdc3c7;
            margin-bottom: 0.5rem;
            display: block;
            text-decoration: none;
        }
        
        .footer-section a:hover {
            color: var(--accent-color);
        }
        
        .copyright {
            margin-top: 1.5rem;
            padding-top: 1.5rem;
            border-top: 1px solid #444;
            color: #bdc3c7;
            font-size: 0.9rem;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è */
        .booking-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.7);
            z-index: 1001;
            overflow-y: auto;
        }
        
        .booking-info {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: 1.5rem;
            border-radius: 10px;
            margin-bottom: 1.5rem;
        }
        
        .booking-info h3 {
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }
        
        .booking-info p {
            color: var(--secondary-color);
            margin: 0;
        }
        
        .booking-form {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
        
        .form-group {
            display: flex;
            flex-direction: column;
        }
        
        .form-group:nth-child(5),
        .form-group:nth-child(6) {
            grid-column: 1 / -1;
        }
        
        .form-group label {
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--primary-color);
        }
        
        .form-group input,
        .form-group select,
        .form-group textarea {
            padding: 0.8rem;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            font-family: inherit;
        }
        
        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
        }
        
        .phone-hint {
            display: block;
            font-size: 0.8rem;
            color: #666;
            margin-top: 0.3rem;
            font-style: italic;
        }
        
        .form-group input:invalid {
            border-color: var(--danger-color);
        }
        
        .form-group input:invalid:focus {
            box-shadow: 0 0 0 3px rgba(231, 76, 60, 0.1);
        }
        
        .form-group input:valid {
            border-color: var(--success-color);
        }
        
        .form-group textarea {
            resize: vertical;
            min-height: 80px;
        }
        
        .booking-summary {
            background: linear-gradient(135deg, #e8f4fd 0%, #d1ecf1 100%);
            padding: 1.5rem;
            border-radius: 10px;
            border-left: 4px solid var(--accent-color);
        }
        
        .booking-summary h4 {
            color: var(--primary-color);
            margin-bottom: 1rem;
        }
        
        .summary-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
            padding: 0.5rem 0;
            border-bottom: 1px solid rgba(0,0,0,0.1);
        }
        
        .summary-item:last-child {
            border-bottom: none;
            margin-bottom: 0;
        }
        
        .booking-status-available {
            color: var(--success-color);
            font-weight: bold;
        }
        
        .booking-status-unavailable {
            color: var(--danger-color);
            font-weight: bold;
        }
        
        .booking-status-conflict {
            color: var(--warning-color);
            font-weight: bold;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ */
        .admin-panel {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.8);
            z-index: 2000;
            display: none;
            align-items: center;
            justify-content: center;
        }
        
        .admin-overlay {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 2rem;
        }
        
        .admin-modal {
            background: white;
            border-radius: 15px;
            max-width: 900px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        
        .admin-header {
            background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 1.5rem;
            border-radius: 15px 15px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .admin-header h2 {
            margin: 0;
            font-size: 1.5rem;
        }
        
        .close-admin {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .admin-body {
            padding: 2rem;
        }
        
        .admin-tabs {
            display: flex;
            border-bottom: 2px solid #e9ecef;
            margin-bottom: 2rem;
        }
        
        .admin-tab {
            padding: 1rem 2rem;
            background: none;
            border: none;
            cursor: pointer;
            font-weight: 600;
            color: var(--secondary-color);
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
        }
        
        .admin-tab.active {
            color: var(--primary-color);
            border-bottom-color: var(--accent-color);
        }
        
        .admin-tab-content {
            display: none;
        }
        
        .admin-tab-content.active {
            display: block;
        }
        
        .admin-section h3 {
            color: var(--primary-color);
            margin-bottom: 1.5rem;
            border-bottom: 2px solid var(--accent-color);
            padding-bottom: 0.5rem;
        }
        
        .admin-controls {
            margin-bottom: 2rem;
        }
        
        .admin-input-group {
            display: flex;
            gap: 1rem;
            align-items: end;
            flex-wrap: wrap;
            margin-bottom: 1rem;
        }
        
        .admin-input-group label {
            font-weight: 600;
            color: var(--primary-color);
            min-width: 200px;
        }
        
        .admin-input-group input {
            flex: 1;
            min-width: 200px;
            padding: 0.8rem;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 0.9rem;
        }
        
        .admin-input-group input:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
        }
        
        .admin-apartments-list {
            display: grid;
            gap: 1rem;
        }
        
        .admin-apartment-item {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 10px;
            padding: 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }
        
        .admin-apartment-info {
            flex: 1;
            min-width: 300px;
        }
        
        .admin-apartment-info h5 {
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }
        
        .admin-apartment-info p {
            color: var(--secondary-color);
            margin: 0.2rem 0;
            font-size: 0.9rem;
        }
        
        .admin-apartment-status {
            display: flex;
            align-items: center;
            gap: 1rem;
            flex-wrap: wrap;
        }
        
        .admin-status-badge {
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-weight: bold;
            font-size: 0.9rem;
        }
        
        .admin-status-badge.available {
            background: linear-gradient(45deg, var(--success-color), #2ecc71);
            color: white;
        }
        
        .admin-status-badge.booked {
            background: linear-gradient(45deg, var(--warning-color), #f39c12);
            color: white;
        }
        
        .admin-status-toggle {
            display: flex;
            gap: 0.5rem;
        }
        
        .admin-btn {
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.8rem;
            transition: all 0.3s ease;
        }
        
        .admin-btn-success {
            background: var(--success-color);
            color: white;
        }
        
        .admin-btn-success:hover {
            background: #2ecc71;
        }
        
        .admin-btn-warning {
            background: var(--warning-color);
            color: white;
        }
        
        .admin-btn-warning:hover {
            background: #f39c12;
        }
        
        .admin-btn-danger {
            background: var(--danger-color);
            color: white;
        }
        
        .admin-btn-danger:hover {
            background: #c0392b;
        }
        
        .scroll-to-top {
            position: fixed;
            bottom: 80px;
            right: 20px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--accent-color);
            color: white;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            z-index: 1000;
            transition: all 0.3s ease;
            opacity: 0;
            visibility: hidden;
        }
        
        .scroll-to-top.visible {
            opacity: 1;
            visibility: visible;
        }
        
        .scroll-to-top:hover {
            transform: scale(1.1);
            background: var(--primary-color);
        }
        
        .admin-access-btn {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background: var(--primary-color);
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            cursor: pointer;
            font-size: 1.2rem;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
            z-index: 1000;
        }
        
        .admin-access-btn:hover {
            background: var(--secondary-color);
            transform: scale(1.1);
        }
        
        .pending-bookings-list {
            display: grid;
            gap: 1rem;
        }
        
        .pending-booking-item {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 10px;
            padding: 1.5rem;
            margin-bottom: 1rem;
        }
        
        .pending-booking-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }
        
        .pending-booking-title {
            color: var(--primary-color);
            font-weight: bold;
            font-size: 1.1rem;
        }
        
        .pending-booking-date {
            color: var(--secondary-color);
            font-size: 0.9rem;
        }
        
        .pending-booking-details {
            margin-bottom: 1rem;
        }
        
        .pending-booking-details p {
            margin: 0.3rem 0;
            color: var(--secondary-color);
        }
        
        .pending-booking-actions {
            display: flex;
            gap: 0.5rem;
            justify-content: flex-end;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –ø–ª–∞—Ç–µ–∂–µ–π */
        .payment-item {
            background: white;
            border: 1px solid var(--light-gray);
            border-radius: 10px;
            padding: 1rem;
            margin-bottom: 1rem;
        }

        .payment-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid var(--light-gray);
        }

        .payment-title {
            font-weight: 600;
            color: var(--primary-color);
        }

        .payment-date {
            font-size: 0.9rem;
            color: var(--dark-gray);
        }

        .payment-details p {
            margin: 0.3rem 0;
        }

        .payment-status {
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .payment-status.completed {
            background: rgba(39, 174, 96, 0.2);
            color: var(--success-color);
        }

        .payment-status.pending {
            background: rgba(243, 156, 18, 0.2);
            color: var(--warning-color);
        }

        .payment-status.failed {
            background: rgba(231, 76, 60, 0.2);
            color: var(--danger-color);
        }

        .payment-actions {
            display: flex;
            gap: 0.5rem;
            margin-top: 1rem;
            flex-wrap: wrap;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–≤–∞—Ä—Ç–∏—Ä */
        .edit-apartments-list {
            display: grid;
            gap: 1rem;
        }
        
        .edit-apartment-item {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 10px;
            padding: 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }
        
        .edit-apartment-info {
            flex: 1;
            min-width: 300px;
        }
        
        .edit-apartment-info h5 {
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }
        
        .edit-apartment-info p {
            color: var(--secondary-color);
            margin: 0.2rem 0;
            font-size: 0.9rem;
        }
        
        .edit-apartment-actions {
            display: flex;
            gap: 0.5rem;
        }
        
        /* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è */
        .edit-apartment-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.8);
            z-index: 3000;
            display: none;
            align-items: center;
            justify-content: center;
        }
        
        .edit-apartment-overlay {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 2rem;
        }
        
        .edit-apartment-content {
            background: white;
            border-radius: 15px;
            max-width: 800px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        
        .edit-apartment-header {
            background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 1.5rem;
            border-radius: 15px 15px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .edit-apartment-header h3 {
            margin: 0;
            font-size: 1.3rem;
        }
        
        .close-edit-modal {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .edit-apartment-body {
            padding: 2rem;
        }
        
        .edit-form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin-bottom: 1rem;
        }
        
        .edit-form-group {
            margin-bottom: 1rem;
        }
        
        .edit-form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--primary-color);
        }
        
        .edit-form-group input,
        .edit-form-group select,
        .edit-form-group textarea {
            width: 100%;
            padding: 0.8rem;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 0.9rem;
            font-family: inherit;
        }
        
        .edit-form-group input:focus,
        .edit-form-group select:focus,
        .edit-form-group textarea:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π */
        .image-upload-container {
            margin-top: 0.5rem;
        }
        
        .image-upload-area {
            border: 2px dashed #e9ecef;
            border-radius: 8px;
            padding: 2rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            background: #f8f9fa;
        }
        
        .image-upload-area:hover {
            border-color: var(--accent-color);
            background: rgba(52, 152, 219, 0.05);
        }
        
        .image-upload-area.dragover {
            border-color: var(--accent-color);
            background: rgba(52, 152, 219, 0.1);
        }
        
        .upload-icon {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }
        
        .upload-text {
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 0.3rem;
        }
        
        .upload-hint {
            font-size: 0.8rem;
            color: var(--secondary-color);
        }
        
        .image-preview {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: 0.5rem;
            margin-top: 1rem;
        }
        
        .image-preview-item {
            position: relative;
            border-radius: 8px;
            overflow: hidden;
            aspect-ratio: 1;
        }
        
        .image-preview-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .image-preview-item .remove-image {
            position: absolute;
            top: 5px;
            right: 5px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            border: none;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            cursor: pointer;
            font-size: 12px;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è —É–¥–æ–±—Å—Ç–≤ */
        .amenities-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 0.8rem;
            margin-top: 0.5rem;
        }
        
        .amenity-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 6px;
            transition: all 0.3s ease;
        }
        
        .amenity-item:hover {
            background: rgba(52, 152, 219, 0.1);
        }
        
        .amenity-item input[type="checkbox"] {
            margin: 0;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è —Å–∏—Å—Ç–µ–º—ã –º–æ–¥–µ—Ä–∞—Ü–∏–∏ */
        .pending-apartment-item {
            background: white;
            border: 1px solid #e9ecef;
            border-radius: 10px;
            padding: 1.5rem;
            margin-bottom: 1rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .pending-apartment-item h4 {
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }
        
        .pending-apartment-item p {
            margin-bottom: 0.3rem;
            color: var(--secondary-color);
        }
        
        .pending-actions {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .btn-success {
            background: var(--success-color);
            color: white;
        }
        
        .btn-success:hover {
            background: #1e7e34;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –∫–Ω–æ–ø–∫–∏ –ø–æ–¥–∞—á–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏—è */
        .post-ad-btn {
            background: linear-gradient(135deg, var(--accent-color), #2980b9);
            color: white;
            border: none;
            padding: 0.6rem 1.2rem;
            border-radius: 8px;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(52, 152, 219, 0.3);
        }
        
        .post-ad-btn:hover {
            background: linear-gradient(135deg, #2980b9, var(--accent-color));
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(52, 152, 219, 0.4);
        }
        
        .btn-accent {
            background: linear-gradient(135deg, var(--accent-color), #2980b9);
            color: white;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –∏–∫–æ–Ω–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è */
        .user-profile-icon {
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .profile-icon {
            width: 40px;
            height: 40px;
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            transition: all 0.3s ease;
        }
        
        .user-profile-icon:hover .profile-icon {
            background: #e9ecef;
            border-color: #3498db;
            transform: scale(1.1);
        }
        
        .edit-form-actions {
            display: flex;
            gap: 1rem;
            justify-content: flex-end;
            margin-top: 2rem;
            padding-top: 1rem;
            border-top: 1px solid #e9ecef;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ */
        .settings-form {
            display: grid;
            gap: 1.5rem;
        }
        
        .setting-group {
            display: grid;
            gap: 0.5rem;
        }
        
        .setting-group label {
            font-weight: 600;
            color: var(--primary-color);
        }
        
        .setting-group input {
            padding: 0.8rem;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 0.9rem;
        }
        
        .setting-group input:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ */
        .availability-calendar {
            background: white;
            border-radius: 10px;
            padding: 2rem;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            margin-bottom: 1rem;
        }
        
        /* –ú–∏–Ω–∏-–∫–∞–ª–µ–Ω–¥–∞—Ä—å –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ –∫–≤–∞—Ä—Ç–∏—Ä—ã */
        .availability-calendar:has(#modal-calendar-grid) {
            padding: 1rem;
            max-width: 400px;
            margin: 0.5rem auto;
            background: white;
            border-radius: 8px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            border: 1px solid #e9ecef;
        }
        
        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }
        
        .calendar-nav {
            display: flex;
            gap: 0.5rem;
        }
        
        .calendar-nav button {
            background: var(--accent-color);
            color: white;
            border: none;
            border-radius: 5px;
            padding: 0.5rem 1rem;
            cursor: pointer;
            font-size: 0.9rem;
        }
        
        .calendar-nav button:hover {
            background: var(--primary-color);
        }
        
        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 3px;
        }
        
        /* –ú–∏–Ω–∏-–∫–∞–ª–µ–Ω–¥–∞—Ä—å –¥–ª—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –∫–≤–∞—Ä—Ç–∏—Ä—ã */
        #modal-calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 2px;
            width: fit-content;
            margin: 0 auto;
        }
        
        #modal-calendar-grid .calendar-day {
            width: 28px;
            height: 28px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 4px;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
            padding: 0;
        }
        
        #modal-calendar-grid .calendar-header {
            width: 28px;
            height: 28px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 4px;
            font-size: 0.8rem;
            font-weight: 600;
            color: #666;
            padding: 0;
        }
        
        .calendar-day {
            aspect-ratio: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 6px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
            min-height: 40px;
        }
        
        .calendar-day.other-month {
            color: #b0b0b0;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border: 1px solid #e9ecef;
        }
        
        .calendar-day.available {
            background: linear-gradient(135deg, #e8f5e8 0%, #d4edda 100%);
            color: #2d5a2d;
            border: 1px solid #c3e6cb;
        }
        
        .calendar-day.available:hover {
            background: linear-gradient(135deg, #d4edda 0%, #c3e6cb 100%);
            transform: scale(1.05);
            box-shadow: 0 2px 8px rgba(52, 152, 219, 0.3);
        }
        
        .calendar-day.booked {
            background: linear-gradient(135deg, #ffeaea 0%, #f8d7da 100%);
            color: #721c24;
            cursor: not-allowed;
            border: 1px solid #f5c6cb;
        }
        
        .calendar-day.selected {
            background: var(--accent-color);
            color: white;
            font-weight: bold;
            border: 2px solid #2980b9;
            transform: scale(1.1);
        }
        
        .calendar-day.in-range {
            background: rgba(52, 152, 219, 0.3);
            color: var(--accent-color);
            font-weight: bold;
        }
        
        .calendar-day.today {
            border: 2px solid var(--accent-color);
        }
        
        .calendar-legend {
            display: flex;
            justify-content: center;
            gap: 1.5rem;
            margin-top: 1rem;
            padding: 0.8rem;
            background: #f8f9fa;
            border-radius: 8px;
            border: 1px solid #e9ecef;
            font-size: 0.8rem;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 3px;
        }
        
        .legend-available { background: #d4edda; }
        .legend-booked { background: #f8d7da; }
        .legend-selected { background: var(--accent-color); }
        
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                text-align: center;
            }
            
            .contact-info {
                text-align: center;
                margin-top: 1rem;
                font-size: 0.9rem;
            }
            
            .contact-info a {
                display: inline-block;
                margin: 0.2rem 0.5rem;
                padding: 0.3rem 0.8rem;
                background: rgba(255,255,255,0.1);
                border-radius: 20px;
                font-size: 0.8rem;
            }
            
            .hero {
                height: 300px;
            }
            
            .hero-content h1 {
                font-size: 2rem;
            }
            
            .modal-details {
                grid-template-columns: 1fr;
            }
            
            .modal-gallery {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .booking-form {
                grid-template-columns: 1fr;
            }
            
            .form-group:nth-child(5),
            .form-group:nth-child(6) {
                grid-column: 1;
            }
            
            .compact-map {
                height: 250px;
            }
            
            .detail-map {
                height: 300px;
            }
            
            .map-toggle {
                justify-content: center;
            }
            
            .map-controls {
                flex-direction: column;
                align-items: center;
            }
            
            .places-grid {
                grid-template-columns: 1fr;
            }
            
            .place-category {
                padding: 0.8rem;
            }
            
            /* –£–ª—É—á—à–µ–Ω–Ω–∞—è –º–æ–±–∏–ª—å–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è */
            .apartment-actions {
                flex-direction: column;
                gap: 0.5rem;
            }
            
            .apartment-actions .btn {
                width: 100%;
                text-align: center;
                min-height: 44px;
            }
            
            /* –ú–æ–±–∏–ª—å–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –∫–≤–∞—Ä—Ç–∏—Ä */
            .apartment-card {
                padding: 1rem;
                cursor: pointer;
                transition: transform 0.2s ease;
            }
            
            .apartment-card:active {
                transform: scale(0.98);
            }
            
            /* –ú–æ–±–∏–ª—å–Ω—ã–π –º–æ–¥–∞–ª */
            .modal-header h2 {
                font-size: 1.2rem;
            }
            
            .modal-footer {
                flex-direction: column;
                gap: 1rem;
            }
            
            .modal-footer .btn {
                width: 100%;
                min-height: 44px;
            }
            
            /* Touch-friendly —ç–ª–µ–º–µ–Ω—Ç—ã */
            .btn, button, select, input {
                min-height: 44px;
            }
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –∫–∞—Ä—Ç—ã –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ä–∞–π–æ–Ω–∞—Ö */
        .map-section {
            margin-bottom: 2rem;
        }
        
        .map-container {
            background: white;
            border-radius: 15px;
            padding: 1.5rem;
            box-shadow: 0 8px 30px rgba(0,0,0,0.1);
            border: 1px solid rgba(0,0,0,0.05);
        }
        
        /* –ö–æ–º–ø–∞–∫—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞ */
        .compact-map {
            height: 300px;
            border-radius: 8px;
            overflow: hidden;
        }
        
        /* –î–µ—Ç–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∞ –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ */
        .detail-map {
            height: 400px;
            border-radius: 8px;
            overflow: hidden;
            margin: 1rem 0;
        }
        
        .map-toggle {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }
        
        .map-toggle button {
            padding: 0.3rem 0.8rem;
            font-size: 0.8rem;
        }
        
        .map-toggle .active {
            background: var(--success-color) !important;
            color: white !important;
        }
        
        .map-toggle button {
            transition: all 0.3s ease;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –º–µ—Å—Ç —Ä—è–¥–æ–º –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ */
        .nearby-places {
            margin: 1rem 0;
        }
        
        .places-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .place-category {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 1rem;
            border-left: 3px solid var(--accent-color);
        }
        
        .place-category h5 {
            margin: 0 0 0.5rem 0;
            color: var(--primary-color);
            font-size: 0.9rem;
        }
        
        .place-list {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        
        .place-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.3rem 0;
            border-bottom: 1px solid #e9ecef;
        }
        
        .place-item:last-child {
            border-bottom: none;
        }
        

        
        .place-name {
            font-size: 0.8rem;
            color: var(--primary-color);
        }
        
        .place-distance {
            font-size: 0.7rem;
            color: var(--accent-color);
            font-weight: 600;
        }
        
        .map-controls {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .district-info {
            background: white;
            border-radius: 15px;
            padding: 1.5rem;
            box-shadow: 0 8px 30px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
            border: 1px solid rgba(0,0,0,0.05);
        }
        
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
        }
        
        .info-card {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 10px;
            padding: 1.2rem;
            border-left: 4px solid var(--accent-color);
        }
        
        .info-card h4 {
            color: var(--primary-color);
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }
        
        .place-item {
            display: flex;
            align-items: center;
            margin-bottom: 0.8rem;
            padding: 0.5rem;
            background: white;
            border-radius: 6px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            transition: all 0.3s ease;
        }
        
        .place-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }
        
        .place-icon {
            width: 30px;
            height: 30px;
            background: var(--accent-color);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 0.8rem;
            color: white;
            font-size: 0.8rem;
        }
        
        .place-info {
            flex: 1;
        }
        
        .place-name {
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 0.2rem;
        }
        
        .place-description {
            font-size: 0.8rem;
            color: var(--secondary-color);
        }
        
        .place-distance {
            font-size: 0.7rem;
            color: var(--accent-color);
            font-weight: 600;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –∫–≤–∞—Ä—Ç–∏—Ä–µ */
        .apartment-location-details {
            background: linear-gradient(135deg, #e8f4fd 0%, #d1ecf1 100%);
            padding: 1.5rem;
            border-radius: 10px;
            margin-top: 1rem;
            border-left: 4px solid var(--accent-color);
        }
        
        .location-features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .location-feature {
            display: flex;
            align-items: center;
            padding: 0.8rem;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        
        .location-feature-icon {
            width: 25px;
            height: 25px;
            background: var(--accent-color);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 0.8rem;
            color: white;
            font-size: 0.7rem;
        }
        
        .location-feature-text {
            font-size: 0.9rem;
            color: var(--primary-color);
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ */
        .district-stats {
            padding: 1rem;
        }
        
        .district-stats h3 {
            color: var(--primary-color);
            margin-bottom: 1.5rem;
            text-align: center;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
        }
        
        .stat-card {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 10px;
            padding: 1.2rem;
            border-left: 4px solid var(--accent-color);
        }
        
        .stat-card h4 {
            color: var(--primary-color);
            margin-bottom: 1rem;
            text-align: center;
        }
        
        .stat-numbers {
            display: grid;
            gap: 0.5rem;
        }
        
        .stat-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem;
            background: white;
            border-radius: 5px;
        }
        
        .stat-label {
            color: var(--secondary-color);
            font-size: 0.9rem;
        }
        
        .stat-value {
            font-weight: bold;
            color: var(--primary-color);
        }
        
        .stat-value.available {
            color: var(--success-color);
        }
        
        .stat-value.booked {
            color: var(--warning-color);
        }
        
        @media (max-width: 480px) {
            .filter-group {
                flex-direction: column;
            }
            
            .modal-gallery {
                grid-template-columns: 1fr;
            }
            
            .apartment-actions {
                flex-direction: column;
                gap: 0.5rem;
            }
            
            .btn {
                width: 100%;
            }
            
            .info-grid {
                grid-template-columns: 1fr;
            }
            
            .map-controls {
                flex-direction: column;
            }
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è —Å–∏—Å—Ç–µ–º—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ */
        .auth-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.8);
            z-index: 2000;
            overflow-y: auto;
        }
        
        .auth-overlay {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 2rem;
        }
        
        .auth-content {
            background: white;
            border-radius: 15px;
            max-width: 400px;
            width: 100%;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            animation: slideIn 0.3s ease;
        }
        
        .auth-header {
            background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 1.5rem;
            border-radius: 15px 15px 0 0;
            text-align: center;
        }
        
        .auth-header h3 {
            margin: 0;
            font-size: 1.3rem;
        }
        
        .close-auth {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            position: absolute;
            top: 1rem;
            right: 1rem;
            padding: 0;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .auth-body {
            padding: 2rem;
        }
        
        .auth-form {
            display: grid;
            gap: 1rem;
        }
        
        .auth-form-group {
            display: flex;
            flex-direction: column;
        }
        
        .auth-form-group label {
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--primary-color);
        }
        
        .auth-form-group input {
            padding: 0.8rem;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 0.9rem;
            font-family: inherit;
            transition: all 0.3s ease;
        }
        
        .auth-form-group input:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
        }
        
        .auth-form-group input:invalid {
            border-color: var(--danger-color);
        }
        
        .auth-form-group input:valid {
            border-color: var(--success-color);
        }
        
        .auth-actions {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .auth-switch {
            text-align: center;
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid #e9ecef;
        }
        
        .auth-switch a {
            color: var(--accent-color);
            text-decoration: none;
            font-weight: 600;
            cursor: pointer;
        }
        
        .auth-switch a:hover {
            text-decoration: underline;
        }
        
        .user-menu {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .user-info {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: white;
            font-size: 0.9rem;
            padding: 0.5rem 0.8rem;
            border-radius: 8px;
            transition: all 0.3s ease;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .user-info:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }
        
        .user-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--accent-color), var(--primary-color));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 0.9rem;
            border: 2px solid rgba(255, 255, 255, 0.3);
        }
        
        .user-profile-click {
            cursor: pointer;
        }
        
        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ */
        @media (max-width: 768px) {
            .user-info {
                padding: 0.4rem 0.6rem;
                font-size: 0.8rem;
            }
            
            .user-avatar {
                width: 28px;
                height: 28px;
                font-size: 0.8rem;
            }
        }
        
        .auth-error {
            background: #f8d7da;
            color: #721c24;
            padding: 0.8rem;
            border-radius: 8px;
            margin-bottom: 1rem;
            border: 1px solid #f5c6cb;
            display: none;
        }
        
        .auth-success {
            background: #d4edda;
            color: #155724;
            padding: 0.8rem;
            border-radius: 8px;
            margin-bottom: 1rem;
            border: 1px solid #c3e6cb;
            display: none;
        }
        
        .password-requirements {
            font-size: 0.8rem;
            color: #666;
            margin-top: 0.3rem;
        }
        
        .password-strength {
            height: 4px;
            background: #e9ecef;
            border-radius: 2px;
            margin-top: 0.3rem;
            overflow: hidden;
        }
        
        .password-strength-bar {
            height: 100%;
            width: 0%;
            transition: all 0.3s ease;
        }
        
        .strength-weak { background: var(--danger-color); }
        .strength-medium { background: var(--warning-color); }
        .strength-strong { background: var(--success-color); }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –ª–∏—á–Ω–æ–≥–æ –∫–∞–±–∏–Ω–µ—Ç–∞ */
        .personal-account-tabs {
            display: flex;
            border-bottom: 2px solid #e9ecef;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }
        
        .personal-tab {
            padding: 1rem 1.5rem;
            background: none;
            border: none;
            cursor: pointer;
            font-weight: 600;
            color: var(--secondary-color);
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }
        
        .personal-tab.active {
            color: var(--primary-color);
            border-bottom-color: var(--accent-color);
        }
        
        .personal-tab-content {
            display: none;
        }
        
        .personal-tab-content.active {
            display: block;
        }
        
        .profile-info, .bookings-info, .apartments-info, .settings-info {
            margin-bottom: 2rem;
        }
        
        .profile-info h4, .bookings-info h4, .apartments-info h4, .settings-info h4 {
            color: var(--primary-color);
            margin-bottom: 1rem;
            border-bottom: 2px solid var(--accent-color);
            padding-bottom: 0.5rem;
        }
        
        .profile-details {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1rem;
        }
        
        .profile-detail-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
            padding: 0.5rem 0;
            border-bottom: 1px solid #e9ecef;
        }
        
        .profile-detail-item:last-child {
            border-bottom: none;
        }
        
        .profile-detail-label {
            font-weight: 600;
            color: var(--secondary-color);
        }
        
        .profile-detail-value {
            color: var(--primary-color);
        }
        
        .user-apartment-item, .user-booking-item {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1rem;
        }
        
        .user-apartment-title, .user-booking-title {
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }
        
        .user-apartment-details, .user-booking-details {
            color: var(--secondary-color);
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
        }
        
        .user-apartment-actions, .user-booking-actions {
            display: flex;
            gap: 0.5rem;
            margin-top: 0.5rem;
        }
        
        .user-apartment-actions button, .user-booking-actions button {
            padding: 0.3rem 0.8rem;
            font-size: 0.8rem;
        }
        
        .empty-state {
            text-align: center;
            padding: 2rem;
            color: var(--secondary-color);
        }
        
        .empty-state-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            opacity: 0.5;
        }
        
        @media (max-width: 768px) {
            .auth-content {
                margin: 1rem;
                max-width: none;
            }
            
            .user-menu {
                flex-direction: column;
                gap: 0.5rem;
            }
            
            .user-info {
                font-size: 0.8rem;
            }
            
            .personal-account-tabs {
                flex-direction: column;
            }
            
            .personal-tab {
                text-align: center;
                border-bottom: none;
                border-right: 3px solid transparent;
            }
            
            .personal-tab.active {
                border-right-color: var(--accent-color);
                border-bottom-color: transparent;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container header-content">
            <div class="logo">–°—É–±–∞—Ä–µ–Ω–¥–∞<span>–ú–∏–Ω—Å–∫</span></div>
            <div class="contact-info">
                <a href="tel:+375257262593">+375 (25) 726-25-93</a>
                <div class="user-menu" id="user-menu" style="display: none;">
                    <div class="user-profile-icon" onclick="showPersonalAccount()">
                        <div class="profile-icon">üë§</div>
                    </div>
                    <a href="post-ad.html" class="btn btn-accent post-ad-btn" style="margin-left: 1rem; text-decoration: none;">
                        –ü–æ–¥–∞—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ
                    </a>
                    </div>
                <a href="auth.html" class="btn btn-primary" id="auth-btn" style="margin-left: 1rem; padding: 0.5rem 1rem; font-size: 0.9rem; text-decoration: none; display: inline-block;">–í–æ–π—Ç–∏</a>
            </div>
        </div>
    </header>
    
    <section class="hero">
        <div class="hero-content">
            <h1>–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å—É–±–∞—Ä–µ–Ω–¥–∞ –∫–≤–∞—Ä—Ç–∏—Ä –≤ –ú–∏–Ω—Å–∫–µ</h1>
            <p>–ü–æ–¥–±–µ—Ä–∏—Ç–µ –∏–¥–µ–∞–ª—å–Ω–æ–µ –∂–∏–ª—å–µ –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –ø—Ä–æ–∂–∏–≤–∞–Ω–∏—è –≤ –ª—é–±–æ–º —Ä–∞–π–æ–Ω–µ –≥–æ—Ä–æ–¥–∞</p>
        </div>
    </section>
    
    <div class="container">
        <section class="filters">
            <h2 style="margin-bottom: 1.5rem; color: var(--primary-color); font-size: 1.8rem; text-align: center; position: relative;">
                <span style="background: linear-gradient(45deg, var(--accent-color), var(--primary-color)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">–ü–æ–¥–±–æ—Ä –∫–≤–∞—Ä—Ç–∏—Ä—ã</span>
            </h2>
            

            
            <div class="filter-group">
                <div class="filter-item">
                    <label for="district">–†–∞–π–æ–Ω</label>
                    <select id="district">
                        <option value="all">–í—Å–µ —Ä–∞–π–æ–Ω—ã</option>
                        <option value="central">–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π</option>
                        <option value="soviet">–°–æ–≤–µ—Ç—Å–∫–∏–π</option>
                        <option value="pervomaisky">–ü–µ—Ä–≤–æ–º–∞–π—Å–∫–∏–π</option>
                        <option value="partisan">–ü–∞—Ä—Ç–∏–∑–∞–Ω—Å–∫–∏–π</option>
                        <option value="zavodskoy">–ó–∞–≤–æ–¥—Å–∫–æ–π</option>
                        <option value="leninsky">–õ–µ–Ω–∏–Ω—Å–∫–∏–π</option>
                        <option value="oktyabrsky">–û–∫—Ç—è–±—Ä—å—Å–∫–∏–π</option>
                        <option value="moskovsky">–ú–æ—Å–∫–æ–≤—Å–∫–∏–π</option>
                        <option value="frunzensky">–§—Ä—É–Ω–∑–µ–Ω—Å–∫–∏–π</option>
                    </select>
                </div>
                <div class="filter-item">
                    <label for="rooms">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–Ω–∞—Ç</label>
                    <select id="rooms">
                        <option value="all">–õ—é–±–æ–µ</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4+">4+</option>
                    </select>
                </div>
            </div>
            <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
                <button class="btn btn-primary" onclick="applyFilters()">–ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã</button>
                <button class="btn btn-secondary" onclick="showAllApartments()">–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ</button>
                <button class="btn btn-secondary" onclick="showDistrictStatistics()">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</button>
            </div>
        </section>
        

        
        <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–∞–π–æ–Ω–µ -->
        <section class="district-info" id="district-info" style="display: none;">
            <h3 style="margin-bottom: 1rem; color: var(--primary-color);">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–∞–π–æ–Ω–µ</h3>
            <div class="district-details">
                <div class="info-grid">
                    <div class="info-card">
                        <h4>üçΩÔ∏è –†–µ—Å—Ç–æ—Ä–∞–Ω—ã –∏ –∫–∞—Ñ–µ</h4>
                        <div id="restaurants-list"></div>
                    </div>
                    <div class="info-card">
                        <h4>üé≠ –†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è</h4>
                        <div id="entertainment-list"></div>
                    </div>
                    <div class="info-card">
                        <h4>üöá –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç</h4>
                        <div id="transport-list"></div>
                    </div>
                    <div class="info-card">
                        <h4>üõí –ú–∞–≥–∞–∑–∏–Ω—ã</h4>
                        <div id="shops-list"></div>
                    </div>
                </div>
            </div>
        </section>
        

        
        <section class="apartments-grid" id="apartments-container">
            <!-- –ö–≤–∞—Ä—Ç–∏—Ä—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
        </section>
    </div>
    
    <div class="apartment-modal" id="apartment-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modal-title">–ö–≤–∞—Ä—Ç–∏—Ä–∞ –≤ –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–º —Ä–∞–π–æ–Ω–µ</h2>
                <button class="close-modal" id="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="modal-gallery">
                    <img src="https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=600&h=400&fit=crop" alt="–§–æ—Ç–æ –∫–≤–∞—Ä—Ç–∏—Ä—ã 1">
                    <img src="https://images.unsplash.com/photo-1560185893-a55cbc8c57e8?w=600&h=400&fit=crop" alt="–§–æ—Ç–æ –∫–≤–∞—Ä—Ç–∏—Ä—ã 2">
                    <img src="https://images.unsplash.com/photo-1560185127-6ed189bf02f4?w=600&h=400&fit=crop" alt="–§–æ—Ç–æ –∫–≤–∞—Ä—Ç–∏—Ä—ã 3">
                    <img src="https://images.unsplash.com/photo-1560448075-bb485b067938?w=600&h=400&fit=crop" alt="–§–æ—Ç–æ –∫–≤–∞—Ä—Ç–∏—Ä—ã 4">
                    <img src="https://images.unsplash.com/photo-1560448204-603b3fc33ddc?w=600&h=400&fit=crop" alt="–§–æ—Ç–æ –∫–≤–∞—Ä—Ç–∏—Ä—ã 5">
                    <img src="https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=600&h=400&fit=crop" alt="–§–æ—Ç–æ –∫–≤–∞—Ä—Ç–∏—Ä—ã 6">
                </div>
                
                <div class="modal-details">
                    <div class="modal-section">
                        <h3>–û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
                        <div class="detail-item">
                            <strong>–†–∞–π–æ–Ω:</strong> <span id="modal-district">–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π</span>
                        </div>
                        <div class="detail-item">
                            <strong>–ê–¥—Ä–µ—Å:</strong> <span id="modal-address">—É–ª. –õ–µ–Ω–∏–Ω–∞, 15</span>
                        </div>
                        <div class="detail-item">
                            <strong>–ö–æ–º–Ω–∞—Ç:</strong> <span id="modal-rooms">2</span>
                        </div>
                        <div class="detail-item">
                            <strong>–≠—Ç–∞–∂:</strong> <span id="modal-floor">5/9</span>
                        </div>
                        <div class="detail-item">
                            <strong>–ü–ª–æ—â–∞–¥—å:</strong> <span id="modal-area">54 –º¬≤</span>
                        </div>
                        <div class="detail-item">
                            <strong>–°—Ç–∞—Ç—É—Å:</strong> <span id="modal-status" class="status available">–°–≤–æ–±–æ–¥–Ω–∞</span>
                        </div>
                        <div class="detail-item">
                            <strong>–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞—Ç—ã:</strong>
                            <div id="modal-booked-dates" style="margin-top: 0.5rem; font-size: 0.9rem; color: var(--secondary-color);">
                                <!-- –ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞—Ç—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
                            </div>
                        </div>
                        
                        <!-- –ú–∏–Ω–∏-–∫–∞–ª–µ–Ω–¥–∞—Ä—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ -->
                        <div class="availability-calendar" style="margin-top: 0.5rem;">
                            <div class="calendar-header">
                                <h4 style="font-size: 0.9rem; margin: 0 0 0.5rem 0;">–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å</h4>
                                <div style="text-align: center; margin-bottom: 0.8rem; padding: 0.5rem; background: #f8f9fa; border-radius: 5px;">
                                    <span id="modal-current-month" style="font-size: 1rem; color: var(--primary-color); font-weight: 700;">–Ø–Ω–≤–∞—Ä—å 2025</span>
                                </div>
                            </div>
                            <div class="calendar-grid" id="modal-calendar-grid">
                                <!-- –ú–∏–Ω–∏-–∫–∞–ª–µ–Ω–¥–∞—Ä—å –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω —á–µ—Ä–µ–∑ JavaScript -->
                            </div>
                        </div>
                    </div>
                    
                    <div class="modal-section">
                        <h3>–û–ø–∏—Å–∞–Ω–∏–µ</h3>
                        <p id="modal-description">
                            –£—é—Ç–Ω–∞—è 2-–∫–æ–º–Ω–∞—Ç–Ω–∞—è –∫–≤–∞—Ä—Ç–∏—Ä–∞ –≤ —Ü–µ–Ω—Ç—Ä–µ –ú–∏–Ω—Å–∫–∞. –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ä–µ–º–æ–Ω—Ç, –≤—Å—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞—è —Ç–µ—Ö–Ω–∏–∫–∞. 
                            –†—è–¥–æ–º –º–µ—Ç—Ä–æ, –º–∞–≥–∞–∑–∏–Ω—ã, –∫–∞—Ñ–µ. –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –¥–µ–ª–æ–≤–æ–π –ø–æ–µ–∑–¥–∫–∏ –∏–ª–∏ —Ç—É—Ä–∏–∑–º–∞.
                        </p>
                        
                        <h3 style="margin-top: 1.5rem;">–£–¥–æ–±—Å—Ç–≤–∞</h3>
                        <div id="modal-amenities">
                            <!-- –£–¥–æ–±—Å—Ç–≤–∞ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <div class="apartment-price" id="modal-price" style="font-size: 1.3rem; margin-bottom: 1rem;">–¶–µ–Ω–∞: –¥–æ–≥–æ–≤–æ—Ä–Ω–∞—è</div>
                <div style="display: flex; gap: 1rem; justify-content: center;">
                    <a href="tel:+375257262593" class="btn btn-primary">–ü–æ–∑–≤–æ–Ω–∏—Ç—å</a>
                </div>
            </div>
        </div>
    </div>
    
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è -->
    <div class="booking-modal" id="booking-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="booking-title">–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–≤–∞—Ä—Ç–∏—Ä—ã</h2>
                <button class="close-modal" id="close-booking-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="booking-info">
                    <h3 id="booking-apartment-title">–ù–∞–∑–≤–∞–Ω–∏–µ –∫–≤–∞—Ä—Ç–∏—Ä—ã</h3>
                    <p id="booking-apartment-address">–ê–¥—Ä–µ—Å –∫–≤–∞—Ä—Ç–∏—Ä—ã</p>
                </div>
                
                <div class="booking-form">
                                            <div class="form-group">
                            <label for="booking-check-in">–î–∞—Ç–∞ –∑–∞–µ–∑–¥–∞ *</label>
                            <input type="text" id="booking-check-in" readonly placeholder="–í—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—É –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ" style="background-color: #f8f9fa; cursor: not-allowed;">
                        </div>
                        <div class="form-group">
                            <label for="booking-check-out">–î–∞—Ç–∞ –≤—ã–µ–∑–¥–∞ *</label>
                            <input type="text" id="booking-check-out" readonly placeholder="–í—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—É –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ" style="background-color: #f8f9fa; cursor: not-allowed;">
                        </div>
                    
                    <!-- –ö–∞–ª–µ–Ω–¥–∞—Ä—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ -->
                    <div class="availability-calendar" id="availability-calendar">
                        <div class="calendar-header">
                            <h4>–ö–∞–ª–µ–Ω–¥–∞—Ä—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏</h4>
                            <div class="calendar-nav">
                                <button onclick="previousMonth()">‚Üê</button>
                                <span id="current-month">–Ø–Ω–≤–∞—Ä—å 2025</span>
                                <button onclick="nextMonth()">‚Üí</button>
                            </div>
                        </div>
                        <div class="calendar-grid" id="calendar-grid">
                            <!-- –ö–∞–ª–µ–Ω–¥–∞—Ä—å –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω —á–µ—Ä–µ–∑ JavaScript -->
                        </div>
                        <div class="calendar-legend">
                            <div class="legend-item">
                                <div class="legend-color legend-available"></div>
                                <span>–î–æ—Å—Ç—É–ø–Ω–æ</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color legend-booked"></div>
                                <span>–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–æ</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color legend-selected"></div>
                                <span>–í—ã–±—Ä–∞–Ω–æ</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="booking-name">–í–∞—à–µ –∏–º—è *</label>
                        <input type="text" id="booking-name" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è" required>
                    </div>
                    <div class="form-group">
                        <label for="booking-phone">–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ *</label>
                        <input type="tel" id="booking-phone" placeholder="+375 (25) 123-45-67" required pattern="^\+375\s?\(?\d{2}\)?\s?\d{3}-?\d{2}-?\d{2}$">
                        <small class="phone-hint">–§–æ—Ä–º–∞—Ç: +375 (25) 123-45-67</small>
                    </div>
                    <div class="form-group">
                        <label for="booking-guests">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥–æ—Å—Ç–µ–π</label>
                        <select id="booking-guests">
                            <option value="1">1 –≥–æ—Å—Ç—å</option>
                            <option value="2">2 –≥–æ—Å—Ç—è</option>
                            <option value="3">3 –≥–æ—Å—Ç—è</option>
                            <option value="4">4 –≥–æ—Å—Ç—è</option>
                            <option value="5+">5+ –≥–æ—Å—Ç–µ–π</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="booking-message">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</label>
                        <textarea id="booking-message" placeholder="–û—Å–æ–±—ã–µ –ø–æ–∂–µ–ª–∞–Ω–∏—è, –≤—Ä–µ–º—è –∑–∞–µ–∑–¥–∞ –∏ —Ç.–¥." rows="3"></textarea>
                    </div>
                </div>
                
                <div class="booking-summary">
                    <h4>–°–≤–æ–¥–∫–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</h4>
                    <div class="summary-item">
                        <span>–ü–µ—Ä–∏–æ–¥:</span>
                        <span id="booking-period">–í—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—ã</span>
                    </div>
                    <div class="summary-item">
                        <span>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–æ—á–µ–π:</span>
                        <span id="booking-nights">-</span>
                    </div>
                    <div class="summary-item">
                        <span>–°—Ç–∞—Ç—É—Å:</span>
                        <span id="booking-status" class="booking-status-available">–î–æ—Å—Ç—É–ø–Ω–æ</span>
                    </div>
                    <div class="summary-item">
                        <span>–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å:</span>
                        <span id="booking-total">-</span>
                    </div>
                    <div class="summary-item" style="margin-top: 1rem; padding-top: 1rem; border-top: 1px solid rgba(0,0,0,0.1);">
                        <span>–°–≤—è–∑–∞—Ç—å—Å—è:</span>
                        <a href="tel:+375257262593" class="btn btn-primary" style="padding: 0.3rem 0.8rem; font-size: 0.8rem;">+375 (25) 726-25-93</a>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancel-booking">–û—Ç–º–µ–Ω–∞</button>
                <button class="btn btn-success" id="pay-booking" onclick="redirectToPayment()">üí≥ –û–ø–ª–∞—Ç–∏—Ç—å</button>
                <button class="btn btn-primary" id="confirm-booking">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</button>
            </div>
        </div>
    </div>
    
    <footer>
        <div class="container footer-content">
            <div class="footer-section">
                <h3>–û –Ω–∞—Å</h3>
                <p>–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å—É–±–∞—Ä–µ–Ω–¥–∞ –∫–≤–∞—Ä—Ç–∏—Ä –≤ –ú–∏–Ω—Å–∫–µ. –†–∞–±–æ—Ç–∞–µ–º —Å 2015 –≥–æ–¥–∞.</p>
            </div>
            <div class="footer-section">
                <h3>–ö–æ–Ω—Ç–∞–∫—Ç—ã</h3>
                <a href="tel:+375257262593">+375 (25) 726-25-93</a>
                <a href="mailto:info@subarendaminsk.by">info@subarendaminsk.by</a>
            </div>
            <div class="footer-section">
                <h3>–†–∞–π–æ–Ω—ã —Ä–∞–±–æ—Ç—ã</h3>
                <p>–í—Å–µ 9 —Ä–∞–π–æ–Ω–æ–≤ –ú–∏–Ω—Å–∫–∞</p>
            </div>
        </div>
        <div class="container copyright">
            <p>&copy; 2025 –°—É–±–∞—Ä–µ–Ω–¥–∞ –∫–≤–∞—Ä—Ç–∏—Ä –≤ –ú–∏–Ω—Å–∫–µ. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
            <div style="margin-top: 1rem; font-size: 0.8rem; opacity: 0.8;">
                <a href="#" onclick="showPrivacyPolicy()" style="color: inherit; margin-right: 1rem;">–ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</a>
                <a href="#" onclick="showTerms()" style="color: inherit;">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ</a>
            </div>
        </div>
    </footer>
    
    <!-- –ö–Ω–æ–ø–∫–∞ "–ù–∞–≤–µ—Ä—Ö" -->
    <button class="scroll-to-top" id="scroll-to-top" title="–ù–∞–≤–µ—Ä—Ö">‚Üë</button>
    

    
    <!-- –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å -->
    <div class="admin-panel" id="admin-panel">
        <div class="admin-overlay">
            <div class="admin-modal">
                <div class="admin-header">
                    <h2>–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</h2>
                    <button class="close-admin" id="close-admin">&times;</button>
                </div>
                <div class="admin-body">
                    <div class="admin-controls">
                        <div class="admin-input-group">
                            <label for="admin-password">–ü–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:</label>
                            <input type="password" id="admin-password" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å">
                            <button class="btn btn-primary" id="login-admin">–í–æ–π—Ç–∏</button>
                        </div>
                    </div>
                    
                    <div class="admin-content" id="admin-content" style="display: none;">
                        <div class="admin-tabs">
                            <button class="admin-tab active" data-tab="apartments">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–≤–∞—Ä—Ç–∏—Ä–∞–º–∏</button>
                            <button class="admin-tab" data-tab="bookings">–ó–∞—è–≤–∫–∏ –Ω–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</button>
                            <button class="admin-tab" data-tab="payments">–ü–ª–∞—Ç–µ–∂–∏</button>
                            <button class="admin-tab" data-tab="edit">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–≤–∞—Ä—Ç–∏—Ä</button>
                            <button class="admin-tab" data-tab="settings">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
                            <button class="admin-btn admin-btn-danger" onclick="resetApartmentsData()" style="margin-left: auto; font-size: 0.8rem;">
                                –°–±—Ä–æ—Å–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
                            </button>
                        </div>
                        
                        <div class="admin-tab-content active" id="apartments-tab">
                            <div class="admin-section">
                                <h3>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞–º–∏ –∫–≤–∞—Ä—Ç–∏—Ä</h3>
                                <div class="admin-apartments-list" id="admin-apartments-list">
                                    <!-- –ö–≤–∞—Ä—Ç–∏—Ä—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
                                </div>
                            </div>
                        </div>
                        
                        <div class="admin-tab-content" id="bookings-tab">
                            <div class="admin-section">
                                <h3>–ó–∞—è–≤–∫–∏ –Ω–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</h3>
                                <div class="pending-bookings-list" id="pending-bookings-list">
                                    <!-- –ó–∞—è–≤–∫–∏ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
                                </div>
                            </div>
                        </div>
                        
                        <div class="admin-tab-content" id="payments-tab">
                            <div class="admin-section">
                                <h3>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞–º–∏</h3>
                                <div class="payments-list" id="payments-list">
                                    <!-- –ü–ª–∞—Ç–µ–∂–∏ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
                                </div>
                            </div>
                        </div>
                        
                        <div class="admin-tab-content" id="edit-tab">
                            <div class="admin-section">
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                                    <h3>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–≤–∞—Ä—Ç–∏—Ä</h3>
                                    <button class="admin-btn admin-btn-success" onclick="addNewApartment()">
                                        + –î–æ–±–∞–≤–∏—Ç—å –∫–≤–∞—Ä—Ç–∏—Ä—É
                                    </button>
                                </div>
                                <div class="edit-apartments-list" id="edit-apartments-list">
                                    <!-- –°–ø–∏—Å–æ–∫ –∫–≤–∞—Ä—Ç–∏—Ä –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è -->
                                </div>
                            </div>
                        </div>
                        
                        <div class="admin-tab-content" id="settings-tab">
                            <div class="admin-section">
                                <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã</h3>
                                <div class="settings-form">
                                    <div class="setting-group">
                                        <label for="new-admin-password">–ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏:</label>
                                        <input type="password" id="new-admin-password" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å">
                                        <div style="display: flex; gap: 0.5rem;">
                                            <button class="admin-btn admin-btn-success" onclick="changeAdminPassword()">
                                                –ò–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å
                                            </button>
                                            <button class="admin-btn admin-btn-warning" onclick="resetAdminPassword()">
                                                –°–±—Ä–æ—Å–∏—Ç—å
                                            </button>
                                        </div>
                                    </div>

                                    <div class="setting-group">
                                        <label for="contact-phone">–ö–æ–Ω—Ç–∞–∫—Ç–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω:</label>
                                        <input type="tel" id="contact-phone" placeholder="+375 (25) 726-25-93" value="+375 (25) 726-25-93" pattern="^\+375\s?\(?\d{2}\)?\s?\d{3}-?\d{2}-?\d{2}$">
                                        <small class="phone-hint">–§–æ—Ä–º–∞—Ç: +375 (25) 123-45-67</small>
                                        <button class="admin-btn admin-btn-success" onclick="updateContactPhone()">
                                            –û–±–Ω–æ–≤–∏—Ç—å
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–≤–∞—Ä—Ç–∏—Ä—ã -->
    <div class="edit-apartment-modal" id="edit-apartment-modal">
        <div class="edit-apartment-overlay">
            <div class="edit-apartment-content">
                <div class="edit-apartment-header">
                    <h3 id="edit-modal-title">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–≤–∞—Ä—Ç–∏—Ä—ã</h3>
                    <button class="close-edit-modal" id="close-edit-modal">&times;</button>
                </div>
                <div class="edit-apartment-body">
                    <form id="edit-apartment-form">
                        <div class="edit-form-row">
                            <div class="edit-form-group">
                                <label for="edit-title">–ù–∞–∑–≤–∞–Ω–∏–µ –∫–≤–∞—Ä—Ç–∏—Ä—ã:</label>
                                <input type="text" id="edit-title" required>
                            </div>
                            <div class="edit-form-group">
                                <label for="edit-district">–†–∞–π–æ–Ω:</label>
                                <select id="edit-district" required>
                                    <option value="central">–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π</option>
                                    <option value="soviet">–°–æ–≤–µ—Ç—Å–∫–∏–π</option>
                                    <option value="pervomaisky">–ü–µ—Ä–≤–æ–º–∞–π—Å–∫–∏–π</option>
                                    <option value="partisan">–ü–∞—Ä—Ç–∏–∑–∞–Ω—Å–∫–∏–π</option>
                                    <option value="zavodskoy">–ó–∞–≤–æ–¥—Å–∫–æ–π</option>
                                    <option value="leninsky">–õ–µ–Ω–∏–Ω—Å–∫–∏–π</option>
                                    <option value="oktyabrsky">–û–∫—Ç—è–±—Ä—å—Å–∫–∏–π</option>
                                    <option value="moskovsky">–ú–æ—Å–∫–æ–≤—Å–∫–∏–π</option>
                                    <option value="frunzensky">–§—Ä—É–Ω–∑–µ–Ω—Å–∫–∏–π</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="edit-form-row">
                            <div class="edit-form-group">
                                <label for="edit-address">–ê–¥—Ä–µ—Å:</label>
                                <input type="text" id="edit-address" required>
                            </div>
                            <div class="edit-form-group">
                                <label for="edit-rooms">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–Ω–∞—Ç:</label>
                                <select id="edit-rooms" required>
                                    <option value="1">1</option>
                                    <option value="2">2</option>
                                    <option value="3">3</option>
                                    <option value="4">4</option>
                                    <option value="5">5+</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="edit-form-row">
                            <div class="edit-form-group">
                                <label for="edit-floor">–≠—Ç–∞–∂:</label>
                                <input type="text" id="edit-floor" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä: 5/9" required>
                            </div>
                            <div class="edit-form-group">
                                <label for="edit-area">–ü–ª–æ—â–∞–¥—å:</label>
                                <input type="text" id="edit-area" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä: 45 –º¬≤" required>
                            </div>
                        </div>
                        
                        <div class="edit-form-group">
                            <label for="edit-description">–û–ø–∏—Å–∞–Ω–∏–µ:</label>
                            <textarea id="edit-description" rows="4" required></textarea>
                        </div>
                        
                        <div class="edit-form-group">
                            <label for="edit-status">–°—Ç–∞—Ç—É—Å:</label>
                            <select id="edit-status" required>
                                <option value="available">–°–≤–æ–±–æ–¥–Ω–∞</option>
                                <option value="booked">–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∞</option>
                            </select>
                        </div>
                        
                        <div class="edit-form-group">
                            <label for="edit-images">–°—Å—ã–ª–∫–∏ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é):</label>
                            <textarea id="edit-images" rows="3" placeholder="https://example.com/image1.jpg, https://example.com/image2.jpg"></textarea>
                        </div>
                        
                        <div class="edit-form-actions">
                            <button type="button" class="admin-btn admin-btn-warning" onclick="closeEditModal()">–û—Ç–º–µ–Ω–∞</button>
                            <button type="submit" class="admin-btn admin-btn-success">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                            <button type="button" class="admin-btn admin-btn-danger" id="delete-apartment-btn" style="display: none;">–£–¥–∞–ª–∏—Ç—å</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ -->
    <div class="auth-modal" id="auth-modal">
        <div class="auth-overlay">
            <div class="auth-content">
                <div class="auth-header">
                    <h3 id="auth-title">–í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É</h3>
                    <button class="close-auth" id="close-auth">&times;</button>
                </div>
                <div class="auth-body">
                    <div class="auth-error" id="auth-error"></div>
                    <div class="auth-success" id="auth-success"></div>
                    
                    <!-- –§–æ—Ä–º–∞ –≤—Ö–æ–¥–∞ -->
                    <form class="auth-form" id="login-form">
                        <div class="auth-form-group">
                            <label for="login-email">Email</label>
                            <input type="email" id="login-email" required>
                        </div>
                        <div class="auth-form-group">
                            <label for="login-password">–ü–∞—Ä–æ–ª—å</label>
                            <input type="password" id="login-password" required>
                        </div>
                        <div class="auth-actions">
                            <button type="submit" class="btn btn-primary">–í–æ–π—Ç–∏</button>
                            <button type="button" class="btn btn-secondary" onclick="closeAuthModal()">–û—Ç–º–µ–Ω–∞</button>
                        </div>
                    </form>
                    
                    <!-- –§–æ—Ä–º–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ -->
                    <form class="auth-form" id="register-form" style="display: none;">
                        <div class="auth-form-group">
                            <label for="register-name">–ò–º—è</label>
                            <input type="text" id="register-name" required>
                        </div>
                        <div class="auth-form-group">
                            <label for="register-email">Email</label>
                            <input type="email" id="register-email" required>
                        </div>
                        <div class="auth-form-group">
                            <label for="register-phone">–¢–µ–ª–µ—Ñ–æ–Ω</label>
                            <input type="tel" id="register-phone" placeholder="+375 (25) 123-45-67" pattern="^\+375\s?\(?\d{2}\)?\s?\d{3}-?\d{2}-?\d{2}$" required>
                        </div>
                        <div class="auth-form-group">
                            <label for="register-password">–ü–∞—Ä–æ–ª—å</label>
                            <input type="password" id="register-password" required>
                            <div class="password-requirements">
                                –ú–∏–Ω–∏–º—É–º 8 —Å–∏–º–≤–æ–ª–æ–≤, –≤–∫–ª—é—á–∞—è –±—É–∫–≤—ã –∏ —Ü–∏—Ñ—Ä—ã
                            </div>
                            <div class="password-strength">
                                <div class="password-strength-bar" id="password-strength-bar"></div>
                            </div>
                        </div>
                        <div class="auth-form-group">
                            <label for="register-confirm-password">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å</label>
                            <input type="password" id="register-confirm-password" required>
                        </div>
                        <div class="auth-actions">
                            <button type="submit" class="btn btn-primary">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
                            <button type="button" class="btn btn-secondary" onclick="closeAuthModal()">–û—Ç–º–µ–Ω–∞</button>
                        </div>
                    </form>
                    
                    <div class="auth-switch">
                        <span id="auth-switch-text">–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞?</span>
                        <a id="auth-switch-link" onclick="switchAuthForm()">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–æ–¥–∞—á–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏—è -->
    <div class="auth-modal" id="post-ad-modal">
        <div class="auth-overlay">
            <div class="auth-content" style="max-width: 600px;">
                <div class="auth-header">
                    <h3>üìù –ü–æ–¥–∞—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ</h3>
                    <button class="close-auth" onclick="closePostAdModal()">&times;</button>
                </div>
                <div class="auth-body">
                    <form class="auth-form" id="post-ad-form">
                        <div class="edit-form-row">
                            <div class="edit-form-group">
                                <label for="ad-title">–ù–∞–∑–≤–∞–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è *</label>
                                <input type="text" id="ad-title" required placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –£—é—Ç–Ω–∞—è 2-–∫–æ–º–Ω–∞—Ç–Ω–∞—è –≤ —Ü–µ–Ω—Ç—Ä–µ">
                            </div>
                            <div class="edit-form-group">
                                <label for="ad-district">–†–∞–π–æ–Ω *</label>
                                <select id="ad-district" required>
                                    <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–π–æ–Ω</option>
                                    <option value="central">–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π</option>
                                    <option value="soviet">–°–æ–≤–µ—Ç—Å–∫–∏–π</option>
                                    <option value="pervomaisky">–ü–µ—Ä–≤–æ–º–∞–π—Å–∫–∏–π</option>
                                    <option value="partisan">–ü–∞—Ä—Ç–∏–∑–∞–Ω—Å–∫–∏–π</option>
                                    <option value="zavodskoy">–ó–∞–≤–æ–¥—Å–∫–æ–π</option>
                                    <option value="leninsky">–õ–µ–Ω–∏–Ω—Å–∫–∏–π</option>
                                    <option value="oktyabrsky">–û–∫—Ç—è–±—Ä—å—Å–∫–∏–π</option>
                                    <option value="moskovsky">–ú–æ—Å–∫–æ–≤—Å–∫–∏–π</option>
                                    <option value="frunzensky">–§—Ä—É–Ω–∑–µ–Ω—Å–∫–∏–π</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="edit-form-row">
                            <div class="edit-form-group">
                                <label for="ad-address">–ê–¥—Ä–µ—Å *</label>
                                <input type="text" id="ad-address" required placeholder="—É–ª. –õ–µ–Ω–∏–Ω–∞, 15">
                            </div>
                            <div class="edit-form-group">
                                <label for="ad-rooms">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–Ω–∞—Ç *</label>
                                <select id="ad-rooms" required>
                                    <option value="">–í—ã–±–µ—Ä–∏—Ç–µ</option>
                                    <option value="1">1</option>
                                    <option value="2">2</option>
                                    <option value="3">3</option>
                                    <option value="4">4</option>
                                    <option value="5">5+</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="edit-form-row">
                            <div class="edit-form-group">
                                <label for="ad-floor">–≠—Ç–∞–∂ *</label>
                                <input type="text" id="ad-floor" required placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä: 5/9">
                            </div>
                            <div class="edit-form-group">
                                <label for="ad-area">–ü–ª–æ—â–∞–¥—å *</label>
                                <input type="text" id="ad-area" required placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä: 54 –º¬≤">
                            </div>
                        </div>
                        
                        <div class="edit-form-group">
                            <label for="ad-description">–û–ø–∏—Å–∞–Ω–∏–µ *</label>
                            <textarea id="ad-description" rows="4" required placeholder="–û–ø–∏—à–∏—Ç–µ –≤–∞—à—É –∫–≤–∞—Ä—Ç–∏—Ä—É, —É–¥–æ–±—Å—Ç–≤–∞, –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏..."></textarea>
                        </div>
                        
                        <div class="edit-form-group">
                            <label for="ad-images">–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –∫–≤–∞—Ä—Ç–∏—Ä—ã *</label>
                            <div class="image-upload-container">
                                <div class="image-upload-area" id="image-upload-area">
                                    <div class="upload-icon">üì∑</div>
                                    <div class="upload-text">–ù–∞–∂–º–∏—Ç–µ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π</div>
                                    <div class="upload-hint">–ú–∞–∫—Å–∏–º—É–º 10 —Ñ–æ—Ç–æ, –¥–æ 5MB –∫–∞–∂–¥–æ–µ</div>
                                    <input type="file" id="ad-images" multiple accept="image/*" style="display: none;">
                                </div>
                                <div class="image-preview" id="image-preview">
                                    <!-- –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π -->
                                </div>
                            </div>
                        </div>
                        
                        <div class="edit-form-row">
                            <div class="edit-form-group">
                                <label for="ad-price">–¶–µ–Ω–∞ –∑–∞ —Å—É—Ç–∫–∏ (BYN) *</label>
                                <input type="number" id="ad-price" placeholder="100" min="10" required>
                            </div>
                            <div class="edit-form-group">
                                <label for="ad-contact">–ö–æ–Ω—Ç–∞–∫—Ç–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω *</label>
                                <input type="tel" id="ad-contact" placeholder="+375 (25) 123-45-67" required>
                            </div>
                        </div>
                        
                        <div class="edit-form-group">
                            <label for="ad-amenities">–£–¥–æ–±—Å—Ç–≤–∞</label>
                            <div class="amenities-grid">
                                <label class="amenity-item">
                                    <input type="checkbox" value="wifi"> Wi-Fi
                                </label>
                                <label class="amenity-item">
                                    <input type="checkbox" value="air-conditioning"> –ö–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä
                                </label>
                                <label class="amenity-item">
                                    <input type="checkbox" value="parking"> –ü–∞—Ä–∫–æ–≤–∫–∞
                                </label>
                                <label class="amenity-item">
                                    <input type="checkbox" value="elevator"> –õ–∏—Ñ—Ç
                                </label>
                                <label class="amenity-item">
                                    <input type="checkbox" value="balcony"> –ë–∞–ª–∫–æ–Ω
                                </label>
                                <label class="amenity-item">
                                    <input type="checkbox" value="furnished"> –ú–µ–±–ª–∏—Ä–æ–≤–∞–Ω–∞
                                </label>
                            </div>
                        </div>
                        
                        <div class="auth-actions">
                            <button type="submit" class="btn btn-primary">–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ</button>
                            <button type="button" class="btn btn-secondary" onclick="closePostAdModal()">–û—Ç–º–µ–Ω–∞</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ "–ú–æ–∏ –∫–≤–∞—Ä—Ç–∏—Ä—ã" -->
    <div class="auth-modal" id="my-apartments-modal">
        <div class="auth-overlay">
            <div class="auth-content" style="max-width: 800px;">
                <div class="auth-header">
                    <h3>üè† –ú–æ–∏ –∫–≤–∞—Ä—Ç–∏—Ä—ã</h3>
                    <button class="close-auth" onclick="closeMyApartmentsModal()">&times;</button>
                </div>
                <div class="auth-body">
                    <div id="my-apartments-list">
                        <!-- –°–ø–∏—Å–æ–∫ –∫–≤–∞—Ä—Ç–∏—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω —á–µ—Ä–µ–∑ JavaScript -->
                    </div>
                    <div style="text-align: center; margin-top: 1rem;">
                        <button class="btn btn-primary" onclick="showPostAdForm()">+ –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∫–≤–∞—Ä—Ç–∏—Ä—É</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    

    
    <script>
        // –î–∞–Ω–Ω—ã–µ –æ –∫–≤–∞—Ä—Ç–∏—Ä–∞—Ö —Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏ (–±—É–¥—É—Ç –∑–∞–º–µ–Ω–µ–Ω—ã –¥–∞–Ω–Ω—ã–º–∏ —Å —Å–µ—Ä–≤–µ—Ä–∞)
        let apartments = [
            {
                id: 1,
                title: "–£—é—Ç–Ω–∞—è 1-–∫–æ–º–Ω–∞—Ç–Ω–∞—è –≤ —Ü–µ–Ω—Ç—Ä–µ",
                district: "central",
                address: "—É–ª. –õ–µ–Ω–∏–Ω–∞, 15",
                coordinates: { lat: 53.902284, lng: 27.561831 },
                rooms: 1,
                floor: "5/9",
                area: "38 –º¬≤",
                status: "available",
                bookedDates: [],
                pendingBookings: [],
                description: "–ö–æ–º–ø–∞–∫—Ç–Ω–∞—è –æ–¥–Ω–æ–∫–æ–º–Ω–∞—Ç–Ω–∞—è –∫–≤–∞—Ä—Ç–∏—Ä–∞ –≤ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–æ–º —Ü–µ–Ω—Ç—Ä–µ. –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ä–µ–º–æ–Ω—Ç, –≤—Å–µ —É–¥–æ–±—Å—Ç–≤–∞. –†—è–¥–æ–º –º–µ—Ç—Ä–æ, –º–∞–≥–∞–∑–∏–Ω—ã, —Ä–µ—Å—Ç–æ—Ä–∞–Ω—ã.",
                amenities: {
                    furniture: "–ü–æ–ª–Ω–æ—Å—Ç—å—é –º–µ–±–ª–∏—Ä–æ–≤–∞–Ω–∞",
                    appliances: "–•–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫, —Ç–µ–ª–µ–≤–∏–∑–æ—Ä, –º–∏–∫—Ä–æ–≤–æ–ª–Ω–æ–≤–∫–∞",
                    internet: "Wi-Fi",
                    conditioner: "–ù–µ—Ç"
                },
                images: [
                    "https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=600&h=400&fit=crop",
                    "https://images.unsplash.com/photo-1560448075-bb485b067938?w=600&h=400&fit=crop",
                    "https://images.unsplash.com/photo-1560448204-603b3fc33ddc?w=600&h=400&fit=crop"
                ]
            },
            {
                id: 2,
                title: "–ü—Ä–æ—Å—Ç–æ—Ä–Ω–∞—è 2-–∫–æ–º–Ω–∞—Ç–Ω–∞—è —É –º–µ—Ç—Ä–æ",
                district: "soviet",
                address: "–ø—Ä. –ù–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, 45",
                coordinates: { lat: 53.917284, lng: 27.549284 },
                rooms: 2,
                floor: "3/5",
                area: "62 –º¬≤",
                status: "available",
                bookedDates: [],
                pendingBookings: [],
                description: "–°–≤–µ—Ç–ª–∞—è –¥–≤—É—Ö–∫–æ–º–Ω–∞—Ç–Ω–∞—è –∫–≤–∞—Ä—Ç–∏—Ä–∞ –≤ –Ω–æ–≤–æ–º –¥–æ–º–µ. –ü–∞–Ω–æ—Ä–∞–º–Ω—ã–µ –æ–∫–Ω–∞, —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∫—É—Ö–Ω—è. 5 –º–∏–Ω—É—Ç –¥–æ –º–µ—Ç—Ä–æ.",
                amenities: {
                    furniture: "–ü–æ–ª–Ω–æ—Å—Ç—å—é –º–µ–±–ª–∏—Ä–æ–≤–∞–Ω–∞",
                    appliances: "–•–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫, —Å—Ç–∏—Ä–∞–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∞, —Ç–µ–ª–µ–≤–∏–∑–æ—Ä, –º–∏–∫—Ä–æ–≤–æ–ª–Ω–æ–≤–∫–∞",
                    internet: "Wi-Fi",
                    conditioner: "–î–∞"
                },
                images: [
                    "https://images.unsplash.com/photo-1560185893-a55cbc8c57e8?w=600&h=400&fit=crop",
                    "https://images.unsplash.com/photo-1560185127-6ed189bf02f4?w=600&h=400&fit=crop",
                    "https://images.unsplash.com/photo-1560448204-603b3fc33ddc?w=600&h=400&fit=crop",
                    "https://images.unsplash.com/photo-1560448075-bb485b067938?w=600&h=400&fit=crop"
                ]
            },
            {
                id: 3,
                title: "3-–∫–æ–º–Ω–∞—Ç–Ω–∞—è –≤ –∑–µ–ª–µ–Ω–æ–º —Ä–∞–π–æ–Ω–µ",
                district: "frunzensky",
                address: "—É–ª. –ü—Ä–∏—Ç—ã—Ü–∫–æ–≥–æ, 78",
                coordinates: { lat: 53.908984, lng: 27.499784 },
                rooms: 3,
                floor: "7/12",
                area: "84 –º¬≤",
                status: "booked",
                bookedDates: [
                    { start: "2025-01-01", end: "2025-01-31" },
                    { start: "2025-02-15", end: "2025-03-15" }
                ],
                pendingBookings: [],
                description: "–ü—Ä–æ—Å—Ç–æ—Ä–Ω–∞—è —Ç—Ä–µ—Ö–∫–æ–º–Ω–∞—Ç–Ω–∞—è –∫–≤–∞—Ä—Ç–∏—Ä–∞ –≤ —Ç–∏—Ö–æ–º —Ä–∞–π–æ–Ω–µ. –ë–æ–ª—å—à–∞—è –∫—É—Ö–Ω—è-–≥–æ—Å—Ç–∏–Ω–∞—è, 2 —Å–∞–Ω—É–∑–ª–∞. –†—è–¥–æ–º –ø–∞—Ä–∫ –∏ —à–∫–æ–ª–∞.",
                amenities: {
                    furniture: "–ü–æ–ª–Ω–æ—Å—Ç—å—é –º–µ–±–ª–∏—Ä–æ–≤–∞–Ω–∞",
                    appliances: "–•–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫, —Å—Ç–∏—Ä–∞–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∞, —Ç–µ–ª–µ–≤–∏–∑–æ—Ä, –º–∏–∫—Ä–æ–≤–æ–ª–Ω–æ–≤–∫–∞, –ø–æ—Å—É–¥–æ–º–æ–π–∫–∞",
                    internet: "Wi-Fi",
                    conditioner: "–î–∞"
                },
                images: [
                    "https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=600&h=400&fit=crop",
                    "https://images.unsplash.com/photo-1560185893-a55cbc8c57e8?w=600&h=400&fit=crop",
                    "https://images.unsplash.com/photo-1560185127-6ed189bf02f4?w=600&h=400&fit=crop",
                    "https://images.unsplash.com/photo-1560448075-bb485b067938?w=600&h=400&fit=crop",
                    "https://images.unsplash.com/photo-1560448204-603b3fc33ddc?w=600&h=400&fit=crop"
                ]
            },
            {
                id: 4,
                title: "–°—Ç—É–¥–∏—è –≤ –Ω–æ–≤–æ—Å—Ç—Ä–æ–π–∫–µ",
                district: "moskovsky",
                address: "—É–ª. –†–∞—Ñ–∏–µ–≤–∞, 12",
                coordinates: { lat: 53.876584, lng: 27.538284 },
                rooms: 1,
                floor: "9/16",
                area: "32 –º¬≤",
                status: "available",
                bookedDates: [],
                pendingBookings: [],
                description: "–°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è —Å—Ç—É–¥–∏—è —Å –µ–≤—Ä–æ—Ä–µ–º–æ–Ω—Ç–æ–º. –°—Ç–∏–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—å–µ—Ä, –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Ç–µ—Ö–Ω–∏–∫–∞. –†–∞–∑–≤–∏—Ç–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–∞–π–æ–Ω–∞.",
                amenities: {
                    furniture: "–ü–æ–ª–Ω–æ—Å—Ç—å—é –º–µ–±–ª–∏—Ä–æ–≤–∞–Ω–∞",
                    appliances: "–•–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫, —Ç–µ–ª–µ–≤–∏–∑–æ—Ä, –º–∏–∫—Ä–æ–≤–æ–ª–Ω–æ–≤–∫–∞, –¥—É—Ö–æ–≤–∫–∞",
                    internet: "Wi-Fi",
                    conditioner: "–î–∞"
                },
                images: [
                    "https://images.unsplash.com/photo-1560448204-603b3fc33ddc?w=600&h=400&fit=crop",
                    "https://images.unsplash.com/photo-1560448075-bb485b067938?w=600&h=400&fit=crop",
                    "https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=600&h=400&fit=crop"
                ]
            },
            {
                id: 5,
                title: "2-–∫–æ–º–Ω–∞—Ç–Ω–∞—è –Ω–∞ –ø–µ—Ä–≤–æ–π –ª–∏–Ω–∏–∏",
                district: "zavodskoy",
                address: "—É–ª. –í–∞–Ω–µ–µ–≤–∞, 34",
                coordinates: { lat: 53.890184, lng: 27.567484 },
                rooms: 2,
                floor: "1/5",
                area: "58 –º¬≤",
                status: "available",
                bookedDates: [],
                pendingBookings: [],
                description: "–£–¥–æ–±–Ω–∞—è –¥–≤—É—Ö–∫–æ–º–Ω–∞—Ç–Ω–∞—è –∫–≤–∞—Ä—Ç–∏—Ä–∞ –Ω–∞ –ø–µ—Ä–≤–æ–º —ç—Ç–∞–∂–µ. –û—Ç–¥–µ–ª—å–Ω—ã–π –≤—Ö–æ–¥, —Å–≤–æ–π –¥–≤–æ—Ä. –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Å–µ–º—å–∏ —Å –¥–µ—Ç—å–º–∏.",
                amenities: {
                    furniture: "–ü–æ–ª–Ω–æ—Å—Ç—å—é –º–µ–±–ª–∏—Ä–æ–≤–∞–Ω–∞",
                    appliances: "–•–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫, —Å—Ç–∏—Ä–∞–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∞, —Ç–µ–ª–µ–≤–∏–∑–æ—Ä",
                    internet: "Wi-Fi",
                    conditioner: "–ù–µ—Ç"
                },
                images: [
                    "https://images.unsplash.com/photo-1560185893-a55cbc8c57e8?w=600&h=400&fit=crop",
                    "https://images.unsplash.com/photo-1560185127-6ed189bf02f4?w=600&h=400&fit=crop",
                    "https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=600&h=400&fit=crop"
                ]
            },
            {
                id: 6,
                title: "–≠–ª–∏—Ç–Ω–∞—è 3-–∫–æ–º–Ω–∞—Ç–Ω–∞—è",
                district: "central",
                address: "—É–ª. –ö–∞—Ä–ª–∞ –ú–∞—Ä–∫—Å–∞, 30",
                coordinates: { lat: 53.905284, lng: 27.554684 },
                rooms: 3,
                floor: "10/12",
                area: "92 –º¬≤",
                status: "booked",
                bookedDates: [
                    { start: "2025-01-10", end: "2025-02-10" },
                    { start: "2025-03-20", end: "2025-04-20" }
                ],
                pendingBookings: [],
                description: "–†–æ—Å–∫–æ—à–Ω–∞—è —Ç—Ä–µ—Ö–∫–æ–º–Ω–∞—Ç–Ω–∞—è –∫–≤–∞—Ä—Ç–∏—Ä–∞ —Å –¥–∏–∑–∞–π–Ω–µ—Ä—Å–∫–∏–º —Ä–µ–º–æ–Ω—Ç–æ–º. –í–∏–¥ –Ω–∞ —Ü–µ–Ω—Ç—Ä –≥–æ—Ä–æ–¥–∞, –ø–∞—Ä–∫–∏–Ω–≥, –∫–æ–Ω—Å—å–µ—Ä–∂.",
                amenities: {
                    furniture: "–ü–æ–ª–Ω–æ—Å—Ç—å—é –º–µ–±–ª–∏—Ä–æ–≤–∞–Ω–∞ (–ø—Ä–µ–º–∏—É–º –∫–ª–∞—Å—Å)",
                    appliances: "–í—Å—è —Ç–µ—Ö–Ω–∏–∫–∞ –ø—Ä–µ–º–∏—É–º –±—Ä–µ–Ω–¥–æ–≤",
                    internet: "Wi-Fi",
                    conditioner: "–ú—É–ª—å—Ç–∏—Å–ø–ª–∏—Ç-—Å–∏—Å—Ç–µ–º–∞"
                },
                images: [
                    "https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=600&h=400&fit=crop",
                    "https://images.unsplash.com/photo-1560185893-a55cbc8c57e8?w=600&h=400&fit=crop",
                    "https://images.unsplash.com/photo-1560185127-6ed189bf02f4?w=600&h=400&fit=crop",
                    "https://images.unsplash.com/photo-1560448075-bb485b067938?w=600&h=400&fit=crop",
                    "https://images.unsplash.com/photo-1560448204-603b3fc33ddc?w=600&h=400&fit=crop",
                    "https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=600&h=400&fit=crop"
                ]
            },
            {
                id: 7,
                title: "–°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è 1-–∫–æ–º–Ω–∞—Ç–Ω–∞—è —Å –±–∞–ª–∫–æ–Ω–æ–º",
                district: "pervomaisky",
                address: "—É–ª. –ö–∞–ª–∏–Ω–æ–≤—Å–∫–æ–≥–æ, 67",
                coordinates: { lat: 53.918784, lng: 27.594584 },
                rooms: 1,
                floor: "6/9",
                area: "42 –º¬≤",
                status: "available",
                bookedDates: [],
                pendingBookings: [],
                description: "–°–≤–µ—Ç–ª–∞—è –æ–¥–Ω–æ–∫–æ–º–Ω–∞—Ç–Ω–∞—è –∫–≤–∞—Ä—Ç–∏—Ä–∞ —Å –∑–∞—Å—Ç–µ–∫–ª–µ–Ω–Ω—ã–º –±–∞–ª–∫–æ–Ω–æ–º. –°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –æ—Ç–¥–µ–ª–∫–∞, –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –∫—É—Ö–Ω—è. –†—è–¥–æ–º –ø–∞—Ä–∫ –∏ —Ç–æ—Ä–≥–æ–≤—ã–π —Ü–µ–Ω—Ç—Ä.",
                amenities: {
                    furniture: "–ü–æ–ª–Ω–æ—Å—Ç—å—é –º–µ–±–ª–∏—Ä–æ–≤–∞–Ω–∞",
                    appliances: "–•–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫, —Å—Ç–∏—Ä–∞–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∞, —Ç–µ–ª–µ–≤–∏–∑–æ—Ä, –º–∏–∫—Ä–æ–≤–æ–ª–Ω–æ–≤–∫–∞",
                    internet: "Wi-Fi",
                    conditioner: "–î–∞"
                },
                images: [
                    "https://images.unsplash.com/photo-1560448204-603b3fc33ddc?w=600&h=400&fit=crop",
                    "https://images.unsplash.com/photo-1560448075-bb485b067938?w=600&h=400&fit=crop",
                    "https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=600&h=400&fit=crop"
                ]
            },
            {
                id: 8,
                title: "–ü—Ä–æ—Å—Ç–æ—Ä–Ω–∞—è 4-–∫–æ–º–Ω–∞—Ç–Ω–∞—è –¥–ª—è —Å–µ–º—å–∏",
                district: "leninsky",
                address: "—É–ª. –ú–∞—è–∫–æ–≤—Å–∫–æ–≥–æ, 23",
                coordinates: { lat: 53.893484, lng: 27.573284 },
                rooms: 4,
                floor: "4/5",
                area: "108 –º¬≤",
                status: "available",
                bookedDates: [],
                pendingBookings: [],
                description: "–ë–æ–ª—å—à–∞—è —á–µ—Ç—ã—Ä–µ—Ö–∫–æ–º–Ω–∞—Ç–Ω–∞—è –∫–≤–∞—Ä—Ç–∏—Ä–∞ –≤ —Ç–∏—Ö–æ–º —Ä–∞–π–æ–Ω–µ. –û—Ç–¥–µ–ª—å–Ω—ã–µ –∫–æ–º–Ω–∞—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —á–ª–µ–Ω–∞ —Å–µ–º—å–∏. –ë–æ–ª—å—à–∞—è –∫—É—Ö–Ω—è –∏ –≥–æ—Å—Ç–∏–Ω–∞—è.",
                amenities: {
                    furniture: "–ü–æ–ª–Ω–æ—Å—Ç—å—é –º–µ–±–ª–∏—Ä–æ–≤–∞–Ω–∞",
                    appliances: "–í—Å—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞—è —Ç–µ—Ö–Ω–∏–∫–∞",
                    internet: "Wi-Fi",
                    conditioner: "–î–∞"
                },
                images: [
                    "https://images.unsplash.com/photo-1560185893-a55cbc8c57e8?w=600&h=400&fit=crop",
                    "https://images.unsplash.com/photo-1560185127-6ed189bf02f4?w=600&h=400&fit=crop",
                    "https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=600&h=400&fit=crop",
                    "https://images.unsplash.com/photo-1560448075-bb485b067938?w=600&h=400&fit=crop"
                ]
            }
        ];
        
        // –î–∞–Ω–Ω—ã–µ –æ —Ä–∞–π–æ–Ω–∞—Ö
        const districtData = {
            central: {
                name: "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —Ä–∞–π–æ–Ω",
                description: "–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π —Ü–µ–Ω—Ç—Ä –ú–∏–Ω—Å–∫–∞ —Å –±–æ–≥–∞—Ç–æ–π –∫—É–ª—å—Ç—É—Ä–Ω–æ–π –∂–∏–∑–Ω—å—é"
            },
            soviet: {
                name: "–°–æ–≤–µ—Ç—Å–∫–∏–π —Ä–∞–π–æ–Ω",
                description: "–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ä–∞–π–æ–Ω —Å —Ä–∞–∑–≤–∏—Ç–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π"
            },
            frunzensky: {
                name: "–§—Ä—É–Ω–∑–µ–Ω—Å–∫–∏–π —Ä–∞–π–æ–Ω",
                description: "–ó–µ–ª–µ–Ω—ã–π —Ä–∞–π–æ–Ω —Å –ø–∞—Ä–∫–∞–º–∏ –∏ —Ç–∏—Ö–∏–º–∏ —É–ª–∏—Ü–∞–º–∏"
            },
            moskovsky: {
                name: "–ú–æ—Å–∫–æ–≤—Å–∫–∏–π —Ä–∞–π–æ–Ω",
                description: "–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ä–∞–π–æ–Ω —Å –Ω–æ–≤–æ—Å—Ç—Ä–æ–π–∫–∞–º–∏"
            },
            zavodskoy: {
                name: "–ó–∞–≤–æ–¥—Å–∫–æ–π —Ä–∞–π–æ–Ω",
                description: "–ü—Ä–æ–º—ã—à–ª–µ–Ω–Ω—ã–π —Ä–∞–π–æ–Ω —Å —Ä–∞–∑–≤–∏—Ç–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π"
            },
            leninsky: {
                name: "–õ–µ–Ω–∏–Ω—Å–∫–∏–π —Ä–∞–π–æ–Ω",
                description: "–¢–∏—Ö–∏–π –∂–∏–ª–æ–π —Ä–∞–π–æ–Ω —Å –ø–∞—Ä–∫–∞–º–∏",
                restaurants: [
                    { name: "–†–µ—Å—Ç–æ—Ä–∞–Ω '–õ–µ–Ω–∏–Ω—Å–∫–∏–π'", description: "–ï–≤—Ä–æ–ø–µ–π—Å–∫–∞—è –∫—É—Ö–Ω—è", distance: "500–º" },
                    { name: "–ö–∞—Ñ–µ '–°–æ–ª–Ω–µ—á–Ω–æ–µ'", description: "–°–≤–µ—Ç–ª–æ–µ –∫–∞—Ñ–µ", distance: "400–º" },
                    { name: "–ü–∏—Ü—Ü–µ—Ä–∏—è '–ò—Ç–∞–ª–∏—è'", description: "–ò—Ç–∞–ª—å—è–Ω—Å–∫–∞—è –∫—É—Ö–Ω—è", distance: "600–º" }
                ],
                entertainment: [
                    { name: "–ü–∞—Ä–∫ –õ–µ–Ω–∏–Ω—Å–∫–æ–≥–æ —Ä–∞–π–æ–Ω–∞", description: "–ü—Ä–æ–≥—É–ª–∫–∏", distance: "300–º" },
                    { name: "–ö–∏–Ω–æ—Ç–µ–∞—Ç—Ä '–õ—É—á'", description: "–§–∏–ª—å–º—ã", distance: "800–º" },
                    { name: "–°–ø–æ—Ä—Ç–∏–≤–Ω—ã–π –∫–æ–º–ø–ª–µ–∫—Å", description: "–°–ø–æ—Ä—Ç", distance: "1–∫–º" }
                ],
                transport: [
                    { name: "–ú–µ—Ç—Ä–æ '–õ–µ–Ω–∏–Ω—Å–∫–∞—è'", description: "–ö—Ä–∞—Å–Ω–∞—è –ª–∏–Ω–∏—è", distance: "600–º" },
                    { name: "–ê–≤—Ç–æ–±—É—Å–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞", description: "–ú–∞—Ä—à—Ä—É—Ç—ã 3, 6, 9", distance: "200–º" },
                    { name: "–¢—Ä–æ–ª–ª–µ–π–±—É—Å–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞", description: "–ú–∞—Ä—à—Ä—É—Ç—ã 10, 14", distance: "250–º" }
                ],
                shops: [
                    { name: "–¢–¶ '–õ–µ–Ω–∏–Ω—Å–∫–∏–π'", description: "–¢–æ—Ä–≥–æ–≤—ã–π —Ü–µ–Ω—Ç—Ä", distance: "500–º" },
                    { name: "–ü—Ä–æ–¥—É–∫—Ç–æ–≤—ã–π –º–∞–≥–∞–∑–∏–Ω", description: "–ü—Ä–æ–¥—É–∫—Ç—ã", distance: "250–º" },
                    { name: "–ê–ø—Ç–µ–∫–∞", description: "–õ–µ–∫–∞—Ä—Å—Ç–≤–∞", distance: "350–º" }
                ]
            },
            pervomaisky: {
                name: "–ü–µ—Ä–≤–æ–º–∞–π—Å–∫–∏–π —Ä–∞–π–æ–Ω",
                description: "–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ä–∞–π–æ–Ω —Å –Ω–æ–≤–æ—Å—Ç—Ä–æ–π–∫–∞–º–∏",
                restaurants: [
                    { name: "–†–µ—Å—Ç–æ—Ä–∞–Ω '–ü–µ—Ä–≤–æ–º–∞–π—Å–∫–∏–π'", description: "–°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∫—É—Ö–Ω—è", distance: "400–º" },
                    { name: "–ö–∞—Ñ–µ '–£—Ç—Ä–æ'", description: "–ó–∞–≤—Ç—Ä–∞–∫–∏", distance: "300–º" },
                    { name: "–°—Ç–æ–ª–æ–≤–∞—è '–î–æ–º–∞—à–Ω—è—è'", description: "–î–æ–º–∞—à–Ω—è—è –µ–¥–∞", distance: "500–º" }
                ],
                entertainment: [
                    { name: "–¢–¶ '–ü–µ—Ä–≤–æ–º–∞–π—Å–∫–∏–π'", description: "–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è", distance: "600–º" },
                    { name: "–°–ø–æ—Ä—Ç–∏–≤–Ω–∞—è –ø–ª–æ—â–∞–¥–∫–∞", description: "–°–ø–æ—Ä—Ç", distance: "400–º" },
                    { name: "–î–µ—Ç—Å–∫–∞—è –ø–ª–æ—â–∞–¥–∫–∞", description: "–î–ª—è –¥–µ—Ç–µ–π", distance: "200–º" }
                ],
                transport: [
                    { name: "–ú–µ—Ç—Ä–æ '–ü–µ—Ä–≤–æ–º–∞–π—Å–∫–∞—è'", description: "–ö—Ä–∞—Å–Ω–∞—è –ª–∏–Ω–∏—è", distance: "500–º" },
                    { name: "–ê–≤—Ç–æ–±—É—Å–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞", description: "–ú–∞—Ä—à—Ä—É—Ç—ã 4, 7, 10", distance: "150–º" },
                    { name: "–¢—Ä–æ–ª–ª–µ–π–±—É—Å–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞", description: "–ú–∞—Ä—à—Ä—É—Ç—ã 12, 15", distance: "200–º" }
                ],
                shops: [
                    { name: "–¢–¶ '–ü–µ—Ä–≤–æ–º–∞–π—Å–∫–∏–π'", description: "–¢–æ—Ä–≥–æ–≤—ã–π —Ü–µ–Ω—Ç—Ä", distance: "600–º" },
                    { name: "–ü—Ä–æ–¥—É–∫—Ç–æ–≤—ã–π –º–∞–≥–∞–∑–∏–Ω", description: "–ü—Ä–æ–¥—É–∫—Ç—ã", distance: "250–º" },
                    { name: "–ê–ø—Ç–µ–∫–∞", description: "–õ–µ–∫–∞—Ä—Å—Ç–≤–∞", distance: "350–º" }
                ]
            },
            partisan: {
                name: "–ü–∞—Ä—Ç–∏–∑–∞–Ω—Å–∫–∏–π —Ä–∞–π–æ–Ω",
                description: "–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π —Ä–∞–π–æ–Ω —Å –ø–∞–º—è—Ç–Ω–∏–∫–∞–º–∏",
                restaurants: [
                    { name: "–†–µ—Å—Ç–æ—Ä–∞–Ω '–ü–∞—Ä—Ç–∏–∑–∞–Ω—Å–∫–∏–π'", description: "–¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–∞—è –∫—É—Ö–Ω—è", distance: "400–º" },
                    { name: "–ö–∞—Ñ–µ '–ü–∞–º—è—Ç—å'", description: "–ö–∞—Ñ–µ —É –ø–∞–º—è—Ç–Ω–∏–∫–∞", distance: "300–º" },
                    { name: "–°—Ç–æ–ª–æ–≤–∞—è '–†–∞–±–æ—á–∞—è'", description: "–ù–µ–¥–æ—Ä–æ–≥–∞—è –µ–¥–∞", distance: "200–º" }
                ],
                entertainment: [
                    { name: "–ü–∞—Ä–∫ –ü–æ–±–µ–¥—ã", description: "–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π –ø–∞—Ä–∫", distance: "500–º" },
                    { name: "–ú—É–∑–µ–π –í–û–í", description: "–í–æ–µ–Ω–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è", distance: "800–º" },
                    { name: "–ö–∏–Ω–æ—Ç–µ–∞—Ç—Ä '–ü–æ–±–µ–¥–∞'", description: "–§–∏–ª—å–º—ã", distance: "600–º" }
                ],
                transport: [
                    { name: "–ú–µ—Ç—Ä–æ '–ü–∞—Ä—Ç–∏–∑–∞–Ω—Å–∫–∞—è'", description: "–ö—Ä–∞—Å–Ω–∞—è –ª–∏–Ω–∏—è", distance: "400–º" },
                    { name: "–ê–≤—Ç–æ–±—É—Å–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞", description: "–ú–∞—Ä—à—Ä—É—Ç—ã 2, 5, 8", distance: "150–º" },
                    { name: "–¢—Ä–æ–ª–ª–µ–π–±—É—Å–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞", description: "–ú–∞—Ä—à—Ä—É—Ç—ã 11, 13", distance: "200–º" }
                ],
                shops: [
                    { name: "–¢–¶ '–ü–∞—Ä—Ç–∏–∑–∞–Ω—Å–∫–∏–π'", description: "–¢–æ—Ä–≥–æ–≤—ã–π —Ü–µ–Ω—Ç—Ä", distance: "400–º" },
                    { name: "–ü—Ä–æ–¥—É–∫—Ç–æ–≤—ã–π –º–∞–≥–∞–∑–∏–Ω", description: "–ü—Ä–æ–¥—É–∫—Ç—ã", distance: "200–º" },
                    { name: "–ê–ø—Ç–µ–∫–∞", description: "–õ–µ–∫–∞—Ä—Å—Ç–≤–∞", distance: "300–º" }
                ]
            },
            oktyabrsky: {
                name: "–û–∫—Ç—è–±—Ä—å—Å–∫–∏–π —Ä–∞–π–æ–Ω",
                description: "–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ä–∞–π–æ–Ω —Å —Ä–∞–∑–≤–∏—Ç–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π",
                restaurants: [
                    { name: "–†–µ—Å—Ç–æ—Ä–∞–Ω '–û–∫—Ç—è–±—Ä—å—Å–∫–∏–π'", description: "–ï–≤—Ä–æ–ø–µ–π—Å–∫–∞—è –∫—É—Ö–Ω—è", distance: "400–º" },
                    { name: "–ö–∞—Ñ–µ '–°–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ'", description: "–°–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ –∫–∞—Ñ–µ", distance: "300–º" },
                    { name: "–ü–∏—Ü—Ü–µ—Ä–∏—è '–ù–æ–≤–∞—è'", description: "–ò—Ç–∞–ª—å—è–Ω—Å–∫–∞—è –∫—É—Ö–Ω—è", distance: "500–º" }
                ],
                entertainment: [
                    { name: "–¢–¶ '–û–∫—Ç—è–±—Ä—å—Å–∫–∏–π'", description: "–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è", distance: "500–º" },
                    { name: "–°–ø–æ—Ä—Ç–∏–≤–Ω—ã–π –∫–æ–º–ø–ª–µ–∫—Å", description: "–°–ø–æ—Ä—Ç", distance: "800–º" },
                    { name: "–ö–∏–Ω–æ—Ç–µ–∞—Ç—Ä '–û–∫—Ç—è–±—Ä—å'", description: "–§–∏–ª—å–º—ã", distance: "600–º" }
                ],
                transport: [
                    { name: "–ú–µ—Ç—Ä–æ '–û–∫—Ç—è–±—Ä—å—Å–∫–∞—è'", description: "–ö—Ä–∞—Å–Ω–∞—è –ª–∏–Ω–∏—è", distance: "400–º" },
                    { name: "–ê–≤—Ç–æ–±—É—Å–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞", description: "–ú–∞—Ä—à—Ä—É—Ç—ã 1, 3, 6", distance: "150–º" },
                    { name: "–¢—Ä–æ–ª–ª–µ–π–±—É—Å–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞", description: "–ú–∞—Ä—à—Ä—É—Ç—ã 9, 12", distance: "200–º" }
                ],
                shops: [
                    { name: "–¢–¶ '–û–∫—Ç—è–±—Ä—å—Å–∫–∏–π'", description: "–¢–æ—Ä–≥–æ–≤—ã–π —Ü–µ–Ω—Ç—Ä", distance: "500–º" },
                    { name: "–ü—Ä–æ–¥—É–∫—Ç–æ–≤—ã–π –º–∞–≥–∞–∑–∏–Ω", description: "–ü—Ä–æ–¥—É–∫—Ç—ã", distance: "250–º" },
                    { name: "–ê–ø—Ç–µ–∫–∞", description: "–õ–µ–∫–∞—Ä—Å—Ç–≤–∞", distance: "350–º" }
                ]
            }
        };
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–≤–∞—Ä—Ç–∏—Ä
        function displayApartments(apartmentsToShow) {
            console.log('displayApartments called with:', apartmentsToShow.length, 'apartments');
            const container = document.getElementById('apartments-container');
            container.innerHTML = '';
            
            // –ï—Å–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä –Ω–µ –ø–µ—Ä–µ–¥–∞–Ω, –∏—Å–ø–æ–ª—å–∑—É–µ–º –≤—Å–µ –∫–≤–∞—Ä—Ç–∏—Ä—ã
            if (!apartmentsToShow) {
                apartmentsToShow = apartments;
            }
            
            if (apartmentsToShow.length === 0) {
                container.innerHTML = '<p style="grid-column: 1/-1; text-align: center; font-size: 1.2rem; color: var(--secondary-color);">–ö–≤–∞—Ä—Ç–∏—Ä—ã –ø–æ –≤–∞—à–µ–º—É –∑–∞–ø—Ä–æ—Å—É –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</p>';
                return;
            }
            
            apartmentsToShow.forEach((apartment, index) => {
                console.log(`Creating card for apartment ${index + 1}:`, apartment.id, apartment.title);
                // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Å—Ç–∞—Ç—É—Å –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö –∫–≤–∞—Ä—Ç–∏—Ä—ã
                let statusText = '';
                let statusClass = '';
                
                switch(apartment.status) {
                    case 'available':
                        statusText = '–°–≤–æ–±–æ–¥–Ω–∞';
                        statusClass = 'available';
                        break;
                    case 'booked':
                        statusText = '–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∞';
                        statusClass = 'booked';
                        break;
                    case 'pending':
                        statusText = '–ù–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏';
                        statusClass = 'pending';
                        break;
                    default:
                        statusText = '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ';
                        statusClass = 'unknown';
                }
                
                const card = document.createElement('div');
                card.className = 'apartment-card';
                card.innerHTML = `
                    <div class="apartment-image" style="background-image: url('${apartment.images[0]}')">
                        <span class="status ${statusClass}">${statusText}</span>
                    </div>
                    <div class="apartment-info">
                        <h3>${apartment.title}</h3>
                        <div class="apartment-location">
                            <i>üìç</i> ${getDistrictName(apartment.district)}, ${apartment.address}
                        </div>
                        <div class="apartment-details">
                            <span>${apartment.rooms} –∫–æ–º–Ω.</span>
                            <span>${apartment.area} –º¬≤</span>
                            <span>${apartment.floor} —ç—Ç.</span>
                        </div>
                        <div class="apartment-price">–¶–µ–Ω–∞: ${apartment.price_type === 'fixed' ? apartment.price + ' BYN' : '–î–æ–≥–æ–≤–æ—Ä–Ω–∞—è'}</div>
                        <div class="apartment-actions">
                            <button class="btn btn-primary view-details" data-id="${apartment.id}">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</button>
                            <button class="btn btn-secondary book-apartment" data-id="${apartment.id}">–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å</button>
                        </div>
                    </div>
                `;
                container.appendChild(card);
            });
            
            // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –¥–ª—è –∫–Ω–æ–ø–æ–∫ "–ü–æ–¥—Ä–æ–±–Ω–µ–µ"
            document.querySelectorAll('.view-details').forEach(button => {
                button.addEventListener('click', function() {
                    const apartmentId = parseInt(this.getAttribute('data-id'));
                    openApartmentModal(apartmentId);
                });
            });
            
            // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –¥–ª—è –∫–Ω–æ–ø–æ–∫ "–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å"
            const bookButtons = document.querySelectorAll('.book-apartment');
            console.log('Found book buttons:', bookButtons.length);
            bookButtons.forEach(button => {
                button.addEventListener('click', function() {
                    console.log('Book apartment button clicked');
                    const apartmentId = parseInt(this.getAttribute('data-id'));
                    console.log('Apartment ID from button:', apartmentId);
                    openBookingModal(apartmentId);
                });
            });
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞—Ç—ã
        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('ru-RU', {
                day: '2-digit',
                month: '2-digit',
                year: 'numeric'
            });
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –∫–≤–∞—Ä—Ç–∏—Ä–µ
        function openApartmentModal(apartmentId) {
            const apartment = apartments.find(apt => apt.id === apartmentId);
            if (!apartment) return;
            
            // –û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
            console.log('Apartment data:', apartment);
            console.log('Apartment status:', apartment.status);
            
            document.getElementById('modal-title').textContent = apartment.title;
            document.getElementById('modal-district').textContent = getDistrictName(apartment.district);
            document.getElementById('modal-address').textContent = apartment.address;
            document.getElementById('modal-rooms').textContent = apartment.rooms;
            document.getElementById('modal-floor').textContent = apartment.floor;
            document.getElementById('modal-area').textContent = apartment.area + ' –º¬≤';
            document.getElementById('modal-description').textContent = apartment.description;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Ü–µ–Ω—É –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ
            const modalPrice = document.getElementById('modal-price');
            modalPrice.textContent = apartment.price_type === 'fixed' ? `–¶–µ–Ω–∞: ${apartment.price} BYN` : '–¶–µ–Ω–∞: –î–æ–≥–æ–≤–æ—Ä–Ω–∞—è';
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —É–¥–æ–±—Å—Ç–≤–∞ –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ
            const modalAmenities = document.getElementById('modal-amenities');
            let amenities = [];
            
            // –ü—ã—Ç–∞–µ–º—Å—è –ø–∞—Ä—Å–∏—Ç—å amenities –∏–∑ JSON
            if (apartment.amenities) {
                try {
                    amenities = JSON.parse(apartment.amenities);
                } catch (e) {
                    console.warn('–û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ amenities:', e);
                }
            }
            
            if (Array.isArray(amenities) && amenities.length > 0) {
                const amenitiesList = amenities.map(amenity => {
                    const translatedAmenity = translateAmenity(amenity);
                    return `<div class="detail-item"><strong>${translatedAmenity}:</strong> –î–∞</div>`;
                }).join('');
                modalAmenities.innerHTML = amenitiesList;
            } else {
                modalAmenities.innerHTML = '<div class="detail-item">–£–¥–æ–±—Å—Ç–≤–∞ –Ω–µ —É–∫–∞–∑–∞–Ω—ã</div>';
            }
            
            const statusElement = document.getElementById('modal-status');
            let statusText = '';
            let statusClass = '';
            
            switch(apartment.status) {
                case 'available':
                    statusText = '–°–≤–æ–±–æ–¥–Ω–∞';
                    statusClass = 'available';
                    break;
                case 'booked':
                    statusText = '–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∞';
                    statusClass = 'booked';
                    break;
                case 'pending':
                    statusText = '–ù–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏';
                    statusClass = 'pending';
                    break;
                default:
                    statusText = '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ';
                    statusClass = 'unknown';
            }
            
            statusElement.textContent = statusText;
            statusElement.className = 'status ' + statusClass;
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞—Ç—ã
            const bookedDatesElement = document.getElementById('modal-booked-dates');
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞—Ç—ã —Å —Å–µ—Ä–≤–µ—Ä–∞ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
            loadBookedDatesForModal(apartment.id, bookedDatesElement);
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –º–∏–Ω–∏-–∫–∞–ª–µ–Ω–¥–∞—Ä—å –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ "–ü–æ–¥—Ä–æ–±–Ω–µ–µ"
            const modalCalendarGrid = document.getElementById('modal-calendar-grid');
            if (modalCalendarGrid) {
                console.log('–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –º–∏–Ω–∏-–∫–∞–ª–µ–Ω–¥–∞—Ä—å –¥–ª—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ "–ü–æ–¥—Ä–æ–±–Ω–µ–µ"');
                loadBookedDatesForMiniCalendar(apartment.id, modalCalendarGrid);
            }
            
            // –ó–∞–ø–æ–ª–Ω—è–µ–º –≥–∞–ª–µ—Ä–µ—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
            const gallery = document.querySelector('.modal-gallery');
            gallery.innerHTML = '';
            apartment.images.forEach(image => {
                const img = document.createElement('img');
                img.src = image;
                img.alt = apartment.title;
                gallery.appendChild(img);
            });
            
            // –î–æ–±–∞–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ä–∞–π–æ–Ω–µ
            const locationDetails = addLocationDetailsToModal(apartment);
            const modalBody = document.querySelector('.modal-body');
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —É–∂–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–∞–π–æ–Ω–µ
            let existingLocationDetails = modalBody.querySelector('.apartment-location-details');
            if (existingLocationDetails) {
                existingLocationDetails.remove();
            }
            
            // –î–æ–±–∞–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ä–∞–π–æ–Ω–µ –≤ –∫–æ–Ω–µ—Ü –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
            const modalDetails = modalBody.querySelector('.modal-details');
            if (modalDetails) {
                modalDetails.insertAdjacentHTML('afterend', locationDetails);
            }
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
            document.getElementById('apartment-modal').style.display = 'block';
            
            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –∫–∞—Ä—Ç—É
            if (apartment.coordinates && apartment.coordinates.lat && apartment.coordinates.lng) {
                setTimeout(() => {
                    initDetailMap(apartment.id, apartment.coordinates.lat, apartment.coordinates.lng);
                }, 100);
            }
            
            // –°–æ–∑–¥–∞–µ–º –º–∏–Ω–∏-–∫–∞–ª–µ–Ω–¥–∞—Ä—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
            renderMiniCalendar(apartment);
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –º–∏–Ω–∏-–∫–∞–ª–µ–Ω–¥–∞—Ä—è –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ
        function renderMiniCalendar(apartment) {
            const calendarGrid = document.getElementById('modal-calendar-grid');
            if (!calendarGrid) return;
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞—Ç—ã —Å —Å–µ—Ä–≤–µ—Ä–∞
            loadBookedDatesForMiniCalendar(apartment.id, calendarGrid);
            
            // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –æ–±–Ω–æ–≤–ª—è–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫ –º–µ—Å—è—Ü–∞ —á–µ—Ä–µ–∑ –Ω–µ–±–æ–ª—å—à—É—é –∑–∞–¥–µ—Ä–∂–∫—É
            setTimeout(() => {
                const modalCurrentMonth = document.getElementById('modal-current-month');
                if (modalCurrentMonth) {
                    const today = new Date();
                    const year = today.getFullYear();
                    const month = today.getMonth();
                    const monthNames = ['–Ø–Ω–≤–∞—Ä—å', '–§–µ–≤—Ä–∞–ª—å', '–ú–∞—Ä—Ç', '–ê–ø—Ä–µ–ª—å', '–ú–∞–π', '–ò—é–Ω—å',
                                       '–ò—é–ª—å', '–ê–≤–≥—É—Å—Ç', '–°–µ–Ω—Ç—è–±—Ä—å', '–û–∫—Ç—è–±—Ä—å', '–ù–æ—è–±—Ä—å', '–î–µ–∫–∞–±—Ä—å'];
                    modalCurrentMonth.textContent = `${monthNames[month]} ${year}`;
                    console.log('–ó–∞–≥–æ–ª–æ–≤–æ–∫ –º–µ—Å—è—Ü–∞ –æ–±–Ω–æ–≤–ª–µ–Ω —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π:', `${monthNames[month]} ${year}`);
                }
            }, 100);
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è –ø–æ—Å–ª–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
        function refreshCalendar(apartmentId) {
            console.log('refreshCalendar –≤—ã–∑–≤–∞–Ω–∞ –¥–ª—è –∫–≤–∞—Ä—Ç–∏—Ä—ã:', apartmentId);
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –º–∏–Ω–∏-–∫–∞–ª–µ–Ω–¥–∞—Ä—å –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ –∫–≤–∞—Ä—Ç–∏—Ä—ã
            const calendarGrid = document.getElementById('modal-calendar-grid');
            if (calendarGrid) {
                console.log('–û–±–Ω–æ–≤–ª—è–µ–º –º–∏–Ω–∏-–∫–∞–ª–µ–Ω–¥–∞—Ä—å –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ');
                loadBookedDatesForMiniCalendar(apartmentId, calendarGrid);
            } else {
                console.log('–≠–ª–µ–º–µ–Ω—Ç modal-calendar-grid –Ω–µ –Ω–∞–π–¥–µ–Ω');
            }
            
            // –¢–∞–∫–∂–µ –æ–±–Ω–æ–≤–ª—è–µ–º –æ—Å–Ω–æ–≤–Ω–æ–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
            const mainCalendarGrid = document.getElementById('calendar-grid');
            if (mainCalendarGrid && currentApartmentForCalendar && currentApartmentForCalendar.id === apartmentId) {
                console.log('–û–±–Ω–æ–≤–ª—è–µ–º –æ—Å–Ω–æ–≤–Ω–æ–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è');
                loadBookedDates(apartmentId);
            } else {
                console.log('–û—Å–Ω–æ–≤–Ω–æ–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è:', {
                    mainCalendarGrid: !!mainCalendarGrid,
                    currentApartmentForCalendar: !!currentApartmentForCalendar,
                    apartmentId: apartmentId,
                    currentApartmentId: currentApartmentForCalendar?.id
                });
            }
            
            // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –æ–±–Ω–æ–≤–ª—è–µ–º –∫–∞–ª–µ–Ω–¥–∞—Ä—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è, –µ—Å–ª–∏ –æ–Ω –æ—Ç–∫—Ä—ã—Ç
            setTimeout(() => {
                const bookingModal = document.getElementById('booking-modal');
                if (bookingModal && bookingModal.style.display === 'block') {
                    console.log('–ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –æ–±–Ω–æ–≤–ª—è–µ–º –∫–∞–ª–µ–Ω–¥–∞—Ä—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è');
                    const currentApartmentId = bookingModal.getAttribute('data-apartment-id');
                    if (currentApartmentId == apartmentId) {
                        // –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∫–≤–∞—Ä—Ç–∏—Ä—ã
                        const apartment = apartments.find(apt => apt.id === apartmentId);
                        if (apartment) {
                            initializeCalendar(apartment);
                        }
                    }
                }
            }, 500);
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞—Ç –¥–ª—è –º–∏–Ω–∏-–∫–∞–ª–µ–Ω–¥–∞—Ä—è
        async function loadBookedDatesForMiniCalendar(apartmentId, calendarGrid) {
            try {
                console.log('=== –ó–ê–ì–†–£–ó–ö–ê –ó–ê–ë–†–û–ù–ò–†–û–í–ê–ù–ù–´–• –î–ê–¢ ===');
                console.log('–ó–∞–≥—Ä—É–∂–∞–µ–º –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞—Ç—ã –¥–ª—è –∫–≤–∞—Ä—Ç–∏—Ä—ã:', apartmentId);
                const response = await fetch(`api.php?action=get_booked_dates&apartment_id=${apartmentId}`);
                const result = await response.json();
                console.log('–û—Ç–≤–µ—Ç –æ—Ç API:', result);
                console.log('–£—Å–ø–µ—Ö:', result.success);
                console.log('–î–∞–Ω–Ω—ã–µ:', result.data);
                console.log('–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞—Ç:', result.data ? result.data.length : 0);
                
                const today = new Date();
                const year = today.getFullYear();
                const month = today.getMonth();
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫ –º–µ—Å—è—Ü–∞ –¥–ª—è –º–∏–Ω–∏-–∫–∞–ª–µ–Ω–¥–∞—Ä—è
                const modalCurrentMonth = document.getElementById('modal-current-month');
                const monthNames = ['–Ø–Ω–≤–∞—Ä—å', '–§–µ–≤—Ä–∞–ª—å', '–ú–∞—Ä—Ç', '–ê–ø—Ä–µ–ª—å', '–ú–∞–π', '–ò—é–Ω—å',
                                   '–ò—é–ª—å', '–ê–≤–≥—É—Å—Ç', '–°–µ–Ω—Ç—è–±—Ä—å', '–û–∫—Ç—è–±—Ä—å', '–ù–æ—è–±—Ä—å', '–î–µ–∫–∞–±—Ä—å'];
                
                console.log('–û–±–Ω–æ–≤–ª—è–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫ –º–µ—Å—è—Ü–∞ –¥–ª—è –º–∏–Ω–∏-–∫–∞–ª–µ–Ω–¥–∞—Ä—è:', modalCurrentMonth);
                console.log('–¢–µ–∫—É—â–∏–π –º–µ—Å—è—Ü:', month, '–ì–æ–¥:', year);
                
                if (modalCurrentMonth) {
                    const monthText = `${monthNames[month]} ${year}`;
                    modalCurrentMonth.textContent = monthText;
                    modalCurrentMonth.style.display = 'block';
                    modalCurrentMonth.style.visibility = 'visible';
                    console.log('–ó–∞–≥–æ–ª–æ–≤–æ–∫ –º–µ—Å—è—Ü–∞ –æ–±–Ω–æ–≤–ª–µ–Ω:', monthText);
                } else {
                    console.log('–≠–ª–µ–º–µ–Ω—Ç modal-current-month –Ω–µ –Ω–∞–π–¥–µ–Ω, —Å–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π');
                    // –ü–æ–ø—Ä–æ–±—É–µ–º —Å–æ–∑–¥–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç, –µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç
                    const calendarHeader = document.querySelector('.availability-calendar .calendar-header');
                    if (calendarHeader) {
                        const newMonthSpan = document.createElement('span');
                        newMonthSpan.id = 'modal-current-month';
                        newMonthSpan.style.fontSize = '1rem';
                        newMonthSpan.style.color = 'var(--primary-color)';
                        newMonthSpan.style.fontWeight = '700';
                        newMonthSpan.textContent = `${monthNames[month]} ${year}`;
                        calendarHeader.appendChild(newMonthSpan);
                        console.log('–°–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∞ –º–µ—Å—è—Ü–∞');
                    }
                }
                
                // –û—á–∏—â–∞–µ–º –∫–∞–ª–µ–Ω–¥–∞—Ä—å
                calendarGrid.innerHTML = '';
                
                // –î–æ–±–∞–≤–ª—è–µ–º –∑–∞–≥–æ–ª–æ–≤–∫–∏ –¥–Ω–µ–π –Ω–µ–¥–µ–ª–∏
                const dayNames = ['–ü–Ω', '–í—Ç', '–°—Ä', '–ß—Ç', '–ü—Ç', '–°–±', '–í—Å'];
                dayNames.forEach(day => {
                    const dayHeader = document.createElement('div');
                    dayHeader.className = 'calendar-header';
                    dayHeader.textContent = day;
                    calendarGrid.appendChild(dayHeader);
                });
                
                // –ü–æ–ª—É—á–∞–µ–º –ø–µ—Ä–≤—ã–π –¥–µ–Ω—å –º–µ—Å—è—Ü–∞
                const firstDay = new Date(year, month, 1);
                const startDate = new Date(firstDay);
                startDate.setDate(startDate.getDate() - (firstDay.getDay() || 7) + 1);
                
                // –°–æ–∑–¥–∞–µ–º –¥–Ω–∏ –∫–∞–ª–µ–Ω–¥–∞—Ä—è
                for (let i = 0; i < 35; i++) {
                    const currentDate = new Date(startDate);
                    currentDate.setDate(startDate.getDate() + i);
                    
                    const dayElement = document.createElement('div');
                    dayElement.className = 'calendar-day';
                    dayElement.textContent = currentDate.getDate();
                    
                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –ª–∏ –¥–µ–Ω—å –∫ —Ç–µ–∫—É—â–µ–º—É –º–µ—Å—è—Ü—É
                    if (currentDate.getMonth() !== month) {
                        dayElement.classList.add('other-month');
                    } else {
                        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å
                        // –ò—Å–ø–æ–ª—å–∑—É–µ–º –ª–æ–∫–∞–ª—å–Ω—É—é –¥–∞—Ç—É –≤–º–µ—Å—Ç–æ UTC –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –ø—Ä–æ–±–ª–µ–º —Å —á–∞—Å–æ–≤—ã–º–∏ –ø–æ—è—Å–∞–º–∏
                        const year = currentDate.getFullYear();
                        const month = String(currentDate.getMonth() + 1).padStart(2, '0');
                        const day = String(currentDate.getDate()).padStart(2, '0');
                        const dateString = `${year}-${month}-${day}`;
                        console.log('--- –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–∞—Ç—É:', dateString, '---');
                        console.log('–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞—Ç—ã –æ—Ç API:', result.data);
                        const isAvailable = isDateAvailable(dateString, result.data);
                        console.log('–†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–ª—è', dateString, ':', isAvailable ? '‚úÖ –î–û–°–¢–£–ü–ù–ê' : '‚ùå –ó–ê–ë–†–û–ù–ò–†–û–í–ê–ù–ê');
                        
                        if (!isAvailable) {
                            console.log('üéØ –î–ê–¢–ê –ó–ê–ë–†–û–ù–ò–†–û–í–ê–ù–ê:', dateString);
                        }
                        const isToday = isSameDay(currentDate, today);
                        
                        if (isToday) {
                            dayElement.classList.add('today');
                        }
                        
                        if (isAvailable) {
                            dayElement.classList.add('available');
                            // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –¥–ª—è –≤—ã–±–æ—Ä–∞ –¥–∞—Ç—ã
                            dayElement.onclick = () => selectDateForMiniCalendar(dateString);
                        } else {
                            dayElement.classList.add('booked');
                        }
                    }
                    
                    calendarGrid.appendChild(dayElement);
                }
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –¥–∞—Ç –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è
                setTimeout(() => {
                    updateMiniCalendarSelection();
                }, 100);
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞—Ç –¥–ª—è –º–∏–Ω–∏-–∫–∞–ª–µ–Ω–¥–∞—Ä—è:', error);
            }
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—ã–±–æ—Ä–∞ –¥–∞—Ç—ã –≤ –º–∏–Ω–∏-–∫–∞–ª–µ–Ω–¥–∞—Ä–µ
        function selectDateForMiniCalendar(dateString) {
            console.log('–í—ã–±—Ä–∞–Ω–∞ –¥–∞—Ç–∞ –≤ –º–∏–Ω–∏-–∫–∞–ª–µ–Ω–¥–∞—Ä–µ:', dateString);
            
            // –ü–æ–ª—É—á–∞–µ–º –ø–æ–ª—è –≤–≤–æ–¥–∞
            const checkInField = document.getElementById('booking-check-in');
            const checkOutField = document.getElementById('booking-check-out');
            
            if (!checkInField || !checkOutField) {
                console.log('–ü–æ–ª—è –≤–≤–æ–¥–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã');
                return;
            }
            
            // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞—Ç—ã –≤ —á–∏—Ç–∞–µ–º—ã–π –≤–∏–¥
            function formatDateForDisplay(dateString) {
                const date = new Date(dateString);
                const day = String(date.getDate()).padStart(2, '0');
                const month = String(date.getMonth() + 1).padStart(2, '0');
                const year = date.getFullYear();
                return `${day}.${month}.${year}`;
            }
            
            // –ï—Å–ª–∏ –ø–æ–ª–µ check-in –ø—É—Å—Ç–æ–µ, –∑–∞–ø–æ–ª–Ω—è–µ–º –µ–≥–æ
            if (!checkInField.value) {
                checkInField.value = formatDateForDisplay(dateString);
                console.log('–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –¥–∞—Ç–∞ –∑–∞–µ–∑–¥–∞:', formatDateForDisplay(dateString));
            }
            // –ï—Å–ª–∏ –ø–æ–ª–µ check-in –∑–∞–ø–æ–ª–Ω–µ–Ω–æ, –Ω–æ check-out –ø—É—Å—Ç–æ–µ, –∑–∞–ø–æ–ª–Ω—è–µ–º check-out
            else if (!checkOutField.value) {
                const checkInDate = new Date(dateString);
                const selectedDate = new Date(dateString);
                
                if (selectedDate >= checkInDate) {
                    checkOutField.value = formatDateForDisplay(dateString);
                    console.log('–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –¥–∞—Ç–∞ –≤—ã–µ–∑–¥–∞:', formatDateForDisplay(dateString));
                } else {
                    // –ï—Å–ª–∏ –≤—ã–±—Ä–∞–Ω–Ω–∞—è –¥–∞—Ç–∞ —Ä–∞–Ω—å—à–µ –¥–∞—Ç—ã –∑–∞–µ–∑–¥–∞, –º–µ–Ω—è–µ–º –º–µ—Å—Ç–∞–º–∏
                    checkOutField.value = checkInField.value;
                    checkInField.value = formatDateForDisplay(dateString);
                    console.log('–î–∞—Ç—ã –ø–æ–º–µ–Ω—è–Ω—ã –º–µ—Å—Ç–∞–º–∏. –ó–∞–µ–∑–¥:', formatDateForDisplay(dateString), '–í—ã–µ–∑–¥:', checkOutField.value);
                }
            }
            // –ï—Å–ª–∏ –æ–±–∞ –ø–æ–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω—ã, —Å–±—Ä–∞—Å—ã–≤–∞–µ–º –∏ –Ω–∞—á–∏–Ω–∞–µ–º –∑–∞–Ω–æ–≤–æ
            else {
                checkInField.value = formatDateForDisplay(dateString);
                checkOutField.value = '';
                console.log('–°–±—Ä–æ—Å –¥–∞—Ç. –ù–æ–≤–∞—è –¥–∞—Ç–∞ –∑–∞–µ–∑–¥–∞:', formatDateForDisplay(dateString));
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å–≤–æ–¥–∫—É
            updateBookingSummary();
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –º–∏–Ω–∏-–∫–∞–ª–µ–Ω–¥–∞—Ä–µ
            updateMiniCalendarSelection();
            
            // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –æ–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –¥–∞—Ç
            setTimeout(() => {
                updateMiniCalendarSelection();
            }, 100);
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –¥–∞—Ç –≤ –º–∏–Ω–∏-–∫–∞–ª–µ–Ω–¥–∞—Ä–µ
        function updateMiniCalendarSelection() {
            const checkInField = document.getElementById('booking-check-in');
            const checkOutField = document.getElementById('booking-check-out');
            
            if (!checkInField || !checkOutField) {
                console.log('–ü–æ–ª—è –≤–≤–æ–¥–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã');
                return;
            }
            
            const checkIn = checkInField.value;
            const checkOut = checkOutField.value;
            
            console.log('–û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –º–∏–Ω–∏-–∫–∞–ª–µ–Ω–¥–∞—Ä–µ. –ó–∞–µ–∑–¥:', checkIn, '–í—ã–µ–∑–¥:', checkOut);
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –∫–∞–ª–µ–Ω–¥–∞—Ä—å —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
            const calendarGrid = document.getElementById('modal-calendar-grid');
            if (!calendarGrid) {
                console.log('–ö–∞–ª–µ–Ω–¥–∞—Ä—å –Ω–µ –Ω–∞–π–¥–µ–Ω');
                return;
            }
            
            // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –¥–∞—Ç—ã –∏–∑ —Ñ–æ—Ä–º–∞—Ç–∞ DD.MM.YYYY –≤ YYYY-MM-DD
            function convertDateFormat(dateString) {
                if (!dateString) return null;
                
                // –ï—Å–ª–∏ –¥–∞—Ç–∞ —É–∂–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ YYYY-MM-DD, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –∫–∞–∫ –µ—Å—Ç—å
                if (dateString.includes('-')) {
                    return dateString;
                }
                
                // –ï—Å–ª–∏ –¥–∞—Ç–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ DD.MM.YYYY, –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º
                if (dateString.includes('.')) {
                    const parts = dateString.split('.');
                    if (parts.length === 3) {
                        const day = parts[0];
                        const month = parts[1];
                        const year = parts[2];
                        return `${year}-${month}-${day}`;
                    }
                }
                
                return dateString;
            }
            
            const checkInConverted = convertDateFormat(checkIn);
            const checkOutConverted = convertDateFormat(checkOut);
            
            console.log('–ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞—Ç—ã. –ó–∞–µ–∑–¥:', checkInConverted, '–í—ã–µ–∑–¥:', checkOutConverted);
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∫–ª–∞—Å—Å—ã –¥–ª—è –≤—Å–µ—Ö –¥–Ω–µ–π –≤ –º–∏–Ω–∏-–∫–∞–ª–µ–Ω–¥–∞—Ä–µ
            const calendarDays = document.querySelectorAll('#modal-calendar-grid .calendar-day');
            calendarDays.forEach(dayElement => {
                dayElement.classList.remove('selected', 'in-range');
                
                if (dayElement.classList.contains('available')) {
                    const dayDate = parseInt(dayElement.textContent);
                    const currentMonth = new Date().getMonth();
                    const currentYear = new Date().getFullYear();
                    
                    // –°–æ–∑–¥–∞–µ–º –ø–æ–ª–Ω—É—é –¥–∞—Ç—É –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
                    const dayDateString = `${currentYear}-${String(currentMonth + 1).padStart(2, '0')}-${String(dayDate).padStart(2, '0')}`;
                    
                    console.log('–ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–µ–Ω—å:', dayDateString);
                    
                    if (checkInConverted && isSameDay(new Date(dayDateString), new Date(checkInConverted))) {
                        dayElement.classList.add('selected');
                        console.log('–î–µ–Ω—å –≤—ã–±—Ä–∞–Ω –∫–∞–∫ –∑–∞–µ–∑–¥:', dayDateString);
                    }
                    if (checkOutConverted && isSameDay(new Date(dayDateString), new Date(checkOutConverted))) {
                        dayElement.classList.add('selected');
                        console.log('–î–µ–Ω—å –≤—ã–±—Ä–∞–Ω –∫–∞–∫ –≤—ã–µ–∑–¥:', dayDateString);
                    }
                    
                    // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –¥–∏–∞–ø–∞–∑–æ–Ω
                    if (checkInConverted && checkOutConverted && checkInConverted !== checkOutConverted) {
                        const startDate = new Date(checkInConverted);
                        const endDate = new Date(checkOutConverted);
                        const currentDate = new Date(dayDateString);
                        
                        if (currentDate >= startDate && currentDate <= endDate) {
                            dayElement.classList.add('in-range');
                            console.log('–î–µ–Ω—å –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ:', dayDateString);
                        }
                    }
                }
            });
            
            // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–∏–ª–∏—Å—å
            console.log('–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–æ. –í—ã–±—Ä–∞–Ω–Ω—ã–µ –¥–∞—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–æ–¥—Å–≤–µ—á–µ–Ω—ã.');
        }
        

        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
        function openBookingModal(apartmentId) {
            console.log('=== –û–¢–ö–†–´–¢–ò–ï –ú–û–î–ê–õ–¨–ù–û–ì–û –û–ö–ù–ê –ë–†–û–ù–ò–†–û–í–ê–ù–ò–Ø ===');
            console.log('ID –∫–≤–∞—Ä—Ç–∏—Ä—ã:', apartmentId);
            console.log('–¢–∏–ø ID –∫–≤–∞—Ä—Ç–∏—Ä—ã:', typeof apartmentId);
            const apartment = apartments.find(apt => apt.id === apartmentId);
            if (!apartment) {
                console.log('Apartment not found');
                return;
            }
            console.log('–ù–∞–π–¥–µ–Ω–∞ –∫–≤–∞—Ä—Ç–∏—Ä–∞:', apartment);
            console.log('ID –∫–≤–∞—Ä—Ç–∏—Ä—ã –≤ –æ–±—ä–µ–∫—Ç–µ:', apartment.id);
            console.log('–ù–∞–∑–≤–∞–Ω–∏–µ –∫–≤–∞—Ä—Ç–∏—Ä—ã:', apartment.title);
            
            // –ó–∞–ø–æ–ª–Ω—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–≤–∞—Ä—Ç–∏—Ä–µ
            document.getElementById('booking-apartment-title').textContent = apartment.title;
            document.getElementById('booking-apartment-address').textContent = `${getDistrictName(apartment.district)}, ${apartment.address}`;
            
            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –¥–∞—Ç—ã
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('booking-check-in').min = today;
            document.getElementById('booking-check-out').min = today;
            
            // –û—á–∏—â–∞–µ–º —Ñ–æ—Ä–º—É
            document.getElementById('booking-check-in').value = '';
            document.getElementById('booking-check-out').value = '';
            document.getElementById('booking-name').value = '';
            document.getElementById('booking-phone').value = '';
            document.getElementById('booking-guests').value = '1';
            document.getElementById('booking-message').value = '';
            
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Å–≤–æ–¥–∫—É
            document.getElementById('booking-period').textContent = '–í—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—ã';
            document.getElementById('booking-nights').textContent = '-';
            document.getElementById('booking-status').textContent = '–î–æ—Å—Ç—É–ø–Ω–æ';
            document.getElementById('booking-status').className = 'booking-status-available';
            
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–µ –¥–∞—Ç—ã –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ
            selectedStartDate = null;
            selectedEndDate = null;
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –∫–∞–ª–µ–Ω–¥–∞—Ä—å
            initializeCalendar(apartment);
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º ID –∫–≤–∞—Ä—Ç–∏—Ä—ã –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏
            document.getElementById('booking-modal').setAttribute('data-apartment-id', apartmentId);
            
            // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–≤–æ–¥–∫–∏
            document.getElementById('booking-check-in').addEventListener('change', function() {
                updateBookingSummary();
                updateMiniCalendarSelection();
            });
            document.getElementById('booking-check-out').addEventListener('change', function() {
                updateBookingSummary();
                updateMiniCalendarSelection();
            });
            
            // –¢–∞–∫–∂–µ –¥–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è —Å–æ–±—ã—Ç–∏–π input (–¥–ª—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è)
            document.getElementById('booking-check-in').addEventListener('input', function() {
                console.log('–ò–∑–º–µ–Ω–µ–Ω–æ –ø–æ–ª–µ –∑–∞–µ–∑–¥–∞:', this.value);
                updateMiniCalendarSelection();
            });
            document.getElementById('booking-check-out').addEventListener('input', function() {
                console.log('–ò–∑–º–µ–Ω–µ–Ω–æ –ø–æ–ª–µ –≤—ã–µ–∑–¥–∞:', this.value);
                updateMiniCalendarSelection();
            });
            
            // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è —Å–æ–±—ã—Ç–∏–π blur (–∫–æ–≥–¥–∞ –ø–æ–ª–µ —Ç–µ—Ä—è–µ—Ç —Ñ–æ–∫—É—Å)
            document.getElementById('booking-check-in').addEventListener('blur', function() {
                console.log('–ü–æ—Ç–µ—Ä—è–Ω —Ñ–æ–∫—É—Å –ø–æ–ª—è –∑–∞–µ–∑–¥–∞:', this.value);
                updateMiniCalendarSelection();
            });
            document.getElementById('booking-check-out').addEventListener('blur', function() {
                console.log('–ü–æ—Ç–µ—Ä—è–Ω —Ñ–æ–∫—É—Å –ø–æ–ª—è –≤—ã–µ–∑–¥–∞:', this.value);
                updateMiniCalendarSelection();
            });
            
            // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è —Å–æ–±—ã—Ç–∏–π keyup (–ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–ª–∞–≤–∏—à)
            document.getElementById('booking-check-in').addEventListener('keyup', function() {
                console.log('–ù–∞–∂–∞—Ç–∞ –∫–ª–∞–≤–∏—à–∞ –≤ –ø–æ–ª–µ –∑–∞–µ–∑–¥–∞:', this.value);
                updateMiniCalendarSelection();
            });
            document.getElementById('booking-check-out').addEventListener('keyup', function() {
                console.log('–ù–∞–∂–∞—Ç–∞ –∫–ª–∞–≤–∏—à–∞ –≤ –ø–æ–ª–µ –≤—ã–µ–∑–¥–∞:', this.value);
                updateMiniCalendarSelection();
            });
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
            const modal = document.getElementById('booking-modal');
            modal.style.display = 'block';
            console.log('Booking modal should be visible now');
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –¥–∞—Ç –≤ –º–∏–Ω–∏-–∫–∞–ª–µ–Ω–¥–∞—Ä–µ
            setTimeout(() => {
                updateMiniCalendarSelection();
            }, 200);
            
            // –î–æ–±–∞–≤–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è
            window.updateCalendarFromInput = function() {
                console.log('–ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–ª–µ–Ω–¥–∞—Ä—è –∏–∑ –ø–æ–ª–µ–π –≤–≤–æ–¥–∞');
                updateMiniCalendarSelection();
            };
            
            // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∫–Ω–æ–ø–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (–µ—Å–ª–∏ –æ–Ω–∞ –µ—Å—Ç—å)
            const updateButton = document.getElementById('update-calendar-btn');
            if (updateButton) {
                updateButton.addEventListener('click', function() {
                    console.log('–ö–Ω–æ–ø–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è –Ω–∞–∂–∞—Ç–∞');
                    updateMiniCalendarSelection();
                });
            }
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–≤–æ–¥–∫–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
        function updateBookingSummary() {
            const checkIn = document.getElementById('booking-check-in').value;
            const checkOut = document.getElementById('booking-check-out').value;
            const apartmentId = parseInt(document.getElementById('booking-modal').getAttribute('data-apartment-id'));
            const apartment = apartments.find(apt => apt.id === apartmentId);
            
            // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –¥–∞—Ç—ã –∏–∑ —Ñ–æ—Ä–º–∞—Ç–∞ DD.MM.YYYY –≤ YYYY-MM-DD
            function convertDisplayDateToISO(dateString) {
                if (!dateString) return null;
                
                // –ï—Å–ª–∏ –¥–∞—Ç–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ DD.MM.YYYY, –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º
                if (dateString.includes('.')) {
                    const parts = dateString.split('.');
                    if (parts.length === 3) {
                        const day = parts[0];
                        const month = parts[1];
                        const year = parts[2];
                        return `${year}-${month}-${day}`;
                    }
                }
                
                return dateString;
            }
            
            const checkInISO = convertDisplayDateToISO(checkIn);
            const checkOutISO = convertDisplayDateToISO(checkOut);
            
            if (checkInISO && checkOutISO) {
                const checkInDate = new Date(checkInISO);
                const checkOutDate = new Date(checkOutISO);
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –ø–µ—Ä–∏–æ–¥
                document.getElementById('booking-period').textContent = 
                    `${formatDate(checkInISO)} - ${formatDate(checkOutISO)}`;
                
                // –í—ã—á–∏—Å–ª—è–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–æ—á–µ–π
                const nights = Math.ceil((checkOutDate - checkInDate) / (1000 * 60 * 60 * 24));
                document.getElementById('booking-nights').textContent = `${nights} –Ω–æ—á–µ–π`;
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å
                if (checkOutDate <= checkInDate) {
                    document.getElementById('booking-status').textContent = '–ù–µ–≤–µ—Ä–Ω—ã–µ –¥–∞—Ç—ã';
                    document.getElementById('booking-status').className = 'booking-status-unavailable';
                    document.getElementById('confirm-booking').disabled = true;
                } else if (!isApartmentAvailable(apartment, checkInISO, checkOutISO)) {
                    document.getElementById('booking-status').textContent = '–ó–∞–Ω—è—Ç–æ –≤ –≤—ã–±—Ä–∞–Ω–Ω—ã–µ –¥–∞—Ç—ã';
                    document.getElementById('booking-status').className = 'booking-status-conflict';
                    document.getElementById('confirm-booking').disabled = true;
                } else {
                    document.getElementById('booking-status').textContent = '–î–æ—Å—Ç—É–ø–Ω–æ';
                    document.getElementById('booking-status').className = 'booking-status-available';
                    document.getElementById('confirm-booking').disabled = false;
                }
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–∏–º–µ—Ä–Ω—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å
                if (apartment && apartment.price_type === 'fixed') {
                    const totalAmount = nights * apartment.price;
                    document.getElementById('booking-total').textContent = `~${totalAmount} BYN`;
                } else {
                    document.getElementById('booking-total').textContent = '–î–æ–≥–æ–≤–æ—Ä–Ω–∞—è';
                }
            } else {
                document.getElementById('booking-period').textContent = '–í—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—ã';
                document.getElementById('booking-nights').textContent = '-';
                document.getElementById('booking-status').textContent = '–î–æ—Å—Ç—É–ø–Ω–æ';
                document.getElementById('booking-status').className = 'booking-status-available';
                document.getElementById('booking-total').textContent = '-';
                document.getElementById('confirm-booking').disabled = true;
            }
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –±–µ–ª–æ—Ä—É—Å—Å–∫–æ–≥–æ –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞
        function validateBelarusPhone(phone) {
            // –£–±–∏—Ä–∞–µ–º –≤—Å–µ –ø—Ä–æ–±–µ–ª—ã, —Å–∫–æ–±–∫–∏ –∏ –¥–µ—Ñ–∏—Å—ã
            const cleanPhone = phone.replace(/[\s\(\)\-]/g, '');
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ñ–æ—Ä–º–∞—Ç +375XXXXXXXXX
            const phoneRegex = /^\+375\d{9}$/;
            
            if (!phoneRegex.test(cleanPhone)) {
                return false;
            }
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ–¥ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ (25, 29, 33, 44)
            const operatorCode = cleanPhone.substring(4, 6);
            const validCodes = ['25', '29', '33', '44'];
            
            return validCodes.includes(operatorCode);
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞
        function formatPhoneNumber(phone) {
            // –£–±–∏—Ä–∞–µ–º –≤—Å–µ –∫—Ä–æ–º–µ —Ü–∏—Ñ—Ä –∏ +
            let cleanPhone = phone.replace(/[^\d\+]/g, '');
            
            // –ï—Å–ª–∏ –Ω–µ—Ç +375, –¥–æ–±–∞–≤–ª—è–µ–º
            if (!cleanPhone.startsWith('+375')) {
                if (cleanPhone.startsWith('375')) {
                    cleanPhone = '+' + cleanPhone;
                } else if (cleanPhone.startsWith('80')) {
                    cleanPhone = '+375' + cleanPhone.substring(2);
                } else if (cleanPhone.length === 9) {
                    cleanPhone = '+375' + cleanPhone;
                } else {
                    return phone; // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –∫–∞–∫ –µ—Å—Ç—å, –µ—Å–ª–∏ –Ω–µ –º–æ–∂–µ–º –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å
                }
            }
            
            // –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º –≤ +375 (XX) XXX-XX-XX
            if (cleanPhone.length === 13) { // +375XXXXXXXXX
                const operatorCode = cleanPhone.substring(4, 6);
                const firstPart = cleanPhone.substring(6, 9);
                const secondPart = cleanPhone.substring(9, 11);
                const thirdPart = cleanPhone.substring(11, 13);
                return `+375 (${operatorCode}) ${firstPart}-${secondPart}-${thirdPart}`;
            }
            
            return cleanPhone;
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ñ–æ—Ä–º—ã –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
        function validateBookingForm() {
            const name = document.getElementById('booking-name').value.trim();
            const phone = document.getElementById('booking-phone').value.trim();
            const checkIn = document.getElementById('booking-check-in').value;
            const checkOut = document.getElementById('booking-check-out').value;
            const guests = document.getElementById('booking-guests').value;
            
            // –û—á–∏—â–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –æ—à–∏–±–∫–∏
            clearBookingErrors();
            
            let hasErrors = false;
            
            if (!name) {
                showBookingError('booking-name', '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è');
                hasErrors = true;
            }
            
            if (!phone) {
                showBookingError('booking-phone', '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞');
                hasErrors = true;
            } else if (!validateBelarusPhone(phone)) {
                showBookingError('booking-phone', '–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –±–µ–ª–æ—Ä—É—Å—Å–∫–∏–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞');
                hasErrors = true;
            }
            
            if (!checkIn) {
                showBookingError('booking-check-in', '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—É –∑–∞–µ–∑–¥–∞');
                hasErrors = true;
            }
            
            if (!checkOut) {
                showBookingError('booking-check-out', '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—É –≤—ã–µ–∑–¥–∞');
                hasErrors = true;
            }
            
            if (checkIn && checkOut) {
                const checkInDate = new Date(checkIn);
                const checkOutDate = new Date(checkOut);
                const today = new Date();
                today.setHours(0, 0, 0, 0);
                
                if (checkInDate < today) {
                    showBookingError('booking-check-in', '–î–∞—Ç–∞ –∑–∞–µ–∑–¥–∞ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ –ø—Ä–æ—à–ª–æ–º');
                    hasErrors = true;
                }
                
                if (checkOutDate <= checkInDate) {
                    showBookingError('booking-check-out', '–î–∞—Ç–∞ –≤—ã–µ–∑–¥–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø–æ–∑–∂–µ –¥–∞—Ç—ã –∑–∞–µ–∑–¥–∞');
                    hasErrors = true;
                }
            }
            
            if (!guests || guests < 1) {
                showBookingError('booking-guests', '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É–∫–∞–∂–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥–æ—Å—Ç–µ–π');
                hasErrors = true;
            }
            
            if (hasErrors) {
                return false;
            }
            
            return true;
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∫–∞–∑–∞ –æ—à–∏–±–æ–∫ –≤ —Ñ–æ—Ä–º–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
        function showBookingError(fieldId, message) {
            const field = document.getElementById(fieldId);
            const errorDiv = document.createElement('div');
            errorDiv.className = 'booking-error';
            errorDiv.style.color = '#e74c3c';
            errorDiv.style.fontSize = '0.8rem';
            errorDiv.style.marginTop = '0.3rem';
            errorDiv.textContent = message;
            
            field.parentNode.appendChild(errorDiv);
            field.style.borderColor = '#e74c3c';
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ –æ—à–∏–±–æ–∫ –≤ —Ñ–æ—Ä–º–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
        function clearBookingErrors() {
            document.querySelectorAll('.booking-error').forEach(error => error.remove());
            document.querySelectorAll('#booking-modal input, #booking-modal select, #booking-modal textarea').forEach(field => {
                field.style.borderColor = '';
            });
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –±–µ–ª–æ—Ä—É—Å—Å–∫–æ–≥–æ –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞
        function validateBelarusPhone(phone) {
            // –£–±–∏—Ä–∞–µ–º –≤—Å–µ –ø—Ä–æ–±–µ–ª—ã –∏ —Å–∏–º–≤–æ–ª—ã
            const cleanPhone = phone.replace(/[\s\-\(\)]/g, '');
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ñ–æ—Ä–º–∞—Ç +375XXXXXXXXX
            const phoneRegex = /^\+375\d{9}$/;
            
            return phoneRegex.test(cleanPhone);
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        function isUserLoggedIn() {
            return localStorage.getItem('user_id') !== null;
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è HTML
        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }
        
        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ø–æ–∫–∞–∑–∞ –ø–æ–ª–∏—Ç–∏–∫–∏ –∏ —Å–æ–≥–ª–∞—à–µ–Ω–∏–π
        function showPrivacyPolicy() {
            // –û—Ç–∫—Ä—ã–≤–∞–µ–º HTML —Ñ–∞–π–ª –≤ –Ω–æ–≤–æ–º –æ–∫–Ω–µ
            const policyWindow = window.open('privacy-policy.html', '_blank', 'width=800,height=600,scrollbars=yes,resizable=yes');
            
            // –ï—Å–ª–∏ –æ–∫–Ω–æ –Ω–µ –æ—Ç–∫—Ä—ã–ª–æ—Å—å, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º fallback
            if (!policyWindow) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Ä–∞–∑—Ä–µ—à–∏—Ç–µ –≤—Å–ø–ª—ã–≤–∞—é—â–∏–µ –æ–∫–Ω–∞ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ø–æ–ª–∏—Ç–∏–∫–∏ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏');
            }
        }
        
        function showTerms() {
            // –û—Ç–∫—Ä—ã–≤–∞–µ–º HTML —Ñ–∞–π–ª –≤ –Ω–æ–≤–æ–º –æ–∫–Ω–µ
            const termsWindow = window.open('terms-of-service.html', '_blank', 'width=800,height=600,scrollbars=yes,resizable=yes');
            
            // –ï—Å–ª–∏ –æ–∫–Ω–æ –Ω–µ –æ—Ç–∫—Ä—ã–ª–æ—Å—å, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º fallback
            if (!termsWindow) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Ä–∞–∑—Ä–µ—à–∏—Ç–µ –≤—Å–ø–ª—ã–≤–∞—é—â–∏–µ –æ–∫–Ω–∞ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ —Å–æ–≥–ª–∞—à–µ–Ω–∏—è');
            }
        }
        
        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
        function changeAdminPassword() {
            const newPassword = document.getElementById('new-admin-password').value;
            if (!newPassword || newPassword.length < 4) {
                alert('–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 4 —Å–∏–º–≤–æ–ª–∞');
                return;
            }
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å
            localStorage.setItem('admin_password', newPassword);
            ADMIN_PASSWORD = newPassword;
            
            showNotification('–ü–∞—Ä–æ–ª—å –∏–∑–º–µ–Ω–µ–Ω!', 'success');
            document.getElementById('new-admin-password').value = '';
        }
        

        
        function updateContactPhone() {
            const phone = document.getElementById('contact-phone').value;
            if (!phone) {
                alert('–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞');
                return;
            }
            
            // –í–∞–ª–∏–¥–∞—Ü–∏—è –±–µ–ª–æ—Ä—É—Å—Å–∫–æ–≥–æ –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞
            if (!validateBelarusPhone(phone)) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –±–µ–ª–æ—Ä—É—Å—Å–∫–∏–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ +375 (XX) XXX-XX-XX');
                return;
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Å—ã–ª–∫–∏ —Ç–µ–ª–µ—Ñ–æ–Ω–∞
            const phoneLinks = document.querySelectorAll('a[href^="tel:"]');
            phoneLinks.forEach(link => {
                link.href = `tel:${phone.replace(/\s/g, '')}`;
                link.textContent = phone;
            });
            
            showNotification('–ö–æ–Ω—Ç–∞–∫—Ç–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω –æ–±–Ω–æ–≤–ª–µ–Ω!', 'success');
        }
        
        function resetAdminPassword() {
            if (confirm('–°–±—Ä–æ—Å–∏—Ç—å –ø–∞—Ä–æ–ª—å –∫ –∑–Ω–∞—á–µ–Ω–∏—é –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (admin123)?')) {
                localStorage.removeItem('admin_password');
                ADMIN_PASSWORD = 'admin123';
                showNotification('–ü–∞—Ä–æ–ª—å —Å–±—Ä–æ—à–µ–Ω –∫ –∑–Ω–∞—á–µ–Ω–∏—é –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é!', 'success');
            }
        }
        
        // –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è
        let currentCalendarDate = new Date();
        let selectedStartDate = null;
        let selectedEndDate = null;
        let currentApartmentForCalendar = null;
        
        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–∞–ª–µ–Ω–¥–∞—Ä–µ–º
        function initializeCalendar(apartment) {
            currentApartmentForCalendar = apartment;
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º bookedDates –∫–∞–∫ –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤, –µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç
            if (!currentApartmentForCalendar.bookedDates) {
                currentApartmentForCalendar.bookedDates = [];
            }
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞—Ç—ã —Å —Å–µ—Ä–≤–µ—Ä–∞
            loadBookedDates(apartment.id);
            
            currentCalendarDate = new Date();
            renderCalendar();
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞—Ç —Å —Å–µ—Ä–≤–µ—Ä–∞
        async function loadBookedDates(apartmentId) {
            try {
                const response = await fetch(`api.php?action=get_booked_dates&apartment_id=${apartmentId}`);
                const result = await response.json();
                
                if (result.success && result.data) {
                    // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ –æ—Ç API –¥–ª—è —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
                    currentApartmentForCalendar.bookedDates = result.data;
                    
                    // –ü–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ–º –∫–∞–ª–µ–Ω–¥–∞—Ä—å —Å –Ω–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
                    renderCalendar();
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞—Ç:', error);
            }
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞—Ç –¥–ª—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
        async function loadBookedDatesForModal(apartmentId, element) {
            try {
                const response = await fetch(`api.php?action=get_booked_dates&apartment_id=${apartmentId}`);
                const result = await response.json();
                
                if (result.success && result.data && result.data.length > 0) {
                    // –ì—Ä—É–ø–ø–∏—Ä—É–µ–º –¥–∞—Ç—ã –ø–æ –ø–µ—Ä–∏–æ–¥–∞–º
                    const periods = [];
                    let currentPeriod = null;
                    
                    result.data.forEach(item => {
                        const date = new Date(item.date);
                        if (!currentPeriod) {
                            currentPeriod = { start: date, end: date };
                        } else if (date.getTime() - currentPeriod.end.getTime() === 24 * 60 * 60 * 1000) {
                            // –°–ª–µ–¥—É—é—â–∏–π –¥–µ–Ω—å
                            currentPeriod.end = date;
                        } else {
                            // –†–∞–∑—Ä—ã–≤ –≤ –¥–∞—Ç–∞—Ö
                            periods.push(currentPeriod);
                            currentPeriod = { start: date, end: date };
                        }
                    });
                    
                    if (currentPeriod) {
                        periods.push(currentPeriod);
                    }
                    
                    const datesList = periods.map(period => 
                        `${formatDate(period.start)} - ${formatDate(period.end)}`
                    ).join('<br>');
                    element.innerHTML = datesList;
                } else {
                    element.innerHTML = '–ù–µ—Ç –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞—Ç';
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞—Ç –¥–ª—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞:', error);
                element.innerHTML = '–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö';
            }
        }
        
        function renderCalendar() {
            const calendarGrid = document.getElementById('calendar-grid');
            const currentMonthSpan = document.getElementById('current-month');
            
            if (!calendarGrid) return;
            
            const year = currentCalendarDate.getFullYear();
            const month = currentCalendarDate.getMonth();
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫ –º–µ—Å—è—Ü–∞
            const monthNames = ['–Ø–Ω–≤–∞—Ä—å', '–§–µ–≤—Ä–∞–ª—å', '–ú–∞—Ä—Ç', '–ê–ø—Ä–µ–ª—å', '–ú–∞–π', '–ò—é–Ω—å',
                               '–ò—é–ª—å', '–ê–≤–≥—É—Å—Ç', '–°–µ–Ω—Ç—è–±—Ä—å', '–û–∫—Ç—è–±—Ä—å', '–ù–æ—è–±—Ä—å', '–î–µ–∫–∞–±—Ä—å'];
            
            if (currentMonthSpan) {
                currentMonthSpan.textContent = `${monthNames[month]} ${year}`;
            }
            
            // –û—á–∏—â–∞–µ–º –∫–∞–ª–µ–Ω–¥–∞—Ä—å
            calendarGrid.innerHTML = '';
            
            // –î–æ–±–∞–≤–ª—è–µ–º –∑–∞–≥–æ–ª–æ–≤–∫–∏ –¥–Ω–µ–π –Ω–µ–¥–µ–ª–∏
            const dayNames = ['–ü–Ω', '–í—Ç', '–°—Ä', '–ß—Ç', '–ü—Ç', '–°–±', '–í—Å'];
            dayNames.forEach(day => {
                const dayHeader = document.createElement('div');
                dayHeader.className = 'calendar-day';
                dayHeader.style.fontWeight = 'bold';
                dayHeader.style.backgroundColor = '#f8f9fa';
                dayHeader.style.fontSize = '1rem';
                dayHeader.textContent = day;
                calendarGrid.appendChild(dayHeader);
            });
            
            // –ü–æ–ª—É—á–∞–µ–º –ø–µ—Ä–≤—ã–π –¥–µ–Ω—å –º–µ—Å—è—Ü–∞ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π
            const firstDay = new Date(year, month, 1);
            const lastDay = new Date(year, month + 1, 0);
            const startDate = new Date(firstDay);
            startDate.setDate(startDate.getDate() - (firstDay.getDay() || 7) + 1);
            
            // –°–æ–∑–¥–∞–µ–º –¥–Ω–∏ –∫–∞–ª–µ–Ω–¥–∞—Ä—è
            for (let i = 0; i < 42; i++) {
                const currentDate = new Date(startDate);
                currentDate.setDate(startDate.getDate() + i);
                
                const dayElement = document.createElement('div');
                dayElement.className = 'calendar-day';
                dayElement.textContent = currentDate.getDate();
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –ª–∏ –¥–µ–Ω—å –∫ —Ç–µ–∫—É—â–µ–º—É –º–µ—Å—è—Ü—É
                if (currentDate.getMonth() !== month) {
                    dayElement.classList.add('other-month');
                } else {
                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å
                    // –ò—Å–ø–æ–ª—å–∑—É–µ–º –ª–æ–∫–∞–ª—å–Ω—É—é –¥–∞—Ç—É –≤–º–µ—Å—Ç–æ UTC –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –ø—Ä–æ–±–ª–µ–º —Å —á–∞—Å–æ–≤—ã–º–∏ –ø–æ—è—Å–∞–º–∏
                    const year = currentDate.getFullYear();
                    const month = String(currentDate.getMonth() + 1).padStart(2, '0');
                    const day = String(currentDate.getDate()).padStart(2, '0');
                    const dateString = `${year}-${month}-${day}`;
                    const isAvailable = isDateAvailable(dateString);
                    const isToday = isSameDay(currentDate, new Date());
                    
                    if (isToday) {
                        dayElement.classList.add('today');
                    }
                    
                    if (isAvailable) {
                        dayElement.classList.add('available');
                        dayElement.onclick = () => selectDate(dateString);
                    } else {
                        dayElement.classList.add('booked');
                    }
                    
                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –≤—ã–±—Ä–∞–Ω –ª–∏ –¥–µ–Ω—å
                    if (selectedStartDate && isSameDay(currentDate, new Date(selectedStartDate))) {
                        dayElement.classList.add('selected');
                        console.log('–î–µ–Ω—å –≤—ã–±—Ä–∞–Ω –∫–∞–∫ –Ω–∞—á–∞–ª—å–Ω–∞—è –¥–∞—Ç–∞:', dateString);
                    }
                    if (selectedEndDate && isSameDay(currentDate, new Date(selectedEndDate))) {
                        dayElement.classList.add('selected');
                        console.log('–î–µ–Ω—å –≤—ã–±—Ä–∞–Ω –∫–∞–∫ –∫–æ–Ω–µ—á–Ω–∞—è –¥–∞—Ç–∞:', dateString);
                    }
                    
                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ª–∏ –¥–µ–Ω—å –≤ –≤—ã–±—Ä–∞–Ω–Ω–æ–º –¥–∏–∞–ø–∞–∑–æ–Ω–µ
                    if (selectedStartDate && selectedEndDate && selectedStartDate !== selectedEndDate) {
                        const startDate = new Date(selectedStartDate);
                        const endDate = new Date(selectedEndDate);
                        const currentDateObj = new Date(dateString);
                        
                        if (currentDateObj >= startDate && currentDateObj <= endDate) {
                            dayElement.classList.add('in-range');
                        }
                    }
                }
                
                calendarGrid.appendChild(dayElement);
            }
        }
        
        // –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –¥–∞—Ç—ã
        function isDateAvailable(dateString, bookedDates = null) {
            // –ï—Å–ª–∏ –ø–µ—Ä–µ–¥–∞–Ω—ã –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞—Ç—ã (–¥–ª—è –º–∏–Ω–∏-–∫–∞–ª–µ–Ω–¥–∞—Ä—è)
            if (bookedDates && Array.isArray(bookedDates)) {
                const checkDate = new Date(dateString);
                console.log('–ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–∞—Ç—É –≤ –º–∏–Ω–∏-–∫–∞–ª–µ–Ω–¥–∞—Ä–µ:', dateString);
                console.log('–ü–æ–ª—É—á–µ–Ω–Ω—ã–µ –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞—Ç—ã:', bookedDates);
                
                for (let booking of bookedDates) {
                    if (booking.date) {
                        const bookingDate = new Date(booking.date);
                        console.log('–°—Ä–∞–≤–Ω–∏–≤–∞–µ–º —Å –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –¥–∞—Ç–æ–π:', booking.date);
                        if (isSameDay(checkDate, bookingDate)) {
                            console.log('–î–∞—Ç–∞ –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∞:', dateString);
                            return false;
                        }
                    }
                }
                console.log('–î–∞—Ç–∞ —Å–≤–æ–±–æ–¥–Ω–∞:', dateString);
                return true;
            }
            
            // –î–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–∞–ª–µ–Ω–¥–∞—Ä—è –∏—Å–ø–æ–ª—å–∑—É–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ currentApartmentForCalendar.bookedDates
            if (!currentApartmentForCalendar) return true;
            
            if (!currentApartmentForCalendar.bookedDates || !Array.isArray(currentApartmentForCalendar.bookedDates)) {
                console.log('–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞—Ç–∞—Ö –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–∞–ª–µ–Ω–¥–∞—Ä—è');
                return true;
            }
            
            const checkDate = new Date(dateString);
            console.log('–ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–∞—Ç—É –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –∫–∞–ª–µ–Ω–¥–∞—Ä–µ:', dateString);
            console.log('–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞—Ç—ã:', currentApartmentForCalendar.bookedDates);
            
            for (let booking of currentApartmentForCalendar.bookedDates) {
                if (booking.date) {
                    const bookingDate = new Date(booking.date);
                    console.log('–°—Ä–∞–≤–Ω–∏–≤–∞–µ–º —Å –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –¥–∞—Ç–æ–π:', booking.date);
                    if (isSameDay(checkDate, bookingDate)) {
                        console.log('–î–∞—Ç–∞ –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∞ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –∫–∞–ª–µ–Ω–¥–∞—Ä–µ:', dateString);
                        return false;
                    }
                }
            }
            
            console.log('–î–∞—Ç–∞ —Å–≤–æ–±–æ–¥–Ω–∞ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –∫–∞–ª–µ–Ω–¥–∞—Ä–µ:', dateString);
            return true;
        }
        
        function selectDate(dateString) {
            console.log('–í—ã–±—Ä–∞–Ω–∞ –¥–∞—Ç–∞:', dateString);
            
            if (!selectedStartDate) {
                // –ü–µ—Ä–≤—ã–π –≤—ã–±–æ—Ä - —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–∞—á–∞–ª—å–Ω—É—é –¥–∞—Ç—É
                selectedStartDate = dateString;
                selectedEndDate = dateString;
                console.log('–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –Ω–∞—á–∞–ª—å–Ω–∞—è –¥–∞—Ç–∞:', selectedStartDate);
            } else if (!selectedEndDate || selectedStartDate === selectedEndDate) {
                // –í—Ç–æ—Ä–æ–π –≤—ã–±–æ—Ä - —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫–æ–Ω–µ—á–Ω—É—é –¥–∞—Ç—É
                const start = new Date(selectedStartDate);
                const end = new Date(dateString);
                
                if (end < start) {
                    // –ï—Å–ª–∏ –∫–æ–Ω–µ—á–Ω–∞—è –¥–∞—Ç–∞ —Ä–∞–Ω—å—à–µ –Ω–∞—á–∞–ª—å–Ω–æ–π, –º–µ–Ω—è–µ–º –º–µ—Å—Ç–∞–º–∏
                    selectedStartDate = dateString;
                    selectedEndDate = selectedStartDate;
                } else {
                    selectedEndDate = dateString;
                }
                console.log('–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –∫–æ–Ω–µ—á–Ω–∞—è –¥–∞—Ç–∞:', selectedEndDate);
            } else {
                // –¢—Ä–µ—Ç–∏–π –≤—ã–±–æ—Ä - —Å–±—Ä–∞—Å—ã–≤–∞–µ–º –∏ –Ω–∞—á–∏–Ω–∞–µ–º –∑–∞–Ω–æ–≤–æ
                selectedStartDate = dateString;
                selectedEndDate = dateString;
                console.log('–°–±—Ä–æ—Å –∏ –Ω–æ–≤–∞—è –Ω–∞—á–∞–ª—å–Ω–∞—è –¥–∞—Ç–∞:', selectedStartDate);
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–ª—è –≤–≤–æ–¥–∞
            const checkInField = document.getElementById('booking-check-in');
            const checkOutField = document.getElementById('booking-check-out');
            
            if (checkInField) {
                checkInField.value = selectedStartDate;
                console.log('–û–±–Ω–æ–≤–ª–µ–Ω–æ –ø–æ–ª–µ check-in:', selectedStartDate);
            }
            
            if (checkOutField) {
                checkOutField.value = selectedEndDate;
                console.log('–û–±–Ω–æ–≤–ª–µ–Ω–æ –ø–æ–ª–µ check-out:', selectedEndDate);
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∫–∞–ª–µ–Ω–¥–∞—Ä—å
            renderCalendar();
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å–≤–æ–¥–∫—É
            updateBookingSummary();
        }
        
        function previousMonth() {
            currentCalendarDate.setMonth(currentCalendarDate.getMonth() - 1);
            renderCalendar();
        }
        
        function nextMonth() {
            currentCalendarDate.setMonth(currentCalendarDate.getMonth() + 1);
            renderCalendar();
        }
        
        function isSameDay(date1, date2) {
            // –ü—Ä–∏–≤–æ–¥–∏–º –¥–∞—Ç—ã –∫ –ª–æ–∫–∞–ª—å–Ω–æ–º—É –≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
            const localDate1 = new Date(date1.getFullYear(), date1.getMonth(), date1.getDate());
            const localDate2 = new Date(date2.getFullYear(), date2.getMonth(), date2.getDate());
            
            return localDate1.getTime() === localDate2.getTime();
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∫–∞–∑–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
        function showNotification(message, type = 'success') {
            const notification = document.createElement('div');
            notification.className = `notification notification-${type}`;
            notification.innerHTML = `
                <div class="notification-content">
                    <span>${message}</span>
                    <button onclick="this.parentElement.parentElement.remove()">&times;</button>
                </div>
            `;
            
            // –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç–∏–ª–∏
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${type === 'success' ? '#27ae60' : '#e74c3c'};
                color: white;
                padding: 1rem;
                border-radius: 8px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                z-index: 10000;
                max-width: 400px;
                animation: slideIn 0.3s ease;
            `;
            
            document.body.appendChild(notification);
            
            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è–µ–º —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥
            setTimeout(() => {
                if (notification.parentElement) {
                    notification.remove();
                }
            }, 5000);
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∫–∞–∑–∞/—Å–∫—Ä—ã—Ç–∏—è –∑–∞–≥—Ä—É–∑–∫–∏
        function setLoading(button, isLoading) {
            if (isLoading) {
                button.classList.add('btn-loading');
                button.disabled = true;
                button.textContent = '–û—Ç–ø—Ä–∞–≤–∫–∞...';
            } else {
                button.classList.remove('btn-loading');
                button.disabled = false;
                button.textContent = '–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å';
            }
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∫–∞–∑–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ —Ä–∞–π–æ–Ω–∞–º
        function showDistrictStatistics() {
            const stats = {};
            
            apartments.forEach(apartment => {
                const district = apartment.district;
                if (!stats[district]) {
                    stats[district] = {
                        total: 0,
                        available: 0,
                        booked: 0,
                        avgPrice: 0
                    };
                }
                
                stats[district].total++;
                if (apartment.status === 'available') {
                    stats[district].available++;
                } else {
                    stats[district].booked++;
                }
            });
            
            let statsHtml = '<div class="district-stats">';
            statsHtml += '<h3>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Ä–∞–π–æ–Ω–∞–º</h3>';
            statsHtml += '<div class="stats-grid">';
            
            Object.keys(stats).forEach(district => {
                const data = stats[district];
                const percentage = Math.round((data.available / data.total) * 100);
                
                statsHtml += `
                    <div class="stat-card">
                        <h4>${getDistrictName(district)}</h4>
                        <div class="stat-numbers">
                            <div class="stat-item">
                                <span class="stat-label">–í—Å–µ–≥–æ –∫–≤–∞—Ä—Ç–∏—Ä:</span>
                                <span class="stat-value">${data.total}</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">–°–≤–æ–±–æ–¥–Ω–æ:</span>
                                <span class="stat-value available">${data.available}</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">–ó–∞–Ω—è—Ç–æ:</span>
                                <span class="stat-value booked">${data.booked}</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å:</span>
                                <span class="stat-value">${percentage}%</span>
                            </div>
                        </div>
                    </div>
                `;
            });
            
            statsHtml += '</div></div>';
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ
            const modal = document.createElement('div');
            modal.className = 'modal-content';
            modal.innerHTML = `
                <div class="modal-header">
                    <h2>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Ä–∞–π–æ–Ω–∞–º</h2>
                    <button class="close-modal" onclick="this.parentElement.parentElement.parentElement.remove()">&times;</button>
                </div>
                <div class="modal-body">
                    ${statsHtml}
                </div>
            `;
            
            const modalContainer = document.createElement('div');
            modalContainer.className = 'apartment-modal';
            modalContainer.style.display = 'block';
            modalContainer.appendChild(modal);
            
            document.body.appendChild(modalContainer);
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
        async function confirmBooking() {
            // –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º—ã
            if (!validateBookingForm()) {
                return;
            }
            
            const submitBtn = document.getElementById('confirm-booking');
            setLoading(submitBtn, true);
            
            const checkIn = document.getElementById('booking-check-in').value;
            const checkOut = document.getElementById('booking-check-out').value;
            const name = escapeHtml(document.getElementById('booking-name').value.trim());
            const phone = escapeHtml(document.getElementById('booking-phone').value.trim());
            const guests = parseInt(document.getElementById('booking-guests').value);
            const message = escapeHtml(document.getElementById('booking-message').value.trim());
            const apartmentId = parseInt(document.getElementById('booking-modal').getAttribute('data-apartment-id'));
            
            // –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∫–≤–∞—Ä—Ç–∏—Ä—ã
            const apartment = apartments.find(apt => apt.id === apartmentId);
            if (!apartment) {
                showNotification('–û—à–∏–±–∫–∞: –∫–≤–∞—Ä—Ç–∏—Ä–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞', 'error');
                setLoading(submitBtn, false);
                return;
            }
            
            try {
                console.log('–û—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:', {
                    apartment_id: apartmentId,
                    check_in: checkIn,
                    check_out: checkOut,
                    name: name,
                    phone: phone,
                    guests: guests,
                    message: message
                });
                
                // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
                const result = await apiRequest('create_booking', 'POST', {
                    apartment_id: apartmentId,
                    check_in: checkIn,
                    check_out: checkOut,
                    name: name,
                    phone: phone,
                    guests: guests,
                    message: message
                });
                
                console.log('–û—Ç–≤–µ—Ç –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞:', result);
                
                if (result.success) {
                    // –ó–∞–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
                    document.getElementById('booking-modal').style.display = 'none';
                    
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—à–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–µ
                    showNotification(`–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–æ! –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ –æ–ø–ª–∞—Ç–µ...`, 'success');
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –∫–≤–∞—Ä—Ç–∏—Ä
                    loadApartmentsFromServer();
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –∫–∞–ª–µ–Ω–¥–∞—Ä—å –¥–ª—è —ç—Ç–æ–π –∫–≤–∞—Ä—Ç–∏—Ä—ã
                    console.log('–û–±–Ω–æ–≤–ª—è–µ–º –∫–∞–ª–µ–Ω–¥–∞—Ä—å –¥–ª—è –∫–≤–∞—Ä—Ç–∏—Ä—ã:', apartmentId);
                    refreshCalendar(apartmentId);
                    
                    // –¢–∞–∫–∂–µ –æ–±–Ω–æ–≤–ª—è–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∫–≤–∞—Ä—Ç–∏—Ä—ã, –µ—Å–ª–∏ –æ–Ω–æ –æ—Ç–∫—Ä—ã—Ç–æ
                    const modal = document.getElementById('apartment-modal');
                    if (modal && modal.style.display === 'block') {
                        console.log('–û–±–Ω–æ–≤–ª—è–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∫–≤–∞—Ä—Ç–∏—Ä—ã');
                        const modalApartmentId = modal.getAttribute('data-apartment-id');
                        if (modalApartmentId == apartmentId) {
                            // –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∫–≤–∞—Ä—Ç–∏—Ä—ã –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ
                            loadBookedDatesForModal(apartmentId, document.getElementById('modal-booked-dates'));
                            renderMiniCalendar({id: apartmentId});
                        }
                    }
                    
                    // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –æ–±–Ω–æ–≤–ª—è–µ–º –∫–∞–ª–µ–Ω–¥–∞—Ä—å —á–µ—Ä–µ–∑ 1 —Å–µ–∫—É–Ω–¥—É
                    setTimeout(() => {
                        console.log('–ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –æ–±–Ω–æ–≤–ª—è–µ–º –∫–∞–ª–µ–Ω–¥–∞—Ä—å —á–µ—Ä–µ–∑ 1 —Å–µ–∫—É–Ω–¥—É');
                        refreshCalendar(apartmentId);
                        
                        // –¢–∞–∫–∂–µ –æ–±–Ω–æ–≤–ª—è–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∫–≤–∞—Ä—Ç–∏—Ä—ã –µ—â–µ —Ä–∞–∑
                        if (modal && modal.style.display === 'block') {
                            const modalApartmentId = modal.getAttribute('data-apartment-id');
                            if (modalApartmentId == apartmentId) {
                                loadBookedDatesForModal(apartmentId, document.getElementById('modal-booked-dates'));
                                renderMiniCalendar({id: apartmentId});
                            }
                        }
                    }, 1000);
                    
                    // –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –æ–ø–ª–∞—Ç—ã
                    setTimeout(() => {
                        window.location.href = `payment.html?bookingId=${result.booking_id}`;
                    }, 1500);
                } else {
                    showNotification(result.message || '–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è', 'error');
                }
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:', error);
                showNotification('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑ –∏–ª–∏ —Å–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É.', 'error');
            } finally {
                // –°–∫—Ä—ã–≤–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É
                setLoading(submitBtn, false);
            }
        }
        
        // –§—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –æ–ø–ª–∞—Ç—ã
        function redirectToPayment() {
            // –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ —Ç–µ–∫—É—â–µ–≥–æ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
            const checkIn = document.getElementById('booking-check-in').value;
            const checkOut = document.getElementById('booking-check-out').value;
            const name = document.getElementById('booking-name').value;
            const phone = document.getElementById('booking-phone').value;
            const guests = document.getElementById('booking-guests').value;
            const message = document.getElementById('booking-message').value;
            
            if (!checkIn || !checkOut || !name || !phone) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è');
                return;
            }
            
            // –°–æ–∑–¥–∞–µ–º –æ–±—ä–µ–∫—Ç –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
            const bookingData = {
                id: Date.now(),
                apartmentTitle: document.getElementById('booking-apartment-title').textContent,
                apartmentAddress: document.getElementById('booking-apartment-address').textContent,
                checkIn: checkIn,
                checkOut: checkOut,
                nights: calculateNights(checkIn, checkOut),
                pricePerNight: 100, // –ú–æ–∂–Ω–æ –ø–æ–ª—É—á–∞—Ç—å –∏–∑ –¥–∞–Ω–Ω—ã—Ö –∫–≤–∞—Ä—Ç–∏—Ä—ã
                totalAmount: calculateNights(checkIn, checkOut) * 100,
                name: name,
                phone: phone,
                guests: guests,
                message: message,
                createdAt: new Date().toISOString()
            };
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
            localStorage.setItem(`booking_${bookingData.id}`, JSON.stringify(bookingData));
            
            // –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –æ–ø–ª–∞—Ç—ã
            window.location.href = `payment.html?bookingId=${bookingData.id}`;
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –Ω–æ—á–µ–π
        function calculateNights(checkIn, checkOut) {
            if (!checkIn || !checkOut) return 0;
            
            const checkInDate = new Date(checkIn);
            const checkOutDate = new Date(checkOut);
            
            // –†–∞–∑–Ω–∏—Ü–∞ –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö
            const timeDiff = checkOutDate.getTime() - checkInDate.getTime();
            
            // –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º –≤ –¥–Ω–∏
            const nights = Math.ceil(timeDiff / (1000 * 60 * 60 * 24));
            
            return nights > 0 ? nights : 0;
        }
        
        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–ª–∞—Ç–µ–∂–∞–º–∏
        function approvePayment(paymentId) {
            if (confirm('–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –ø–ª–∞—Ç–µ–∂?')) {
                const payments = JSON.parse(localStorage.getItem('payments') || '[]');
                const paymentIndex = payments.findIndex(p => p.id === paymentId);
                
                if (paymentIndex !== -1) {
                    payments[paymentIndex].status = 'completed';
                    localStorage.setItem('payments', JSON.stringify(payments));
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
                    const bookingId = payments[paymentIndex].bookingId;
                    const bookings = JSON.parse(localStorage.getItem('bookings') || '[]');
                    const bookingIndex = bookings.findIndex(b => b.id === bookingId);
                    if (bookingIndex !== -1) {
                        bookings[bookingIndex].paymentStatus = 'paid';
                        localStorage.setItem('bookings', JSON.stringify(bookings));
                    }
                    
                    showNotification('–ü–ª–∞—Ç–µ–∂ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω!', 'success');
                    loadPayments();
                }
            }
        }
        
        function rejectPayment(paymentId) {
            if (confirm('–û—Ç–∫–ª–æ–Ω–∏—Ç—å –ø–ª–∞—Ç–µ–∂?')) {
                const payments = JSON.parse(localStorage.getItem('payments') || '[]');
                const paymentIndex = payments.findIndex(p => p.id === paymentId);
                
                if (paymentIndex !== -1) {
                    payments[paymentIndex].status = 'failed';
                    localStorage.setItem('payments', JSON.stringify(payments));
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
                    const bookingId = payments[paymentIndex].bookingId;
                    const bookings = JSON.parse(localStorage.getItem('bookings') || '[]');
                    const bookingIndex = bookings.findIndex(b => b.id === bookingId);
                    if (bookingIndex !== -1) {
                        bookings[bookingIndex].paymentStatus = 'failed';
                        localStorage.setItem('bookings', JSON.stringify(bookings));
                    }
                    
                    showNotification('–ü–ª–∞—Ç–µ–∂ –æ—Ç–∫–ª–æ–Ω–µ–Ω!', 'error');
                    loadPayments();
                }
            }
        }
        
        function viewPaymentDetails(paymentId) {
            const payments = JSON.parse(localStorage.getItem('payments') || '[]');
            const payment = payments.find(p => p.id === paymentId);
            
            if (payment) {
                const details = `
–ü–ª–∞—Ç–µ–∂ ‚Ññ${payment.id}
–î–∞—Ç–∞: ${new Date(payment.timestamp).toLocaleString('ru-RU')}
–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ: ‚Ññ${payment.bookingId}
–°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã: ${payment.method}
–°—É–º–º–∞: ${payment.amount} ${payment.currency}
–°—Ç–∞—Ç—É—Å: ${payment.status}
                `;
                alert(details);
            }
        }
        
        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏
        function saveApartmentsData() {
            localStorage.setItem('apartments', JSON.stringify(apartments));
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
        function parseImages(apartment) {
            if (!apartment.images) {
                // –ï—Å–ª–∏ –Ω–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –¥–µ—Ñ–æ–ª—Ç–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
                return ['https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=600&h=400&fit=crop'];
            }
            
            // –ï—Å–ª–∏ images —ç—Ç–æ —Å—Ç—Ä–æ–∫–∞ JSON, –ø–∞—Ä—Å–∏–º –µ—ë
            if (typeof apartment.images === 'string') {
                try {
                    return JSON.parse(apartment.images);
                } catch (e) {
                    console.warn('–û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –¥–ª—è –∫–≤–∞—Ä—Ç–∏—Ä—ã', apartment.id, ':', e);
                    // –ï—Å–ª–∏ —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ —Å—Ç—Ä–æ–∫–∞ —Å URL, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –∫–∞–∫ –º–∞—Å—Å–∏–≤
                    return [apartment.images];
                }
            }
            
            // –ï—Å–ª–∏ images —É–∂–µ –º–∞—Å—Å–∏–≤, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –∫–∞–∫ –µ—Å—Ç—å
            if (Array.isArray(apartment.images)) {
                return apartment.images;
            }
            
            // –í –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Å–ª—É—á–∞—è—Ö –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –¥–µ—Ñ–æ–ª—Ç–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            return ['https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=600&h=400&fit=crop'];
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∫–≤–∞—Ä—Ç–∏—Ä —Å —Å–µ—Ä–≤–µ—Ä–∞
        async function loadApartmentsFromServer() {
            try {
                const result = await apiRequest('get_apartments');
                console.log('–î–∞–Ω–Ω—ã–µ –∏–∑ API:', result);
                
                if (result.success && result.data) {
                    // –§–∏–ª—å—Ç—Ä—É–µ–º —Ç–æ–ª—å–∫–æ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∏ –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–≤–∞—Ä—Ç–∏—Ä—ã
                    apartments = result.data.filter(apt => apt.status === 'available' || apt.status === 'booked');
                    
                    // –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–π –∫–≤–∞—Ä—Ç–∏—Ä—ã
                    apartments = apartments.map(apt => ({
                        ...apt,
                        images: parseImages(apt),
                        coordinates: apt.latitude && apt.longitude ? {
                            lat: parseFloat(apt.latitude),
                            lng: parseFloat(apt.longitude)
                        } : null
                    }));
                    
                    console.log('–û—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–≤–∞—Ä—Ç–∏—Ä—ã —Å –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–º–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏:', apartments);
                    displayApartments(apartments);
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫ –∫–≤–∞—Ä—Ç–∏—Ä
                    updateApartmentsCounter();
                } else {
                    console.error('API –≤–µ—Ä–Ω—É–ª –æ—à–∏–±–∫—É:', result);
                    throw new Error('API error');
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–≤–∞—Ä—Ç–∏—Ä:', error);
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –≤–º–µ—Å—Ç–æ fallback
                const container = document.getElementById('apartments-container');
                container.innerHTML = '<p style="grid-column: 1/-1; text-align: center; font-size: 1.2rem; color: red;">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–≤–∞—Ä—Ç–∏—Ä. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É.</p>';
            }
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∫–≤–∞—Ä—Ç–∏—Ä –∏–∑ localStorage (fallback)
        function loadApartmentsData() {
            const saved = localStorage.getItem('apartments');
            if (saved) {
                const savedApartments = JSON.parse(saved);
                // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ –ø–æ–ª—è, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –∏–∑–º–µ–Ω–∏—Ç—å—Å—è
                apartments.forEach((apartment, index) => {
                    if (savedApartments[index]) {
                        apartment.status = savedApartments[index].status || apartment.status;
                        apartment.pendingBookings = savedApartments[index].pendingBookings || [];
                    }
                });
            }
        }
        
        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
        function loadAdminApartments() {
            const adminList = document.getElementById('admin-apartments-list');
            adminList.innerHTML = '';
            
            apartments.forEach((apartment, index) => {
                const apartmentItem = document.createElement('div');
                apartmentItem.className = 'admin-apartment-item';
                
                const statusClass = apartment.status === 'available' ? 'available' : 'booked';
                const statusText = apartment.status === 'available' ? '–°–≤–æ–±–æ–¥–Ω–∞' : '–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∞';
                
                apartmentItem.innerHTML = `
                    <div class="admin-apartment-info">
                        <h5>${apartment.title}</h5>
                        <p><strong>–†–∞–π–æ–Ω:</strong> ${getDistrictName(apartment.district)}</p>
                        <p><strong>–ö–æ–º–Ω–∞—Ç:</strong> ${apartment.rooms}</p>
                        <p><strong>–ê–¥—Ä–µ—Å:</strong> ${apartment.address}</p>
                    </div>
                    <div class="admin-apartment-status">
                        <span class="admin-status-badge ${statusClass}">${statusText}</span>
                        <div class="admin-status-toggle">
                            <button class="admin-btn admin-btn-success" onclick="changeApartmentStatus(${index}, 'available')" ${apartment.status === 'available' ? 'disabled' : ''}>
                                –°–≤–æ–±–æ–¥–Ω–∞
                            </button>
                            <button class="admin-btn admin-btn-warning" onclick="changeApartmentStatus(${index}, 'booked')" ${apartment.status === 'booked' ? 'disabled' : ''}>
                                –ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∞
                            </button>
                        </div>
                    </div>
                `;
                
                adminList.appendChild(apartmentItem);
            });
        }
        
        function loadPendingBookings() {
            const bookingsList = document.getElementById('pending-bookings-list');
            bookingsList.innerHTML = '';
            
            let hasBookings = false;
            
            apartments.forEach(apartment => {
                apartment.pendingBookings.forEach(booking => {
                    hasBookings = true;
                    const bookingItem = document.createElement('div');
                    bookingItem.className = 'pending-booking-item';
                    
                    const createdDate = new Date(booking.createdAt).toLocaleDateString('ru-RU');
                    
                    bookingItem.innerHTML = `
                        <div class="pending-booking-header">
                            <div class="pending-booking-title">${booking.apartmentTitle}</div>
                            <div class="pending-booking-date">${createdDate}</div>
                        </div>
                        <div class="pending-booking-details">
                            <p><strong>–î–∞—Ç—ã:</strong> ${formatDate(booking.checkIn)} - ${formatDate(booking.checkOut)}</p>
                            <p><strong>–ò–º—è:</strong> ${booking.name}</p>
                            <p><strong>–¢–µ–ª–µ—Ñ–æ–Ω:</strong> ${booking.phone}</p>
                            <p><strong>–ì–æ—Å—Ç–∏:</strong> ${booking.guests}</p>
                            <p><strong>–°–æ–æ–±—â–µ–Ω–∏–µ:</strong> ${booking.message || '–ù–µ —É–∫–∞–∑–∞–Ω–æ'}</p>
                        </div>
                        <div class="pending-booking-actions">
                            <button class="admin-btn admin-btn-success" onclick="approveBooking(${apartment.id}, ${booking.id})">
                                –û–¥–æ–±—Ä–∏—Ç—å
                            </button>
                            <button class="admin-btn admin-btn-danger" onclick="rejectBooking(${apartment.id}, ${booking.id})">
                                –û—Ç–∫–ª–æ–Ω–∏—Ç—å
                            </button>
                        </div>
                    `;
                    
                    bookingsList.appendChild(bookingItem);
                });
            });
            
            if (!hasBookings) {
                bookingsList.innerHTML = '<p style="text-align: center; color: var(--secondary-color);">–ù–µ—Ç –∑–∞—è–≤–æ–∫ –Ω–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</p>';
            }
        }
        
        function loadPayments() {
            const paymentsList = document.getElementById('payments-list');
            paymentsList.innerHTML = '';
            
            const payments = JSON.parse(localStorage.getItem('payments') || '[]');
            
            if (payments.length === 0) {
                paymentsList.innerHTML = '<p style="text-align: center; color: var(--secondary-color);">–ù–µ—Ç –ø–ª–∞—Ç–µ–∂–µ–π</p>';
                return;
            }
            
            // –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–ª–∞—Ç–µ–∂–∏ –ø–æ –¥–∞—Ç–µ (–Ω–æ–≤—ã–µ —Å–Ω–∞—á–∞–ª–∞)
            payments.sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));
            
            payments.forEach(payment => {
                const paymentItem = document.createElement('div');
                paymentItem.className = 'payment-item';
                
                const paymentDate = new Date(payment.timestamp).toLocaleDateString('ru-RU');
                const paymentTime = new Date(payment.timestamp).toLocaleTimeString('ru-RU');
                
                const statusClass = payment.status === 'completed' ? 'completed' : 
                                  payment.status === 'pending' ? 'pending' : 'failed';
                const statusText = payment.status === 'completed' ? '–û–ø–ª–∞—á–µ–Ω' : 
                                 payment.status === 'pending' ? '–ù–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ' : '–û—à–∏–±–∫–∞';
                
                const methodText = payment.method === 'webpay' ? 'WebPay' :
                                 payment.method === 'bank-transfer' ? '–ë–∞–Ω–∫–æ–≤—Å–∫–∏–π –ø–µ—Ä–µ–≤–æ–¥' :
                                 payment.method === 'erip' ? '–ï–†–ò–ü' : '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ';
                
                paymentItem.innerHTML = `
                    <div class="payment-header">
                        <div class="payment-title">–ü–ª–∞—Ç–µ–∂ ‚Ññ${payment.id}</div>
                        <div class="payment-date">${paymentDate} ${paymentTime}</div>
                    </div>
                    <div class="payment-details">
                        <p><strong>–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ:</strong> ‚Ññ${payment.bookingId}</p>
                        <p><strong>–°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã:</strong> ${methodText}</p>
                        <p><strong>–°—É–º–º–∞:</strong> ${payment.amount} ${payment.currency}</p>
                        <p><strong>–°—Ç–∞—Ç—É—Å:</strong> <span class="payment-status ${statusClass}">${statusText}</span></p>
                    </div>
                    <div class="payment-actions">
                        ${payment.status === 'pending' ? `
                            <button class="admin-btn admin-btn-success" onclick="approvePayment(${payment.id})">
                                ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å
                            </button>
                            <button class="admin-btn admin-btn-danger" onclick="rejectPayment(${payment.id})">
                                ‚ùå –û—Ç–∫–ª–æ–Ω–∏—Ç—å
                            </button>
                        ` : ''}
                        <button class="admin-btn admin-btn-secondary" onclick="viewPaymentDetails(${payment.id})">
                            üëÅÔ∏è –î–µ—Ç–∞–ª–∏
                        </button>
                    </div>
                `;
                
                paymentsList.appendChild(paymentItem);
            });
        }
        
        function changeApartmentStatus(index, newStatus) {
            const apartment = apartments[index];
            const oldStatus = apartment.status;
            
            apartment.status = newStatus;
            
            // –ï—Å–ª–∏ –º–µ–Ω—è–µ–º —Å—Ç–∞—Ç—É—Å –Ω–∞ "—Å–≤–æ–±–æ–¥–Ω–∞", –æ—á–∏—â–∞–µ–º –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞—Ç—ã
            if (newStatus === 'available') {
                apartment.bookedDates = [];
            }
            // –ï—Å–ª–∏ –º–µ–Ω—è–µ–º —Å—Ç–∞—Ç—É—Å –Ω–∞ "–∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∞" –∏ —É –Ω–∞—Å –Ω–µ—Ç –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞—Ç,
            // –¥–æ–±–∞–≤–ª—è–µ–º —Ç–µ–∫—É—â—É—é –¥–∞—Ç—É –∫–∞–∫ –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—É—é (–Ω–∞ –Ω–µ–¥–µ–ª—é)
            else if (newStatus === 'booked' && apartment.bookedDates.length === 0) {
                const today = new Date();
                const nextWeek = new Date(today);
                nextWeek.setDate(today.getDate() + 7);
                
                apartment.bookedDates.push({
                    start: today.toISOString().split('T')[0],
                    end: nextWeek.toISOString().split('T')[0]
                });
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º —Å–ø–∏—Å–∫–µ
            displayApartments(apartments);
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
            loadAdminApartments();
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage
            saveApartmentsData();
            
            let message = `–°—Ç–∞—Ç—É—Å –∫–≤–∞—Ä—Ç–∏—Ä—ã "${apartment.title}" –∏–∑–º–µ–Ω–µ–Ω –Ω–∞ "${newStatus === 'available' ? '–°–≤–æ–±–æ–¥–Ω–∞' : '–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∞'}"`;
            
            if (newStatus === 'available' && oldStatus === 'booked') {
                message += '\n–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞—Ç—ã –æ—á–∏—â–µ–Ω—ã.';
            } else if (newStatus === 'booked' && apartment.bookedDates.length > 0) {
                message += '\n–î–æ–±–∞–≤–ª–µ–Ω—ã –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞—Ç—ã.';
            }
            
            alert(message);
        }
        
        function approveBooking(apartmentId, bookingId) {
            const apartment = apartments.find(apt => apt.id === apartmentId);
            const booking = apartment.pendingBookings.find(b => b.id === bookingId);
            
            if (apartment && booking) {
                // –î–æ–±–∞–≤–ª—è–µ–º –¥–∞—Ç—ã –≤ –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ
                apartment.bookedDates.push({
                    start: booking.checkIn,
                    end: booking.checkOut
                });
                
                // –ú–µ–Ω—è–µ–º —Å—Ç–∞—Ç—É—Å –∫–≤–∞—Ä—Ç–∏—Ä—ã –Ω–∞ –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—É—é
                apartment.status = 'booked';
                
                // –£–¥–∞–ª—è–µ–º –∑–∞—è–≤–∫—É –∏–∑ –æ–∂–∏–¥–∞—é—â–∏—Ö
                apartment.pendingBookings = apartment.pendingBookings.filter(b => b.id !== bookingId);
                
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ
                saveApartmentsData();
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
                displayApartments(apartments);
                loadAdminApartments();
                loadPendingBookings();
                
                alert(`–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–≤–∞—Ä—Ç–∏—Ä—ã "${apartment.title}" –æ–¥–æ–±—Ä–µ–Ω–æ!`);
            }
        }
        
        function rejectBooking(apartmentId, bookingId) {
            const apartment = apartments.find(apt => apt.id === apartmentId);
            
            if (apartment) {
                // –£–¥–∞–ª—è–µ–º –∑–∞—è–≤–∫—É –∏–∑ –æ–∂–∏–¥–∞—é—â–∏—Ö
                apartment.pendingBookings = apartment.pendingBookings.filter(b => b.id !== bookingId);
                
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ
                saveApartmentsData();
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
                loadPendingBookings();
                
                alert('–ó–∞—è–≤–∫–∞ –Ω–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∞');
            }
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–±—Ä–æ—Å–∞ –¥–∞–Ω–Ω—ã—Ö (–µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫)
        function resetApartmentsData() {
            localStorage.removeItem('apartments');
            location.reload();
        }
        
        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–≤–∞—Ä—Ç–∏—Ä
        function loadEditApartments() {
            const editList = document.getElementById('edit-apartments-list');
            editList.innerHTML = '';
            
            apartments.forEach((apartment, index) => {
                const editItem = document.createElement('div');
                editItem.className = 'edit-apartment-item';
                
                const statusClass = apartment.status === 'available' ? 'available' : 'booked';
                const statusText = apartment.status === 'available' ? '–°–≤–æ–±–æ–¥–Ω–∞' : '–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∞';
                
                editItem.innerHTML = `
                    <div class="edit-apartment-info">
                        <h5>${apartment.title}</h5>
                        <p><strong>–†–∞–π–æ–Ω:</strong> ${getDistrictName(apartment.district)}</p>
                        <p><strong>–ê–¥—Ä–µ—Å:</strong> ${apartment.address}</p>
                        <p><strong>–ö–æ–º–Ω–∞—Ç:</strong> ${apartment.rooms}</p>
                        <p><strong>–°—Ç–∞—Ç—É—Å:</strong> <span class="admin-status-badge ${statusClass}">${statusText}</span></p>
                    </div>
                    <div class="edit-apartment-actions">
                        <button class="admin-btn admin-btn-success" onclick="editApartment(${index})">
                            ‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
                        </button>
                        <button class="admin-btn admin-btn-danger" onclick="deleteApartment(${index})">
                            üóëÔ∏è –£–¥–∞–ª–∏—Ç—å
                        </button>
                    </div>
                `;
                
                editList.appendChild(editItem);
            });
        }
        
        function addNewApartment() {
            // –û—á–∏—â–∞–µ–º —Ñ–æ—Ä–º—É
            document.getElementById('edit-apartment-form').reset();
            document.getElementById('edit-modal-title').textContent = '–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –∫–≤–∞—Ä—Ç–∏—Ä—ã';
            document.getElementById('delete-apartment-btn').style.display = 'none';
            
            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
            document.getElementById('edit-status').value = 'available';
            document.getElementById('edit-images').value = 'https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=600&h=400&fit=crop';
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
            document.getElementById('edit-apartment-modal').style.display = 'flex';
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ä–µ–∂–∏–º (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ)
            document.getElementById('edit-apartment-form').setAttribute('data-mode', 'add');
        }
        
        function editApartment(index) {
            const apartment = apartments[index];
            
            // –ó–∞–ø–æ–ª–Ω—è–µ–º —Ñ–æ—Ä–º—É –¥–∞–Ω–Ω—ã–º–∏ –∫–≤–∞—Ä—Ç–∏—Ä—ã
            document.getElementById('edit-title').value = apartment.title;
            document.getElementById('edit-district').value = apartment.district;
            document.getElementById('edit-address').value = apartment.address;
            document.getElementById('edit-rooms').value = apartment.rooms;
            document.getElementById('edit-floor').value = apartment.floor;
            document.getElementById('edit-area').value = apartment.area;
            document.getElementById('edit-description').value = apartment.description;
            document.getElementById('edit-status').value = apartment.status;
            document.getElementById('edit-images').value = apartment.images.join(', ');
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É —É–¥–∞–ª–µ–Ω–∏—è
            document.getElementById('delete-apartment-btn').style.display = 'block';
            document.getElementById('edit-modal-title').textContent = '–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–≤–∞—Ä—Ç–∏—Ä—ã';
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
            document.getElementById('edit-apartment-modal').style.display = 'flex';
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ä–µ–∂–∏–º –∏ –∏–Ω–¥–µ–∫—Å
            document.getElementById('edit-apartment-form').setAttribute('data-mode', 'edit');
            document.getElementById('edit-apartment-form').setAttribute('data-index', index);
        }
        
        function closeEditModal() {
            document.getElementById('edit-apartment-modal').style.display = 'none';
        }
        
        function deleteApartment(index) {
            if (confirm(`–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å –∫–≤–∞—Ä—Ç–∏—Ä—É "${apartments[index].title}"?`)) {
                apartments.splice(index, 1);
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
                displayApartments(apartments);
                loadAdminApartments();
                loadEditApartments();
                
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ
                saveApartmentsData();
                
                alert('–ö–≤–∞—Ä—Ç–∏—Ä–∞ —É–¥–∞–ª–µ–Ω–∞!');
            }
        }
        
        function saveApartment(formData) {
            const mode = formData.getAttribute('data-mode');
            
            const apartmentData = {
                title: document.getElementById('edit-title').value,
                district: document.getElementById('edit-district').value,
                address: document.getElementById('edit-address').value,
                rooms: parseInt(document.getElementById('edit-rooms').value),
                floor: document.getElementById('edit-floor').value,
                area: document.getElementById('edit-area').value,
                description: document.getElementById('edit-description').value,
                status: document.getElementById('edit-status').value,
                images: document.getElementById('edit-images').value.split(',').map(url => url.trim()).filter(url => url),
                bookedDates: [],
                pendingBookings: []
            };
            
            if (mode === 'add') {
                // –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—É—é –∫–≤–∞—Ä—Ç–∏—Ä—É
                apartmentData.id = Math.max(...apartments.map(apt => apt.id)) + 1;
                apartments.push(apartmentData);
                alert('–ö–≤–∞—Ä—Ç–∏—Ä–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞!');
            } else {
                // –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é
                const index = parseInt(formData.getAttribute('data-index'));
                const oldApartment = apartments[index];
                
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ
                apartmentData.id = oldApartment.id;
                apartmentData.bookedDates = oldApartment.bookedDates || [];
                apartmentData.pendingBookings = oldApartment.pendingBookings || [];
                
                apartments[index] = apartmentData;
                alert('–ö–≤–∞—Ä—Ç–∏—Ä–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞!');
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            displayApartments(apartments);
            loadAdminApartments();
            loadEditApartments();
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ
            saveApartmentsData();
            
            // –ó–∞–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
            closeEditModal();
        }
        

        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–∞–∑–≤–∞–Ω–∏—è —Ä–∞–π–æ–Ω–∞ –ø–æ –µ–≥–æ –∫–ª—é—á—É
        function getDistrictName(districtKey) {
            const districts = {
                'central': '–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π',
                'soviet': '–°–æ–≤–µ—Ç—Å–∫–∏–π',
                'pervomaisky': '–ü–µ—Ä–≤–æ–º–∞–π—Å–∫–∏–π',
                'partisan': '–ü–∞—Ä—Ç–∏–∑–∞–Ω—Å–∫–∏–π',
                'zavodskoy': '–ó–∞–≤–æ–¥—Å–∫–æ–π',
                'leninsky': '–õ–µ–Ω–∏–Ω—Å–∫–∏–π',
                'oktyabrsky': '–û–∫—Ç—è–±—Ä—å—Å–∫–∏–π',
                'moskovsky': '–ú–æ—Å–∫–æ–≤—Å–∫–∏–π',
                'frunzensky': '–§—Ä—É–Ω–∑–µ–Ω—Å–∫–∏–π'
            };
            return districts[districtKey] || districtKey;
        }
        
        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–∞—Ä—Ç–æ–π
        let map = null;
        let markers = [];
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞—Ä—Ç—ã
        function initMap() {
            console.log('–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞—Ä—Ç—ã...');
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –∑–∞–≥—Ä—É–∂–µ–Ω –ª–∏ API
            if (typeof ymaps === 'undefined') {
                console.error('API –Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω!');
                document.getElementById('map').innerHTML = '<div style="padding: 20px; text-align: center; color: #e74c3c;">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–∞—Ä—Ç—ã. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É.</div>';
                
                // –ü–æ–ø—Ä–æ–±—É–µ–º –µ—â–µ —Ä–∞–∑ —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã
                setTimeout(initMap, 3000);
                return;
            }
            
            // –¶–µ–Ω—Ç—Ä –ú–∏–Ω—Å–∫–∞
            const minskCenter = [53.9023, 27.5618];
            
            try {
                // –°–æ–∑–¥–∞–µ–º –∫–∞—Ä—Ç—É
                ymaps.ready(function() {
                    console.log('API –Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç –≥–æ—Ç–æ–≤');
                    
                    map = new ymaps.Map('map', {
                        center: minskCenter,
                        zoom: 12,
                        controls: ['zoomControl', 'fullscreenControl']
                    });
                    
                    console.log('–ö–∞—Ä—Ç–∞ —Å–æ–∑–¥–∞–Ω–∞');
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º –º–∞—Ä–∫–µ—Ä—ã –¥–ª—è –≤—Å–µ—Ö –∫–≤–∞—Ä—Ç–∏—Ä
                    addApartmentMarkers();
                });
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫–∞—Ä—Ç—ã:', error);
                document.getElementById('map').innerHTML = '<div style="padding: 20px; text-align: center; color: #e74c3c;">–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞—Ä—Ç—ã: ' + error.message + '</div>';
            }
        }
        
        // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–∞—Ä–∫–µ—Ä–æ–≤ –∫–≤–∞—Ä—Ç–∏—Ä –Ω–∞ –∫–∞—Ä—Ç—É
        function addApartmentMarkers() {
            console.log('–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–∞—Ä–∫–µ—Ä–æ–≤...');
            console.log('–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–≤–∞—Ä—Ç–∏—Ä:', apartments.length);
            
            if (!map) {
                console.error('–ö–∞—Ä—Ç–∞ –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞!');
                return;
            }
            
            // –û—á–∏—â–∞–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –º–∞—Ä–∫–µ—Ä—ã
            markers.forEach(marker => map.geoObjects.remove(marker));
            markers = [];
            
            let addedMarkers = 0;
            
            apartments.forEach(apartment => {
                console.log('–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–≤–∞—Ä—Ç–∏—Ä—ã:', apartment.title, '–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã:', apartment.coordinates);
                if (apartment.coordinates && apartment.coordinates.lat && apartment.coordinates.lng) {
                    try {
                        // –°–æ–∑–¥–∞–µ–º –ø—Ä–æ—Å—Ç–æ–π –º–∞—Ä–∫–µ—Ä —Å —Ü–≤–µ—Ç–æ–≤–æ–π –∏–Ω–¥–∏–∫–∞—Ü–∏–µ–π
                        const markerColor = apartment.status === 'available' ? '#27ae60' : '#e67e22';
                        
                        const marker = new ymaps.Placemark([apartment.coordinates.lat, apartment.coordinates.lng], {
                            balloonContent: `
                                <div style="padding: 10px; max-width: 250px;">
                                    <h3 style="margin: 0 0 5px 0; color: #2c3e50;">${apartment.title}</h3>
                                    <p style="margin: 0 0 5px 0; color: #7f8c8d;">${apartment.address}</p>
                                    <p style="margin: 0 0 5px 0; color: #7f8c8d;">${apartment.rooms} –∫–æ–º–Ω. ‚Ä¢ ${apartment.area} –º¬≤</p>
                                    <p style="margin: 0; color: ${markerColor}; font-weight: bold;">
                                        ${apartment.status === 'available' ? '–°–≤–æ–±–æ–¥–Ω–∞' : '–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∞'}
                                    </p>
                                    <button onclick="openApartmentModal(${apartment.id})" style="margin-top: 10px; padding: 5px 10px; background: #3498db; color: white; border: none; border-radius: 3px; cursor: pointer;">
                                        –ü–æ–¥—Ä–æ–±–Ω–µ–µ
                                    </button>
                                </div>
                            `,
                            hintContent: apartment.title
                        }, {
                            preset: apartment.status === 'available' ? 'islands#greenDotIcon' : 'islands#orangeDotIcon',
                            iconColor: markerColor
                        });
                        
                        map.geoObjects.add(marker);
                        markers.push(marker);
                        addedMarkers++;
                        
                        console.log('–ú–∞—Ä–∫–µ—Ä –¥–æ–±–∞–≤–ª–µ–Ω –¥–ª—è –∫–≤–∞—Ä—Ç–∏—Ä—ã:', apartment.title);
                        
                    } catch (error) {
                        console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –º–∞—Ä–∫–µ—Ä–∞ –¥–ª—è –∫–≤–∞—Ä—Ç–∏—Ä—ã:', apartment.title, error);
                    }
                } else {
                    console.warn('–ö–≤–∞—Ä—Ç–∏—Ä–∞ –±–µ–∑ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç:', apartment.title);
                }
            });
            
            console.log(`–î–æ–±–∞–≤–ª–µ–Ω–æ –º–∞—Ä–∫–µ—Ä–æ–≤: ${addedMarkers}`);
            
            // –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º –∫–∞—Ä—Ç—É –Ω–∞ –º–∞—Ä–∫–µ—Ä–∞—Ö, –µ—Å–ª–∏ –æ–Ω–∏ –µ—Å—Ç—å
            if (addedMarkers > 0) {
                map.setBounds(map.geoObjects.getBounds(), { checkZoomRange: true });
            }
        }
        
        // –ì–ª–æ–±–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–∞—Ä—Ç—ã
        let detailMapInstance = null;
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –∫–∞—Ä—Ç—ã –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ
        function initDetailMap(apartmentId, lat, lng) {
            const mapElement = document.getElementById(`detail-map-${apartmentId}`);
            if (!mapElement) return;
            
            // –û—á–∏—â–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â—É—é –∫–∞—Ä—Ç—É
            mapElement.innerHTML = '';
            
            if (typeof ymaps === 'undefined') {
                mapElement.innerHTML = '<div style="padding: 20px; text-align: center; color: #e74c3c;">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–∞—Ä—Ç—ã</div>';
                return;
            }
            
            ymaps.ready(function() {
                try {
                    detailMapInstance = new ymaps.Map(mapElement, {
                        center: [lat, lng],
                        zoom: 15,
                        controls: ['zoomControl', 'fullscreenControl']
                    });
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º –º–∞—Ä–∫–µ—Ä –∫–≤–∞—Ä—Ç–∏—Ä—ã
                    const apartmentMarker = new ymaps.Placemark([lat, lng], {
                        balloonContent: '–í–∞—à–∞ –∫–≤–∞—Ä—Ç–∏—Ä–∞',
                        hintContent: '–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ –∫–≤–∞—Ä—Ç–∏—Ä—ã'
                    }, {
                        preset: 'islands#blueDotIcon'
                    });
                    
                    detailMapInstance.geoObjects.add(apartmentMarker);
                    
                } catch (error) {
                    console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –¥–µ—Ç–∞–ª—å–Ω–æ–π –∫–∞—Ä—Ç—ã:', error);
                    mapElement.innerHTML = '<div style="padding: 20px; text-align: center; color: #e74c3c;">–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞—Ä—Ç—ã</div>';
                }
            });
        }
        

        

        
        // –î–æ–±–∞–≤–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ä–∞–π–æ–Ω–µ –≤ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∫–≤–∞—Ä—Ç–∏—Ä—ã
        function addLocationDetailsToModal(apartment) {
            const district = districtData[apartment.district];
            if (!district) return '';
            
            let mapHtml = '';
            if (apartment.coordinates && apartment.coordinates.lat && apartment.coordinates.lng) {
                mapHtml = `
                    <div class="detail-map-container" style="margin: 1rem 0;">
                        <h4>üó∫Ô∏è –ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ –∫–≤–∞—Ä—Ç–∏—Ä—ã</h4>
                        <div id="detail-map-${apartment.id}" class="detail-map" style="height: 300px; border-radius: 8px; overflow: hidden;"></div>
                    </div>
                `;
            }
            

            
            return `
                <div class="apartment-location-details">
                    <h4>üìç –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–∞–π–æ–Ω–µ: ${district.name}</h4>
                    <p style="margin-bottom: 1rem; color: var(--secondary-color);">${district.description}</p>
                    ${mapHtml}
                </div>
            `;
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –∫–≤–∞—Ä—Ç–∏—Ä—ã –≤ –≤—ã–±—Ä–∞–Ω–Ω—ã–µ –¥–∞—Ç—ã
        function isApartmentAvailable(apartment, checkIn, checkOut) {
            if (!checkIn || !checkOut) return true;
            
            const checkInDate = new Date(checkIn);
            const checkOutDate = new Date(checkOut);
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –¥–∞—Ç–∞ –≤—ã–µ–∑–¥–∞ –±–æ–ª—å—à–µ –¥–∞—Ç—ã –∑–∞–µ–∑–¥–∞
            if (checkOutDate <= checkInDate) return false;
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è —Å –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –¥–∞—Ç–∞–º–∏
            if (apartment.bookedDates && Array.isArray(apartment.bookedDates)) {
                for (let booking of apartment.bookedDates) {
                    const bookingStart = new Date(booking.check_in);
                    const bookingEnd = new Date(booking.check_out);
                    
                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ –ø–µ—Ä–∏–æ–¥–æ–≤
                    if (checkInDate < bookingEnd && checkOutDate > bookingStart) {
                        return false;
                    }
                }
            }
            
            return true;
        }
        

        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Ñ–∏–ª—å—Ç—Ä–æ–≤
        function applyFilters() {
            const districtFilter = document.getElementById('district').value;
            const roomsFilter = document.getElementById('rooms').value;
            
            let filtered = apartments;
            
            // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ä–∞–π–æ–Ω—É
            if (districtFilter !== 'all') {
                filtered = filtered.filter(apartment => apartment.district === districtFilter);
            }
            
            // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –∫–æ–º–Ω–∞—Ç
            if (roomsFilter !== 'all') {
                if (roomsFilter === '4+') {
                    filtered = filtered.filter(apartment => apartment.rooms >= 4);
                } else {
                    filtered = filtered.filter(apartment => apartment.rooms === parseInt(roomsFilter));
                }
            }
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–≤–∞—Ä—Ç–∏—Ä—ã
            displayApartments(filtered);
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –º–∞—Ä–∫–µ—Ä—ã –Ω–∞ –∫–∞—Ä—Ç–µ
            updateMapMarkers(filtered);
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫ –∫–≤–∞—Ä—Ç–∏—Ä
            updateApartmentsCounter(filtered.length);
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∫–∞–∑–∞ –≤—Å–µ—Ö –∫–≤–∞—Ä—Ç–∏—Ä
        function showAllApartments() {
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ñ–∏–ª—å—Ç—Ä—ã
            document.getElementById('district').value = 'all';
            document.getElementById('rooms').value = 'all';
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—Å–µ –∫–≤–∞—Ä—Ç–∏—Ä—ã
            displayApartments(apartments);
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –º–∞—Ä–∫–µ—Ä—ã –Ω–∞ –∫–∞—Ä—Ç–µ
            updateMapMarkers(apartments);
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—á–µ—Ç—á–∏–∫
            updateApartmentsCounter(apartments.length);
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–∞—Ä–∫–µ—Ä–æ–≤ –Ω–∞ –∫–∞—Ä—Ç–µ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
        function updateMapMarkers(filteredApartments) {
            console.log('–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–∞—Ä–∫–µ—Ä–æ–≤ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏...');
            
            if (!map) {
                console.error('–ö–∞—Ä—Ç–∞ –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞!');
                return;
            }
            
            // –û—á–∏—â–∞–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –º–∞—Ä–∫–µ—Ä—ã
            markers.forEach(marker => map.geoObjects.remove(marker));
            markers = [];
            
            let addedMarkers = 0;
            
            filteredApartments.forEach(apartment => {
                if (apartment.coordinates && apartment.coordinates.lat && apartment.coordinates.lng) {
                    try {
                        const markerColor = apartment.status === 'available' ? '#27ae60' : '#e67e22';
                        
                        const marker = new ymaps.Placemark([apartment.coordinates.lat, apartment.coordinates.lng], {
                            balloonContent: `
                                <div style="padding: 10px; max-width: 250px;">
                                    <h3 style="margin: 0 0 5px 0; color: #2c3e50;">${apartment.title}</h3>
                                    <p style="margin: 0 0 5px 0; color: #7f8c8d;">${apartment.address}</p>
                                    <p style="margin: 0 0 5px 0; color: #7f8c8d;">${apartment.rooms} –∫–æ–º–Ω. ‚Ä¢ ${apartment.area} –º¬≤</p>
                                    <p style="margin: 0; color: ${markerColor}; font-weight: bold;">
                                        ${apartment.status === 'available' ? '–°–≤–æ–±–æ–¥–Ω–∞' : '–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∞'}
                                    </p>
                                    <button onclick="openApartmentModal(${apartment.id})" style="margin-top: 10px; padding: 5px 10px; background: #3498db; color: white; border: none; border-radius: 3px; cursor: pointer;">
                                        –ü–æ–¥—Ä–æ–±–Ω–µ–µ
                                    </button>
                                </div>
                            `,
                            hintContent: apartment.title
                        }, {
                            preset: apartment.status === 'available' ? 'islands#greenDotIcon' : 'islands#orangeDotIcon',
                            iconColor: markerColor
                        });
                        
                        map.geoObjects.add(marker);
                        markers.push(marker);
                        addedMarkers++;
                        
                    } catch (error) {
                        console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –º–∞—Ä–∫–µ—Ä–∞ –¥–ª—è –∫–≤–∞—Ä—Ç–∏—Ä—ã:', apartment.title, error);
                    }
                }
            });
            
            console.log(`–û–±–Ω–æ–≤–ª–µ–Ω–æ –º–∞—Ä–∫–µ—Ä–æ–≤: ${addedMarkers}`);
            
            // –ï—Å–ª–∏ –µ—Å—Ç—å –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–≤–∞—Ä—Ç–∏—Ä—ã, —Ü–µ–Ω—Ç—Ä–∏—Ä—É–µ–º –∫–∞—Ä—Ç—É –Ω–∞ –Ω–∏—Ö
            if (addedMarkers > 0) {
                map.setBounds(map.geoObjects.getBounds(), { checkZoomRange: true });
            }
        }
        

        
        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞–º–∏
        function saveApartmentsData() {
            localStorage.setItem('apartments', JSON.stringify(apartments));
        }
        
        function loadApartmentsData() {
            const saved = localStorage.getItem('apartments');
            if (saved) {
                const savedApartments = JSON.parse(saved);
                // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ –¥–∞–Ω–Ω—ã–µ, —Å–æ—Ö—Ä–∞–Ω—è—è —Å—Ç—Ä—É–∫—Ç—É—Ä—É
                apartments.forEach((apartment, index) => {
                    if (savedApartments[index]) {
                        apartment.status = savedApartments[index].status || apartment.status;
                        apartment.bookedDates = savedApartments[index].bookedDates || apartment.bookedDates;
                        apartment.pendingBookings = savedApartments[index].pendingBookings || apartment.pendingBookings;
                    }
                });
            }
        }
        

        

        
        // –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è Service Worker –¥–ª—è PWA
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then((registration) => {
                        console.log('SW registered: ', registration);
                    })
                    .catch((registrationError) => {
                        console.log('SW registration failed: ', registrationError);
                    });
            });
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è API –∑–∞–ø—Ä–æ—Å–æ–≤
        async function apiRequest(action, method = 'GET', data = null) {
            try {
                const options = {
                    method: method,
                    headers: {
                        'Content-Type': 'application/json',
                    }
                };
                
                if (data) {
                    options.body = JSON.stringify(data);
                }
                
                const response = await fetch(`api.php?action=${action}`, options);
                const result = await response.json();
                
                if (!result.success) {
                    throw new Error(result.message || '–û—à–∏–±–∫–∞ –∑–∞–ø—Ä–æ—Å–∞');
                }
                
                return result;
            } catch (error) {
                console.error('API Error:', error);
                throw error;
            }
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', function() {
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            checkUserAuth();
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ —Å —Å–µ—Ä–≤–µ—Ä–∞
            loadApartmentsFromServer();
            
            // –ü—Ä–∏–º–µ–Ω—è–µ–º —Ñ–∏–ª—å—Ç—Ä—ã –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
            applyFilters();
            
            // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∫–ª–∏–∫–∞ –Ω–∞ –ø—Ä–æ—Ñ–∏–ª—å
            document.addEventListener('click', function(e) {
                if (e.target.closest('.user-profile-icon')) {
                    console.log('Profile clicked, calling showPersonalAccount');
                    showPersonalAccount();
                }
            });
                

            

            

            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–æ–≤
            document.getElementById('district').addEventListener('change', applyFilters);
            document.getElementById('rooms').addEventListener('change', applyFilters);
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
            document.getElementById('close-modal').addEventListener('click', function() {
                document.getElementById('apartment-modal').style.display = 'none';
            });
            
            // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –µ–≥–æ
            window.addEventListener('click', function(event) {
                if (event.target === document.getElementById('apartment-modal')) {
                    document.getElementById('apartment-modal').style.display = 'none';
                }
                if (event.target === document.getElementById('booking-modal')) {
                    document.getElementById('booking-modal').style.display = 'none';
                }
            });
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
            document.getElementById('close-booking-modal').addEventListener('click', function() {
                document.getElementById('booking-modal').style.display = 'none';
            });
            
            document.getElementById('cancel-booking').addEventListener('click', function() {
                document.getElementById('booking-modal').style.display = 'none';
            });
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
            document.getElementById('confirm-booking').addEventListener('click', function() {
                confirmBooking();
            });
            
                    // –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
        let ADMIN_PASSWORD = localStorage.getItem('admin_password') || 'admin123'; // –ü–∞—Ä–æ–ª—å –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
            
            // –û—Ç–∫—Ä—ã—Ç–∏–µ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
            document.getElementById('admin-access-btn').addEventListener('click', function() {
                document.getElementById('admin-panel').style.display = 'flex';
                document.getElementById('admin-password').value = '';
                document.getElementById('admin-content').style.display = 'none';
            });
            
            // –ó–∞–∫—Ä—ã—Ç–∏–µ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
            document.getElementById('close-admin').addEventListener('click', function() {
                document.getElementById('admin-panel').style.display = 'none';
            });
            
            // –í—Ö–æ–¥ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
            document.getElementById('login-admin').addEventListener('click', function() {
                const password = document.getElementById('admin-password').value;
                if (password === ADMIN_PASSWORD) {
                    document.getElementById('admin-content').style.display = 'block';
                    loadAdminApartments();
                    loadPendingBookings();
                } else {
                    alert('–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å!');
                }
            });
            
            // –í—Ö–æ–¥ –ø–æ Enter
            document.getElementById('admin-password').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    document.getElementById('login-admin').click();
                }
            });
            
            // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∫–ª–∞–¥–æ–∫
            document.querySelectorAll('.admin-tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    const tabName = this.getAttribute('data-tab');
                    
                    // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —Å–æ –≤—Å–µ—Ö –≤–∫–ª–∞–¥–æ–∫
                    document.querySelectorAll('.admin-tab').forEach(t => t.classList.remove('active'));
                    document.querySelectorAll('.admin-tab-content').forEach(c => c.classList.remove('active'));
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å –∫ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –≤–∫–ª–∞–¥–∫–µ
                    this.classList.add('active');
                    document.getElementById(tabName + '-tab').classList.add('active');
                    
                    // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ
                    if (tabName === 'edit') {
                        loadEditApartments();
                    } else if (tabName === 'bookings') {
                        loadPendingBookings();
                    } else if (tabName === 'payments') {
                        loadPayments();
                    } else if (tabName === 'settings') {
                        // –ó–∞–≥—Ä—É–∂–∞–µ–º —Ç–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
                        document.getElementById('contact-phone').value = '+375 (25) 726-25-93';
                    }
                });
            });
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
            document.getElementById('close-edit-modal').addEventListener('click', closeEditModal);
            
            // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –µ–≥–æ
            window.addEventListener('click', function(event) {
                if (event.target === document.getElementById('edit-apartment-modal')) {
                    closeEditModal();
                }
            });
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
            document.getElementById('edit-apartment-form').addEventListener('submit', function(e) {
                e.preventDefault();
                saveApartment(this);
            });
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ —É–¥–∞–ª–µ–Ω–∏—è
            document.getElementById('delete-apartment-btn').addEventListener('click', function() {
                const form = document.getElementById('edit-apartment-form');
                const index = parseInt(form.getAttribute('data-index'));
                if (index !== null) {
                    deleteApartment(index);
                    closeEditModal();
                }
            });
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–µ–ª–µ—Ñ–æ–Ω–∞
            const phoneInputs = document.querySelectorAll('input[type="tel"]');
            phoneInputs.forEach(input => {
                input.addEventListener('input', function(e) {
                    const cursorPosition = this.selectionStart;
                    const oldValue = this.value;
                    const formattedValue = formatPhoneNumber(this.value);
                    
                    if (formattedValue !== oldValue) {
                        this.value = formattedValue;
                        // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø–æ–∑–∏—Ü–∏—é –∫—É—Ä—Å–æ—Ä–∞
                        const newCursorPosition = cursorPosition + (formattedValue.length - oldValue.length);
                        this.setSelectionRange(newCursorPosition, newCursorPosition);
                    }
                });
                
                input.addEventListener('blur', function() {
                    if (this.value && !validateBelarusPhone(this.value)) {
                        this.style.borderColor = 'var(--danger-color)';
                    } else if (this.value) {
                        this.style.borderColor = 'var(--success-color)';
                    }
                });
                
                input.addEventListener('focus', function() {
                    this.style.borderColor = 'var(--accent-color)';
                });
            });
            
            // –ö–Ω–æ–ø–∫–∞ "–ù–∞–≤–µ—Ä—Ö"
            const scrollToTopBtn = document.getElementById('scroll-to-top');
            
            window.addEventListener('scroll', function() {
                if (window.pageYOffset > 300) {
                    scrollToTopBtn.classList.add('visible');
                } else {
                    scrollToTopBtn.classList.remove('visible');
                }
            });
            
            scrollToTopBtn.addEventListener('click', function() {
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            });
            
            // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            function checkUserAuth() {
                const userData = localStorage.getItem('realtUser');
                console.log('checkUserAuth called, userData:', userData);
                
                if (userData) {
                    const user = JSON.parse(userData);
                    console.log('Parsed user:', user);
                    
                    if (user.isLoggedIn) {
                        console.log('User is logged in, showing user menu');
                        showUserMenu(user);
                    } else {
                        console.log('User is not logged in, showing login button');
                        showLoginButton();
                    }
                } else {
                    console.log('No user data found, showing login button');
                    showLoginButton();
                }
            }
            
            function showUserMenu(user) {
                const userMenu = document.getElementById('user-menu');
                const authBtn = document.getElementById('auth-btn');
                
                // –°–∫—Ä—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É "–í–æ–π—Ç–∏"
                authBtn.style.display = 'none';
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –º–µ–Ω—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                userMenu.style.display = 'flex';
            }
            
            function showLoginButton() {
                const userMenu = document.getElementById('user-menu');
                const authBtn = document.getElementById('auth-btn');
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É "–í–æ–π—Ç–∏"
                authBtn.style.display = 'inline-block';
                
                // –°–∫—Ä—ã–≤–∞–µ–º –º–µ–Ω—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                userMenu.style.display = 'none';
            }
            
            function logout() {
                if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –≤—ã–π—Ç–∏ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞?')) {
                    localStorage.removeItem('realtUser');
                    showLoginButton();
                    alert('–í—ã —É—Å–ø–µ—à–Ω–æ –≤—ã—à–ª–∏ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞');
                }
            }
            
            function showUserProfile() {
                showPersonalAccount();
            }
            
            function showUserBookings() {
                window.location.href = 'personal-account.html#bookings';
            }
            
            // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –æ–±—ä—è–≤–ª–µ–Ω–∏—è–º–∏ –∏ –ª–∏—á–Ω—ã–º –∫–∞–±–∏–Ω–µ—Ç–æ–º
            function showPostAdForm() {
                const modal = document.getElementById('post-ad-modal');
                modal.style.display = 'block';
            }
            
            function closePostAdModal() {
                const modal = document.getElementById('post-ad-modal');
                modal.style.display = 'none';
            }
            
            function showMyApartments() {
                const modal = document.getElementById('my-apartments-modal');
                modal.style.display = 'block';
                loadUserApartments();
            }
            
            function closeMyApartmentsModal() {
                const modal = document.getElementById('my-apartments-modal');
                modal.style.display = 'none';
            }
            
            function showPersonalAccount() {
                console.log('showPersonalAccount called');
                console.log('Redirecting to personal-account.html');
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è
                try {
                    console.log('About to redirect to personal-account.html');
                    window.location.href = 'personal-account.html';
                    console.log('Redirect initiated');
                } catch (error) {
                    console.error('Error during redirect:', error);
                    alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ: ' + error.message);
                }
            }
            

            

            
            async function loadUserApartments() {
                try {
                    const result = await apiRequest('get_user_apartments');
                    const container = document.getElementById('my-apartments-list');
                    
                    if (result.success && result.data) {
                        const userApartments = result.data;
                        
                        if (userApartments.length === 0) {
                            container.innerHTML = `
                                <div class="empty-state">
                                    <div class="empty-state-icon">üè†</div>
                                    <h4>–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –∫–≤–∞—Ä—Ç–∏—Ä</h4>
                                    <p>–î–æ–±–∞–≤—å—Ç–µ —Å–≤–æ—é –ø–µ—Ä–≤—É—é –∫–≤–∞—Ä—Ç–∏—Ä—É –¥–ª—è —Å–¥–∞—á–∏ –≤ –∞—Ä–µ–Ω–¥—É</p>
                                </div>
                            `;
                        } else {
                            container.innerHTML = userApartments.map(apartment => `
                                <div class="user-apartment-item">
                                    <div class="user-apartment-title">${apartment.title}</div>
                                    <div class="user-apartment-details">
                                        ${apartment.address} ‚Ä¢ ${apartment.rooms} –∫–æ–º–Ω. ‚Ä¢ ${apartment.area} –º¬≤
                                    </div>
                                    <div class="user-apartment-status">
                                        <span class="status-badge ${apartment.status}">${apartment.status === 'available' ? '–û–¥–æ–±—Ä–µ–Ω–∞' : apartment.status === 'pending' ? '–ù–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏' : '–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∞'}</span>
                                    </div>
                                    <div class="user-apartment-actions">
                                        <button class="btn btn-secondary" onclick="editUserApartment(${apartment.id})">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
                                        <button class="btn btn-primary" onclick="viewUserApartment(${apartment.id})">–ü—Ä–æ—Å–º–æ—Ç—Ä</button>
                                        <button class="btn btn-danger" onclick="deleteUserApartment(${apartment.id})">–£–¥–∞–ª–∏—Ç—å</button>
                                    </div>
                                </div>
                            `).join('');
                        }
                    } else {
                        container.innerHTML = `
                            <div class="empty-state">
                                <div class="empty-state-icon">‚ùå</div>
                                <h4>–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏</h4>
                                <p>–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –≤–∞—à–∏ –∫–≤–∞—Ä—Ç–∏—Ä—ã</p>
                            </div>
                        `;
                    }
                } catch (error) {
                    console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–≤–∞—Ä—Ç–∏—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:', error);
                    const container = document.getElementById('my-apartments-list');
                    container.innerHTML = `
                        <div class="empty-state">
                            <div class="empty-state-icon">‚ùå</div>
                            <h4>–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏</h4>
                            <p>–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –≤–∞—à–∏ –∫–≤–∞—Ä—Ç–∏—Ä—ã</p>
                        </div>
                    `;
                }
            }
            

            

            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ñ–æ—Ä–º—ã –ø–æ–¥–∞—á–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
            document.getElementById('post-ad-form').addEventListener('submit', function(e) {
                e.preventDefault();
                
                const userData = localStorage.getItem('realtUser');
                if (!userData) {
                    alert('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É');
                    return;
                }
                
                // –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º—ã
                if (!validateAdForm()) {
                    return;
                }
                
                const user = JSON.parse(userData);
                const selectedAmenities = Array.from(document.querySelectorAll('.amenity-item input:checked')).map(cb => cb.value);
                
                const formData = {
                    id: Date.now(),
                    userId: user.email,
                    title: document.getElementById('ad-title').value.trim(),
                    district: document.getElementById('ad-district').value,
                    address: document.getElementById('ad-address').value.trim(),
                    rooms: document.getElementById('ad-rooms').value,
                    floor: document.getElementById('ad-floor').value.trim(),
                    area: document.getElementById('ad-area').value.trim(),
                    description: document.getElementById('ad-description').value.trim(),
                    images: uploadedImages, // –ú–∞—Å—Å–∏–≤ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
                    price: document.getElementById('ad-price').value,
                    contact: document.getElementById('ad-contact').value.trim(),
                    amenities: selectedAmenities,
                    status: 'pending', // –°—Ç–∞—Ç—É—Å –º–æ–¥–µ—Ä–∞—Ü–∏–∏
                    createdAt: new Date().toISOString(),
                    moderated: false
                };
                
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –≤ –æ—á–µ—Ä–µ–¥—å –º–æ–¥–µ—Ä–∞—Ü–∏–∏
                const pendingApartments = JSON.parse(localStorage.getItem('pendingApartments') || '[]');
                pendingApartments.push(formData);
                localStorage.setItem('pendingApartments', JSON.stringify(pendingApartments));
                
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                const userApartments = JSON.parse(localStorage.getItem('userApartments') || '[]');
                userApartments.push(formData);
                localStorage.setItem('userApartments', JSON.stringify(userApartments));
                
                alert('–û–±—ä—è–≤–ª–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é! –ú—ã –ø—Ä–æ–≤–µ—Ä–∏–º –µ–≥–æ –≤ —Ç–µ—á–µ–Ω–∏–µ 24 —á–∞—Å–æ–≤.');
                closePostAdModal();
                document.getElementById('post-ad-form').reset();
                uploadedImages = [];
                updateImagePreview();
            });
            
            // –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º—ã –æ–±—ä—è–≤–ª–µ–Ω–∏—è
            function validateAdForm() {
                const title = document.getElementById('ad-title').value.trim();
                const district = document.getElementById('ad-district').value;
                const address = document.getElementById('ad-address').value.trim();
                const rooms = document.getElementById('ad-rooms').value;
                const floor = document.getElementById('ad-floor').value.trim();
                const area = document.getElementById('ad-area').value.trim();
                const description = document.getElementById('ad-description').value.trim();
                const price = document.getElementById('ad-price').value;
                const contact = document.getElementById('ad-contact').value.trim();
                
                if (!title || title.length < 10) {
                    alert('–ù–∞–∑–≤–∞–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è –¥–æ–ª–∂–Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 10 —Å–∏–º–≤–æ–ª–æ–≤');
                    return false;
                }
                
                if (!district) {
                    alert('–í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–π–æ–Ω');
                    return false;
                }
                
                if (!address || address.length < 5) {
                    alert('–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –∞–¥—Ä–µ—Å');
                    return false;
                }
                
                if (!rooms) {
                    alert('–í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–Ω–∞—Ç');
                    return false;
                }
                
                if (!floor) {
                    alert('–í–≤–µ–¥–∏—Ç–µ —ç—Ç–∞–∂');
                    return false;
                }
                
                if (!area) {
                    alert('–í–≤–µ–¥–∏—Ç–µ –ø–ª–æ—â–∞–¥—å –∫–≤–∞—Ä—Ç–∏—Ä—ã');
                    return false;
                }
                
                if (!description || description.length < 20) {
                    alert('–û–ø–∏—Å–∞–Ω–∏–µ –¥–æ–ª–∂–Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 20 —Å–∏–º–≤–æ–ª–æ–≤');
                    return false;
                }
                
                if (!price || price < 10) {
                    alert('–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Ü–µ–Ω—É (–º–∏–Ω–∏–º—É–º 10 BYN)');
                    return false;
                }
                
                if (!contact) {
                    alert('–í–≤–µ–¥–∏—Ç–µ –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω');
                    return false;
                }
                
                if (uploadedImages.length === 0) {
                    alert('–ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ö–æ—Ç—è –±—ã –æ–¥–Ω—É —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é');
                    return false;
                }
                
                return true;
            }
            
            // –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
            let uploadedImages = [];
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
            document.addEventListener('DOMContentLoaded', function() {
                const imageUploadArea = document.getElementById('image-upload-area');
                const imageInput = document.getElementById('ad-images');
                const imagePreview = document.getElementById('image-preview');
                
                // –ö–ª–∏–∫ –ø–æ –æ–±–ª–∞—Å—Ç–∏ –∑–∞–≥—Ä—É–∑–∫–∏
                imageUploadArea.addEventListener('click', function() {
                    imageInput.click();
                });
                
                // Drag and drop
                imageUploadArea.addEventListener('dragover', function(e) {
                    e.preventDefault();
                    this.classList.add('dragover');
                });
                
                imageUploadArea.addEventListener('dragleave', function(e) {
                    e.preventDefault();
                    this.classList.remove('dragover');
                });
                
                imageUploadArea.addEventListener('drop', function(e) {
                    e.preventDefault();
                    this.classList.remove('dragover');
                    const files = e.dataTransfer.files;
                    handleImageFiles(files);
                });
                
                // –í—ã–±–æ—Ä —Ñ–∞–π–ª–æ–≤
                imageInput.addEventListener('change', function(e) {
                    handleImageFiles(e.target.files);
                });
            });
            
            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
            function handleImageFiles(files) {
                Array.from(files).forEach(file => {
                    if (file.type.startsWith('image/')) {
                        if (file.size > 5 * 1024 * 1024) { // 5MB
                            alert(`–§–∞–π–ª ${file.name} —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π. –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä: 5MB`);
                            return;
                        }
                        
                        if (uploadedImages.length >= 10) {
                            alert('–ú–∞–∫—Å–∏–º—É–º 10 —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π');
                            return;
                        }
                        
                        const reader = new FileReader();
                        reader.onload = function(e) {
                            uploadedImages.push({
                                name: file.name,
                                data: e.target.result
                            });
                            updateImagePreview();
                        };
                        reader.readAsDataURL(file);
                    } else {
                        alert(`–§–∞–π–ª ${file.name} –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º`);
                    }
                });
            }
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞
            function updateImagePreview() {
                const imagePreview = document.getElementById('image-preview');
                imagePreview.innerHTML = '';
                
                uploadedImages.forEach((image, index) => {
                    const item = document.createElement('div');
                    item.className = 'image-preview-item';
                    item.innerHTML = `
                        <img src="${image.data}" alt="${image.name}">
                        <button class="remove-image" onclick="removeImage(${index})">&times;</button>
                    `;
                    imagePreview.appendChild(item);
                });
            }
            
            // –£–¥–∞–ª–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
            function removeImage(index) {
                uploadedImages.splice(index, 1);
                updateImagePreview();
            }
            

            
            // –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
            function editUserApartment(id) {
                alert('–§—É–Ω–∫—Ü–∏—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–≤–∞—Ä—Ç–∏—Ä—ã –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ –ø–æ–ª–Ω–æ–π –≤–µ—Ä—Å–∏–∏');
            }
            
            function viewUserApartment(id) {
                alert('–§—É–Ω–∫—Ü–∏—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∫–≤–∞—Ä—Ç–∏—Ä—ã –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ –ø–æ–ª–Ω–æ–π –≤–µ—Ä—Å–∏–∏');
            }
            
            // –°–∏—Å—Ç–µ–º–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏
            function approveApartment(id) {
                const pendingApartments = JSON.parse(localStorage.getItem('pendingApartments') || '[]');
                const apartment = pendingApartments.find(apt => apt.id === id);
                
                if (apartment) {
                    // –£–±–∏—Ä–∞–µ–º –∏–∑ –æ—á–µ—Ä–µ–¥–∏ –º–æ–¥–µ—Ä–∞—Ü–∏–∏
                    const updatedPending = pendingApartments.filter(apt => apt.id !== id);
                    localStorage.setItem('pendingApartments', JSON.stringify(updatedPending));
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º –≤ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ
                    apartment.status = 'available';
                    apartment.moderated = true;
                    apartment.approvedAt = new Date().toISOString();
                    
                    const allApartments = JSON.parse(localStorage.getItem('allApartments') || '[]');
                    allApartments.push(apartment);
                    localStorage.setItem('allApartments', JSON.stringify(allApartments));
                    
                    alert('–û–±—ä—è–≤–ª–µ–Ω–∏–µ –æ–¥–æ–±—Ä–µ–Ω–æ –∏ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ!');
                    loadPendingApartments(); // –û–±–Ω–æ–≤–ª—è–µ–º —Å–ø–∏—Å–æ–∫
                }
            }
            
            function rejectApartment(id) {
                const reason = prompt('–£–∫–∞–∂–∏—Ç–µ –ø—Ä–∏—á–∏–Ω—É –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è:');
                if (reason) {
                    const pendingApartments = JSON.parse(localStorage.getItem('pendingApartments') || '[]');
                    const updatedPending = pendingApartments.filter(apt => apt.id !== id);
                    localStorage.setItem('pendingApartments', JSON.stringify(updatedPending));
                    
                    alert('–û–±—ä—è–≤–ª–µ–Ω–∏–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–æ');
                    loadPendingApartments(); // –û–±–Ω–æ–≤–ª—è–µ–º —Å–ø–∏—Å–æ–∫
                }
            }
            
            function loadPendingApartments() {
                const pendingApartments = JSON.parse(localStorage.getItem('pendingApartments') || '[]');
                const container = document.getElementById('pending-apartments-list');
                
                if (pendingApartments.length === 0) {
                    container.innerHTML = '<p>–ù–µ—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏–π –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏</p>';
                } else {
                    container.innerHTML = pendingApartments.map(apartment => `
                        <div class="pending-apartment-item">
                            <h4>${apartment.title}</h4>
                            <p><strong>–ê–¥—Ä–µ—Å:</strong> ${apartment.address}</p>
                            <p><strong>–¶–µ–Ω–∞:</strong> ${apartment.price} BYN/—Å—É—Ç–∫–∏</p>
                            <p><strong>–ê–≤—Ç–æ—Ä:</strong> ${apartment.userId}</p>
                            <div class="pending-actions">
                                <button class="btn btn-success" onclick="approveApartment(${apartment.id})">–û–¥–æ–±—Ä–∏—Ç—å</button>
                                <button class="btn btn-danger" onclick="rejectApartment(${apartment.id})">–û—Ç–∫–ª–æ–Ω–∏—Ç—å</button>
                            </div>
                        </div>
                    `).join('');
                }
            }
            
            function deleteUserApartment(id) {
                if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç—É –∫–≤–∞—Ä—Ç–∏—Ä—É?')) {
                    const userApartments = JSON.parse(localStorage.getItem('userApartments') || '[]');
                    const updatedApartments = userApartments.filter(apt => apt.id !== id);
                    localStorage.setItem('userApartments', JSON.stringify(updatedApartments));
                    
                    loadUserApartments();
                    loadPersonalAccountData();
                    alert('–ö–≤–∞—Ä—Ç–∏—Ä–∞ —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω–∞');
                }
            }
            
            function viewBooking(id) {
                alert('–§—É–Ω–∫—Ü–∏—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ –ø–æ–ª–Ω–æ–π –≤–µ—Ä—Å–∏–∏');
            }
            
            function cancelBooking(id) {
                if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –æ—Ç–º–µ–Ω–∏—Ç—å —ç—Ç–æ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ?')) {
                    const userBookings = JSON.parse(localStorage.getItem('userBookings') || '[]');
                    const updatedBookings = userBookings.filter(booking => booking.id !== id);
                    localStorage.setItem('userBookings', JSON.stringify(updatedBookings));
                    
                    loadPersonalAccountData();
                    alert('–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ –æ—Ç–º–µ–Ω–µ–Ω–æ');
                }
            }
            
        });

        // –§—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ–≤–æ–¥–∞ —É–¥–æ–±—Å—Ç–≤ –Ω–∞ —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫
        function translateAmenity(amenity) {
            const translations = {
                'wifi': 'Wi-Fi',
                'air-conditioning': '–ö–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä',
                'washing-machine': '–°—Ç–∏—Ä–∞–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∞',
                'refrigerator': '–•–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫',
                'tv': '–¢–µ–ª–µ–≤–∏–∑–æ—Ä',
                'balcony': '–ë–∞–ª–∫–æ–Ω',
                'parking': '–ü–∞—Ä–∫–æ–≤–∫–∞',
                'furnished': '–ú–µ–±–ª–∏—Ä–æ–≤–∞–Ω–∞',
                'internet': '–ò–Ω—Ç–µ—Ä–Ω–µ—Ç',
                'kitchen': '–ö—É—Ö–Ω—è',
                'bathroom': '–°–∞–Ω—É–∑–µ–ª',
                'elevator': '–õ–∏—Ñ—Ç',
                'security': '–û—Ö—Ä–∞–Ω–∞',
                'gym': '–¢—Ä–µ–Ω–∞–∂–µ—Ä–Ω—ã–π –∑–∞–ª',
                'pool': '–ë–∞—Å—Å–µ–π–Ω',
                'sauna': '–°–∞—É–Ω–∞',
                'playground': '–î–µ—Ç—Å–∫–∞—è –ø–ª–æ—â–∞–¥–∫–∞',
                'underground-parking': '–ü–æ–¥–∑–µ–º–Ω–∞—è –ø–∞—Ä–∫–æ–≤–∫–∞',
                '24h-security': '–ö—Ä—É–≥–ª–æ—Å—É—Ç–æ—á–Ω–∞—è –æ—Ö—Ä–∞–Ω–∞',
                'concierge': '–ö–æ–Ω—Å—å–µ—Ä–∂',
                'microwave': '–ú–∏–∫—Ä–æ–≤–æ–ª–Ω–æ–≤–∫–∞',
                'dishwasher': '–ü–æ—Å—É–¥–æ–º–æ–µ—á–Ω–∞—è –º–∞—à–∏–Ω–∞',
                'heating': '–û—Ç–æ–ø–ª–µ–Ω–∏–µ',
                'loggia': '–õ–æ–¥–∂–∏—è',
                'terrace': '–¢–µ—Ä—Ä–∞—Å–∞',
                'garden': '–°–∞–¥',
                'barbecue': '–ú–∞–Ω–≥–∞–ª',
                'jacuzzi': '–î–∂–∞–∫—É–∑–∏',
                'fireplace': '–ö–∞–º–∏–Ω',
                'home-theater': '–î–æ–º–∞—à–Ω–∏–π –∫–∏–Ω–æ—Ç–µ–∞—Ç—Ä',
                'game-room': '–ò–≥—Ä–æ–≤–∞—è –∫–æ–º–Ω–∞—Ç–∞',
                'study-room': '–ö–∞–±–∏–Ω–µ—Ç',
                'wardrobe': '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω–∞—è',
                'pantry': '–ö–ª–∞–¥–æ–≤–∞—è',
                'laundry': '–ü—Ä–∞—á–µ—á–Ω–∞—è',
                'bicycle-storage': '–í–µ–ª–æ—Å–∏–ø–µ–¥–Ω–∞—è —Å—Ç–æ—è–Ω–∫–∞',
                'car-wash': '–ú–æ–π–∫–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π',
                'shuttle-service': '–¢—Ä–∞–Ω—Å—Ñ–µ—Ä',
                'cleaning-service': '–£–±–æ—Ä–∫–∞',
                'linen-service': '–ü–æ—Å—Ç–µ–ª—å–Ω–æ–µ –±–µ–ª—å–µ',
                'breakfast': '–ó–∞–≤—Ç—Ä–∞–∫',
                'dinner': '–£–∂–∏–Ω',
                'catering': '–ö–µ–π—Ç–µ—Ä–∏–Ω–≥',
                'transfer': '–¢—Ä–∞–Ω—Å—Ñ–µ—Ä',
                'guide': '–ì–∏–¥',
                'excursions': '–≠–∫—Å–∫—É—Ä—Å–∏–∏',
                'massage': '–ú–∞—Å—Å–∞–∂',
                'spa': '–°–ü–ê',
                'beauty-salon': '–°–∞–ª–æ–Ω –∫—Ä–∞—Å–æ—Ç—ã',
                'pharmacy': '–ê–ø—Ç–µ–∫–∞',
                'medical-center': '–ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–π —Ü–µ–Ω—Ç—Ä',
                'bank': '–ë–∞–Ω–∫',
                'atm': '–ë–∞–Ω–∫–æ–º–∞—Ç',
                'post-office': '–ü–æ—á—Ç–∞',
                'dry-cleaning': '–•–∏–º—á–∏—Å—Ç–∫–∞',
                'shoe-repair': '–†–µ–º–æ–Ω—Ç –æ–±—É–≤–∏',
                'key-cutting': '–ò–∑–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ –∫–ª—é—á–µ–π',
                'locksmith': '–°–ª–µ—Å–∞—Ä—å',
                'electrician': '–≠–ª–µ–∫—Ç—Ä–∏–∫',
                'plumber': '–°–∞–Ω—Ç–µ—Ö–Ω–∏–∫',
                'carpenter': '–ü–ª–æ—Ç–Ω–∏–∫',
                'painter': '–ú–∞–ª—è—Ä',
                'gardener': '–°–∞–¥–æ–≤–Ω–∏–∫',
                'pool-man': '–ë–∞—Å—Å–µ–π–Ω—â–∏–∫',
                'security-guard': '–û—Ö—Ä–∞–Ω–Ω–∏–∫',
                'doorman': '–®–≤–µ–π—Ü–∞—Ä',
                'maid': '–ì–æ—Ä–Ω–∏—á–Ω–∞—è',
                'cook': '–ü–æ–≤–∞—Ä',
                'driver': '–í–æ–¥–∏—Ç–µ–ª—å',
                'translator': '–ü–µ—Ä–µ–≤–æ–¥—á–∏–∫',
                'interpreter': '–¢–æ–ª–º–∞—á',
                'notary': '–ù–æ—Ç–∞—Ä–∏—É—Å',
                'lawyer': '–Æ—Ä–∏—Å—Ç',
                'accountant': '–ë—É—Ö–≥–∞–ª—Ç–µ—Ä',
                'taxi': '–¢–∞–∫—Å–∏',
                'rental-car': '–ê—Ä–µ–Ω–¥–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª—è',
                'bicycle-rental': '–ê—Ä–µ–Ω–¥–∞ –≤–µ–ª–æ—Å–∏–ø–µ–¥–∞',
                'scooter-rental': '–ê—Ä–µ–Ω–¥–∞ —Å–∞–º–æ–∫–∞—Ç–∞',
                'boat-rental': '–ê—Ä–µ–Ω–¥–∞ –ª–æ–¥–∫–∏',
                'fishing': '–†—ã–±–∞–ª–∫–∞',
                'hunting': '–û—Ö–æ—Ç–∞',
                'skiing': '–õ—ã–∂–∏',
                'snowboarding': '–°–Ω–æ—É–±–æ—Ä–¥',
                'golf': '–ì–æ–ª—å—Ñ',
                'tennis': '–¢–µ–Ω–Ω–∏—Å',
                'football': '–§—É—Ç–±–æ–ª',
                'basketball': '–ë–∞—Å–∫–µ—Ç–±–æ–ª',
                'volleyball': '–í–æ–ª–µ–π–±–æ–ª',
                'badminton': '–ë–∞–¥–º–∏–Ω—Ç–æ–Ω',
                'table-tennis': '–ù–∞—Å—Ç–æ–ª—å–Ω—ã–π —Ç–µ–Ω–Ω–∏—Å',
                'billiards': '–ë–∏–ª—å—è—Ä–¥',
                'darts': '–î–∞—Ä—Ç—Å',
                'chess': '–®–∞—Ö–º–∞—Ç—ã',
                'checkers': '–®–∞—à–∫–∏',
                'poker': '–ü–æ–∫–µ—Ä',
                'roulette': '–†—É–ª–µ—Ç–∫–∞',
                'slot-machines': '–ò–≥—Ä–æ–≤—ã–µ –∞–≤—Ç–æ–º–∞—Ç—ã',
                'karaoke': '–ö–∞—Ä–∞–æ–∫–µ',
                'dance-floor': '–¢–∞–Ω—Ü–ø–æ–ª',
                'live-music': '–ñ–∏–≤–∞—è –º—É–∑—ã–∫–∞',
                'dj': 'DJ',
                'band': '–ì—Ä—É–ø–ø–∞',
                'orchestra': '–û—Ä–∫–µ—Å—Ç—Ä',
                'theater': '–¢–µ–∞—Ç—Ä',
                'cinema': '–ö–∏–Ω–æ—Ç–µ–∞—Ç—Ä',
                'museum': '–ú—É–∑–µ–π',
                'gallery': '–ì–∞–ª–µ—Ä–µ—è',
                'library': '–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞',
                'bookstore': '–ö–Ω–∏–∂–Ω—ã–π –º–∞–≥–∞–∑–∏–Ω',
                'music-store': '–ú—É–∑—ã–∫–∞–ª—å–Ω—ã–π –º–∞–≥–∞–∑–∏–Ω',
                'sport-store': '–°–ø–æ—Ä—Ç–∏–≤–Ω—ã–π –º–∞–≥–∞–∑–∏–Ω',
                'clothing-store': '–ú–∞–≥–∞–∑–∏–Ω –æ–¥–µ–∂–¥—ã',
                'shoe-store': '–û–±—É–≤–Ω–æ–π –º–∞–≥–∞–∑–∏–Ω',
                'jewelry-store': '–Æ–≤–µ–ª–∏—Ä–Ω—ã–π –º–∞–≥–∞–∑–∏–Ω',
                'watch-store': '–ú–∞–≥–∞–∑–∏–Ω —á–∞—Å–æ–≤',
                'perfume-store': '–ü–∞—Ä—Ñ—é–º–µ—Ä–Ω—ã–π –º–∞–≥–∞–∑–∏–Ω',
                'cosmetics-store': '–ú–∞–≥–∞–∑–∏–Ω –∫–æ—Å–º–µ—Ç–∏–∫–∏',
                'toy-store': '–ú–∞–≥–∞–∑–∏–Ω –∏–≥—Ä—É—à–µ–∫',
                'pet-store': '–ó–æ–æ–º–∞–≥–∞–∑–∏–Ω',
                'flower-store': '–¶–≤–µ—Ç–æ—á–Ω—ã–π –º–∞–≥–∞–∑–∏–Ω',
                'gift-store': '–ú–∞–≥–∞–∑–∏–Ω –ø–æ–¥–∞—Ä–∫–æ–≤',
                'souvenir-store': '–ú–∞–≥–∞–∑–∏–Ω —Å—É–≤–µ–Ω–∏—Ä–æ–≤',
                'antique-store': '–ê–Ω—Ç–∏–∫–≤–∞—Ä–Ω—ã–π –º–∞–≥–∞–∑–∏–Ω',
                'furniture-store': '–ú–µ–±–µ–ª—å–Ω—ã–π –º–∞–≥–∞–∑–∏–Ω',
                'lighting-store': '–ú–∞–≥–∞–∑–∏–Ω –æ—Å–≤–µ—â–µ–Ω–∏—è',
                'carpet-store': '–ú–∞–≥–∞–∑–∏–Ω –∫–æ–≤—Ä–æ–≤',
                'curtain-store': '–ú–∞–≥–∞–∑–∏–Ω —à—Ç–æ—Ä',
                'wallpaper-store': '–ú–∞–≥–∞–∑–∏–Ω –æ–±–æ–µ–≤',
                'paint-store': '–ú–∞–≥–∞–∑–∏–Ω –∫—Ä–∞—Å–æ–∫',
                'hardware-store': '–•–æ–∑—è–π—Å—Ç–≤–µ–Ω–Ω—ã–π –º–∞–≥–∞–∑–∏–Ω',
                'garden-center': '–°–∞–¥–æ–≤—ã–π —Ü–µ–Ω—Ç—Ä',
                'nursery': '–ü–∏—Ç–æ–º–Ω–∏–∫',
                'greenhouse': '–¢–µ–ø–ª–∏—Ü–∞',
                'orchard': '–°–∞–¥',
                'vineyard': '–í–∏–Ω–æ–≥—Ä–∞–¥–Ω–∏–∫',
                'beehive': '–ü–∞—Å–µ–∫–∞',
                'chicken-coop': '–ö—É—Ä—è—Ç–Ω–∏–∫',
                'rabbit-hutch': '–ö—Ä–æ–ª—å—á–∞—Ç–Ω–∏–∫',
                'pigsty': '–°–≤–∏–Ω–∞—Ä–Ω–∏–∫',
                'cow-shed': '–ö–æ—Ä–æ–≤–Ω–∏–∫',
                'horse-stable': '–ö–æ–Ω—é—à–Ω—è',
                'sheep-pen': '–û–≤—á–∞—Ä–Ω—è',
                'goat-pen': '–ö–æ–∑–ª—è—Ç–Ω–∏–∫',
                'duck-pond': '–£—Ç–∏–Ω—ã–π –ø—Ä—É–¥',
                'fish-pond': '–†—ã–±–Ω—ã–π –ø—Ä—É–¥',
                'swimming-pool': '–ë–∞—Å—Å–µ–π–Ω',
                'hot-tub': '–ì–æ—Ä—è—á–∞—è –≤–∞–Ω–Ω–∞',
                'steam-room': '–ü–∞—Ä–Ω–∞—è',
                'infrared-sauna': '–ò–Ω—Ñ—Ä–∞–∫—Ä–∞—Å–Ω–∞—è —Å–∞—É–Ω–∞',
                'salt-room': '–°–æ–ª—è–Ω–∞—è –∫–æ–º–Ω–∞—Ç–∞',
                'ice-room': '–õ–µ–¥—è–Ω–∞—è –∫–æ–º–Ω–∞—Ç–∞',
                'snow-room': '–°–Ω–µ–∂–Ω–∞—è –∫–æ–º–Ω–∞—Ç–∞',
                'rain-room': '–î–æ–∂–¥–µ–≤–∞—è –∫–æ–º–Ω–∞—Ç–∞',
                'mist-room': '–¢—É–º–∞–Ω–Ω–∞—è –∫–æ–º–Ω–∞—Ç–∞',
                'aromatherapy': '–ê—Ä–æ–º–∞—Ç–µ—Ä–∞–ø–∏—è',
                'chromotherapy': '–•—Ä–æ–º–æ—Ç–µ—Ä–∞–ø–∏—è',
                'music-therapy': '–ú—É–∑—ã–∫–æ—Ç–µ—Ä–∞–ø–∏—è',
                'light-therapy': '–°–≤–µ—Ç–æ—Ç–µ—Ä–∞–ø–∏—è',
                'sound-therapy': '–ó–≤—É–∫–æ—Ç–µ—Ä–∞–ø–∏—è',
                'vibration-therapy': '–í–∏–±—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Ç–µ—Ä–∞–ø–∏—è',
                'magnetic-therapy': '–ú–∞–≥–Ω–∏—Ç–Ω–∞—è —Ç–µ—Ä–∞–ø–∏—è',
                'electrotherapy': '–≠–ª–µ–∫—Ç—Ä–æ—Ç–µ—Ä–∞–ø–∏—è',
                'ultrasound-therapy': '–£–ª—å—Ç—Ä–∞–∑–≤—É–∫–æ–≤–∞—è —Ç–µ—Ä–∞–ø–∏—è',
                'laser-therapy': '–õ–∞–∑–µ—Ä–Ω–∞—è —Ç–µ—Ä–∞–ø–∏—è',
                'cryotherapy': '–ö—Ä–∏–æ—Ç–µ—Ä–∞–ø–∏—è',
                'hyperthermia': '–ì–∏–ø–µ—Ä—Ç–µ—Ä–º–∏—è',
                'hypothermia': '–ì–∏–ø–æ—Ç–µ—Ä–º–∏—è',
                'oxygen-therapy': '–ö–∏—Å–ª–æ—Ä–æ–¥–Ω–∞—è —Ç–µ—Ä–∞–ø–∏—è',
                'ozone-therapy': '–û–∑–æ–Ω–æ–≤–∞—è —Ç–µ—Ä–∞–ø–∏—è',
                'hydrogen-therapy': '–í–æ–¥–æ—Ä–æ–¥–Ω–∞—è —Ç–µ—Ä–∞–ø–∏—è',
                'helium-therapy': '–ì–µ–ª–∏–µ–≤–∞—è —Ç–µ—Ä–∞–ø–∏—è',
                'neon-therapy': '–ù–µ–æ–Ω–æ–≤–∞—è —Ç–µ—Ä–∞–ø–∏—è',
                'argon-therapy': '–ê—Ä–≥–æ–Ω–æ–≤–∞—è —Ç–µ—Ä–∞–ø–∏—è',
                'krypton-therapy': '–ö—Ä–∏–ø—Ç–æ–Ω–æ–≤–∞—è —Ç–µ—Ä–∞–ø–∏—è',
                'xenon-therapy': '–ö—Å–µ–Ω–æ–Ω–æ–≤–∞—è —Ç–µ—Ä–∞–ø–∏—è',
                'radon-therapy': '–†–∞–¥–æ–Ω–æ–≤–∞—è —Ç–µ—Ä–∞–ø–∏—è',
                'uranium-therapy': '–£—Ä–∞–Ω–æ–≤–∞—è —Ç–µ—Ä–∞–ø–∏—è',
                'plutonium-therapy': '–ü–ª—É—Ç–æ–Ω–∏–µ–≤–∞—è —Ç–µ—Ä–∞–ø–∏—è',
                'thorium-therapy': '–¢–æ—Ä–∏–µ–≤–∞—è —Ç–µ—Ä–∞–ø–∏—è',
                'actinium-therapy': '–ê–∫—Ç–∏–Ω–∏–µ–≤–∞—è —Ç–µ—Ä–∞–ø–∏—è',
                'protactinium-therapy': '–ü—Ä–æ—Ç–∞–∫—Ç–∏–Ω–∏–µ–≤–∞—è —Ç–µ—Ä–∞–ø–∏—è',
                'neptunium-therapy': '–ù–µ–ø—Ç—É–Ω–∏–µ–≤–∞—è —Ç–µ—Ä–∞–ø–∏—è',
                'americium-therapy': '–ê–º–µ—Ä–∏—Ü–∏–µ–≤–∞—è —Ç–µ—Ä–∞–ø–∏—è',
                'curium-therapy': '–ö—é—Ä–∏–µ–≤–∞—è —Ç–µ—Ä–∞–ø–∏—è',
                'berkelium-therapy': '–ë–µ—Ä–∫–µ–ª–∏–µ–≤–∞—è —Ç–µ—Ä–∞–ø–∏—è',
                'californium-therapy': '–ö–∞–ª–∏—Ñ–æ—Ä–Ω–∏–µ–≤–∞—è —Ç–µ—Ä–∞–ø–∏—è',
                'einsteinium-therapy': '–≠–π–Ω—à—Ç–µ–π–Ω–∏–µ–≤–∞—è —Ç–µ—Ä–∞–ø–∏—è',
                'fermium-therapy': '–§–µ—Ä–º–∏–µ–≤–∞—è —Ç–µ—Ä–∞–ø–∏—è',
                'mendelevium-therapy': '–ú–µ–Ω–¥–µ–ª–µ–≤–∏–µ–≤–∞—è —Ç–µ—Ä–∞–ø–∏—è',
                'nobelium-therapy': '–ù–æ–±–µ–ª–µ–≤–∞—è —Ç–µ—Ä–∞–ø–∏—è',
                'lawrencium-therapy': '–õ–æ—É—Ä–µ–Ω—Å–∏–µ–≤–∞—è —Ç–µ—Ä–∞–ø–∏—è',
                'rutherfordium-therapy': '–†–µ–∑–µ—Ä—Ñ–æ—Ä–¥–∏–µ–≤–∞—è —Ç–µ—Ä–∞–ø–∏—è',
                'dubnium-therapy': '–î—É–±–Ω–∏–µ–≤–∞—è —Ç–µ—Ä–∞–ø–∏—è',
                'seaborgium-therapy': '–°–∏–±–æ—Ä–≥–∏–µ–≤–∞—è —Ç–µ—Ä–∞–ø–∏—è',
                'bohrium-therapy': '–ë–æ—Ä–∏–µ–≤–∞—è —Ç–µ—Ä–∞–ø–∏—è',
                'hassium-therapy': '–•–∞—Å—Å–∏–µ–≤–∞—è —Ç–µ—Ä–∞–ø–∏—è',
                'meitnerium-therapy': '–ú–µ–π—Ç–Ω–µ—Ä–∏–µ–≤–∞—è —Ç–µ—Ä–∞–ø–∏—è',
                'darmstadtium-therapy': '–î–∞—Ä–º—à—Ç–∞–¥—Ç–∏–µ–≤–∞—è —Ç–µ—Ä–∞–ø–∏—è',
                'roentgenium-therapy': '–†–µ–Ω—Ç–≥–µ–Ω–∏–µ–≤–∞—è —Ç–µ—Ä–∞–ø–∏—è',
                'copernicium-therapy': '–ö–æ–ø–µ—Ä–Ω–∏–∫–∏–µ–≤–∞—è —Ç–µ—Ä–∞–ø–∏—è',
                'nihonium-therapy': '–ù–∏—Ö–æ–Ω–∏–µ–≤–∞—è —Ç–µ—Ä–∞–ø–∏—è',
                'flerovium-therapy': '–§–ª–µ—Ä–æ–≤–∏–µ–≤–∞—è —Ç–µ—Ä–∞–ø–∏—è',
                'moscovium-therapy': '–ú–æ—Å–∫–æ–≤–∏–µ–≤–∞—è —Ç–µ—Ä–∞–ø–∏—è',
                'livermorium-therapy': '–õ–∏–≤–µ—Ä–º–æ—Ä–∏–µ–≤–∞—è —Ç–µ—Ä–∞–ø–∏—è',
                'tennessine-therapy': '–¢–µ–Ω–Ω–µ—Å—Å–∏–µ–≤–∞—è —Ç–µ—Ä–∞–ø–∏—è',
                'oganesson-therapy': '–û–≥–∞–Ω–µ—Å–æ–Ω–æ–≤–∞—è —Ç–µ—Ä–∞–ø–∏—è'
            };
            return translations[amenity] || amenity;
        }

        // –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—á–µ—Ç—á–∏–∫–∞ –∫–≤–∞—Ä—Ç–∏—Ä
        function updateApartmentsCounter(count = null) {
            const counter = count !== null ? count : apartments.length;
            
            // –°–æ–∑–¥–∞–µ–º –∏–ª–∏ –Ω–∞—Ö–æ–¥–∏–º —ç–ª–µ–º–µ–Ω—Ç —Å—á–µ—Ç—á–∏–∫–∞
            let counterElement = document.querySelector('.apartments-counter');
            if (!counterElement) {
                counterElement = document.createElement('div');
                counterElement.className = 'apartments-counter';
                counterElement.style.cssText = `
                    position: fixed;
                    top: 15px;
                    right: 15px;
                    background: linear-gradient(135deg, #3498db, #2980b9);
                    color: white;
                    padding: 0.4rem 0.8rem;
                    border-radius: 15px;
                    font-size: 0.8rem;
                    font-weight: 600;
                    z-index: 1000;
                    box-shadow: 0 3px 15px rgba(52, 152, 219, 0.3);
                    opacity: 0;
                    transform: translateY(-15px);
                    transition: all 0.4s ease;
                    backdrop-filter: blur(10px);
                    border: 1px solid rgba(255, 255, 255, 0.2);
                `;
                document.body.appendChild(counterElement);
            }
            
            counterElement.textContent = `–ù–∞–π–¥–µ–Ω–æ –∫–≤–∞—Ä—Ç–∏—Ä: ${counter}`;
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—á–µ—Ç—á–∏–∫
            counterElement.style.opacity = '1';
            counterElement.style.transform = 'translateY(0)';
            
            // –°–∫—Ä—ã–≤–∞–µ–º —á–µ—Ä–µ–∑ 4 —Å–µ–∫—É–Ω–¥—ã
            setTimeout(() => {
                if (counterElement && counterElement.parentElement) {
                    counterElement.style.opacity = '0';
                    counterElement.style.transform = 'translateY(-15px)';
                    
                    // –£–¥–∞–ª—è–µ–º —ç–ª–µ–º–µ–Ω—Ç —á–µ—Ä–µ–∑ 0.4 —Å–µ–∫—É–Ω–¥—ã –ø–æ—Å–ª–µ –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—è
                    setTimeout(() => {
                        if (counterElement && counterElement.parentElement) {
                            counterElement.remove();
                        }
                    }, 400);
                }
            }, 4000);
        }

        // –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—á–µ—Ç—á–∏–∫–∞ –∫–≤–∞—Ä—Ç–∏—Ä
    </script>
</body>
</html>